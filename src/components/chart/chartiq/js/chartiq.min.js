!function(){var t,e="2019/03/14",i=void 0;if(t=new Date(e).getTime()){var a=(new Date).getTime();if(t<=a)alert("This license has expired!"),console.error("This license has expired!");else if(e){var r=Math.round((t-a)/864e5);r<3&&(alert("This trial license expires in "+r+" days!"),console.log("WARNING: This trial license expires in "+r+" days!"))}}if(i){for(var n=document.location.href,s=!1,o=0;o<i.length;o++)if(-1<n.indexOf(i[o])){s=!0;break}s||(alert("ERROR: Not licensed for domain "+n),console.error("ERROR: Not licensed for domain "+n))}}(),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():e(t)}(this,function(t){function J(){}var h,i,e,c,a,r,u,n,s,o,p,l,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N,L,I,O,R,z,W,V,H,B,j,U,Y,G,q,K,X,Z,Q,$,tt,et,it,at;function rt(){}function nt(){}function st(){}function ot(){}function lt(){}function ht(){}function ct(){}function ut(){}function pt(){}function dt(){}function gt(){}function ft(){}function mt(){}function yt(){}function vt(){}function bt(){}function St(){}function xt(){}return function(){var e=[arguments];function t(){var t=[arguments];for(t[7]=2;63!==t[7];)switch(t[7]){case 51:t[5]+=e[1],t[5]+=e[5],t[82]=t[8],t[7]=48;break;case 12:t[1]="",t[7]=11;break;case 42:t[4]=t[9],t[7]=41;break;case 32:t[9]+=e[9],t[9]+=e[3],t[9]+=e[5],t[9]+=e[4],t[7]=28;break;case 18:t[70]=1,t[3]=t[2],t[3]+=e[2],t[3]+=t[1],t[7]=27;break;case 13:t[6]="u",t[7]=12;break;case 4:t[8]="O",t[53]=null,t[83]="",t[7]=8;break;case 11:t[1]="",t[7]=10;break;case 27:t[3]+=t[6],t[3]+=e[5],t[9]=e[8],t[9]+=e[5],t[7]=23;break;case 28:t[9]+=e[1],t[9]+=e[6],t[7]=43;break;case 36:t[5]=e[7],t[5]+=e[4],t[5]+=e[5],t[5]+=e[2],t[7]=51;break;case 20:t[2]="",t[7]=19;break;case 19:t[2]="v",t[7]=18;break;case 23:t[9]+=t[30],t[9]+=e[35],t[9]+=e[82],t[9]+=e[5],t[9]+=t[83],t[9]+=e[4],t[7]=32;break;case 46:t[82]+=e[5],t[82]+=e[7],t[82]+=e[1];try{for(t[29]=2;4!==t[29];)switch(t[29]){case 2:t[35]=t[0][0][t[82]][t[5]](t[51]),t[35][t[38]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[82]][t[4]]((0,t[0][1])(t[0][0]),t[0][3],t[35]),t[29]=4;break}}catch(t){}t[7]=63;break;case 38:t[51]=t[70],t[7]=37;break;case 10:t[1]="l",t[7]=20;break;case 6:t[30]="f",t[7]=14;break;case 40:t[38]=t[3],t[7]=39;break;case 2:t[28]="j",t[45]="",t[7]=5;break;case 5:t[45]="b",t[7]=4;break;case 43:t[4]=e[39],t[7]=42;break;case 41:t[38]=e[39],t[7]=40;break;case 14:t[6]="",t[7]=13;break;case 37:t[51]=t[53],t[7]=36;break;case 8:t[83]="P",t[7]=7;break;case 48:t[82]+=t[45],t[82]+=t[28],t[7]=46;break;case 39:t[51]=t[70],t[7]=38;break;case 7:t[30]="",t[7]=6;break}}for(e[66]=2;51!==e[66];)switch(e[66]){case 15:e[2]="a",e[66]=27;break;case 44:e[44]=e[72],e[66]=43;break;case 10:e[8]="d",e[9]="o",e[97]="C",e[66]=18;break;case 21:e[12]="3",e[66]=35;break;case 32:e[72]=e[42],e[72]+=e[78],e[72]+=e[12],e[72]+=e[12],e[44]=e[39],e[66]=44;break;case 6:e[1]="t",e[66]=14;break;case 7:e[1]="",e[66]=6;break;case 27:e[22]="h",e[7]="",e[66]=25;break;case 43:e[63]=e[7],e[63]+=e[22],e[66]=41;break;case 35:e[78]="2",e[42]="",e[66]=33;break;case 14:e[33]="",e[66]=13;break;case 9:e[35]="i",e[1]="",e[66]=7;break;case 52:t(e[0][0],function(){var t=[arguments];for(t[4]=2;25!==t[4];)switch(t[4]){case 6:t[3]+=e[82],t[3]+=t[7],t[6]=e[3],t[6]+=e[4],t[4]=11;break;case 18:t[6]+=e[6],t[6]+=e[3],t[6]+=e[5],t[5]=e[39],t[4]=27;break;case 10:t[6]+=e[1],t[6]+=e[9],t[6]+=e[1],t[4]=18;break;case 3:t[3]=t[9],t[3]+=e[1],t[3]+=e[4],t[3]+=e[35],t[4]=6;break;case 1:t[7]="g",t[4]=5;break;case 11:t[6]+=e[9],t[4]=10;break;case 26:return t[0][0][t[5]][t[6]];break;case 5:t[9]="",t[4]=4;break;case 4:t[9]="S",t[4]=3;break;case 2:t[7]="",t[4]=1;break;case 27:t[5]=t[3],t[4]=26;break}},e[63],e[44]),e[66]=51;break;case 12:e[5]="",e[66]=11;break;case 5:e[3]="p",e[82]="",e[66]=3;break;case 33:e[42]="z",e[66]=32;break;case 22:e[12]="",e[66]=21;break;case 16:e[2]="",e[66]=15;break;case 37:e[63]+=e[8],e[63]+=e[5],e[63]+=e[33],e[63]+=e[1],e[66]=52;break;case 2:e[6]="",e[66]=1;break;case 25:e[7]="c",e[66]=24;break;case 1:e[6]="y",e[66]=5;break;case 41:e[63]+=e[2],e[63]+=e[4],e[63]+=e[97],e[63]+=e[9],e[66]=37;break;case 18:e[4]="r",e[2]="",e[66]=16;break;case 13:e[33]="A",e[66]=12;break;case 11:e[5]="e",e[66]=10;break;case 24:e[39]="",e[66]=23;break;case 3:e[82]="n",e[66]=9;break;case 23:e[39]="",e[66]=22;break}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),J.V8=function(){return"function"==typeof J.R8.C8?J.R8.C8.apply(J.R8,arguments):J.R8.C8},J.G8=function(){return"function"==typeof J.R8.g8?J.R8.g8.apply(J.R8,arguments):J.R8.g8},J.l1=function(){return"function"==typeof J.M1.G7?J.M1.G7.apply(J.M1,arguments):J.M1.G7},J.O8=function(){return"function"==typeof J.R8.G7?J.R8.G7.apply(J.R8,arguments):J.R8.G7},J.B1=function(){return"function"==typeof J.M1.G7?J.M1.G7.apply(J.M1,arguments):J.M1.G7},J.H8=function(){return"function"==typeof J.R8.C8?J.R8.C8.apply(J.R8,arguments):J.R8.C8},J.L8=function(){return"function"==typeof J.R8.G7?J.R8.G7.apply(J.R8,arguments):J.R8.G7},J.M1=(h=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.z233(o)|(255&t.z233(o+1))<<8|(255&t.z233(o+2))<<16|(255&t.z233(o+3))<<24;l=h(l,a),n=5*(n=(524287&(n^=l=h(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.z233(s+2))<<16;case 2:l|=(255&t.z233(s+1))<<8;case 1:l|=255&t.z233(s),l=h(l,a),n^=l=h(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=h(n^=n>>>16,2246822507),n=h(n^=n>>>13,3266489909),n^=n>>>16}}),J.R8={C8:function(){var t,e=arguments;switch(i){case 15:t=e[2]+e[1]-e[0];break;case 22:t=-e[3]*e[2]-e[0]+e[1];break;case 1:t=e[2]-e[1]/e[0]+e[3];break;case 19:t=-e[0]/e[1];break;case 18:t=(e[2]*-e[4]/e[5]-e[1])*-e[3]/e[0];break;case 11:t=e[0]*e[3]-e[2]-e[1];break;case 20:t=e[3]*(e[2]+e[0])-e[4]-e[1];break;case 6:t=e[1]*(e[2]-e[0])-e[3];break;case 14:t=e[1]/(e[0]|e[2]);break;case 4:t=e[1]/e[0];break;case 12:t=e[0]/e[1]*e[2]-e[3];break;case 21:t=e[1]/e[2]*e[0];break;case 5:t=e[2]-e[1]*e[0];break;case 3:t=e[1]+e[0];break;case 8:t=e[1]-e[0];break;case 16:t=e[0]-e[1]+e[2];break;case 9:t=(e[1]+e[0])/e[2];break;case 10:t=e[1]*e[0];break;case 13:t=e[0]/+e[1];break;case 0:t=e[4]*e[0]*e[1]*e[3]-e[2];break;case 7:t=e[0]|e[1];break;case 17:t=e[2]-e[4]+e[3]+e[1]+e[0];break;case 2:t=e[3]+e[2]/e[1]-e[0];break}return t},g8:function(t){i=t}},J.F8=function(){return"function"==typeof J.R8.g8?J.R8.g8.apply(J.R8,arguments):J.R8.g8},e=function(t){var Q;return(Q=t.CIQ).ChartEngine.prototype.drawHeatmap=function(F,t){var e,_,E,N,i,L,a,I,O,r,R,z,W,n,V=J;if(t&&t.length&&((e=F.panel)||(e="chart"),_=this.panels[e])){E=F.yAxis?F.yAxis:_.yAxis,N=this.chart.dataSegment,F.name||(F.name="Data"),F.widthFactor||(F.widthFactor=1),F.height||(F.height=Math.pow(10,1-(_.decimalPlaces||_.chart.decimalPlaces))),i="stx-float-date",this.canvasFont(i,W),L=this.getCanvasFontSize(i),a=.5,_.chart.tmpWidth<=1&&(a=0),O=I=null,r=2;for(var s=1;-388594939!==V.l1(s.toString(),s.toString().length,236);s++)R=this,z=1,r+=2;2099700244!==V.l1(r.toString(),r.toString().length,38594)&&(R=this,V.F8(10),z=V.H8(1,"5")),z=null,(R=this).startClip(e),W=this.chart.context;for(var o=0;o<t.length;o++)l((n=t[o]).field,n.color,n.opacity,null,F.widthFactor,n.border_color?a:-a/4),n.border_color&&2<=this.layout.candleWidth&&l(n.field,n.border_color,n.opacity,!0,F.widthFactor,a);W.lineWidth=1,W.globalAlpha=1,this.endClip()}function l(t,e,i,a,r,n){var s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x;W.beginPath(),W.fillStyle=e,W.strokeStyle=e,W.textAlign="center",s=R.layout.candleWidth*r,o=Math.floor(R.pixelFromBar(0,_.chart)-R.layout.candleWidth),u=2;for(var k=1;1067307476!==V.l1(k.toString(),k.toString().length,97480);k++)""!==-i&&(W.globalAlpha=F.opacity),u+=2;if(-1402300594!==V.l1(u.toString(),u.toString().length,86277)&&"number"==typeof i&&(W.globalAlpha=F.opacity),"object"==typeof i){p=2;for(var w=1;-198698142!==V.l1(w.toString(),w.toString().length,24637);w++)c={minOpacity:i.min&&5,maxOpacity:i.max&&2},p+=2;329161773!==V.B1(p.toString(),p.toString().length,40472)&&(c={minOpacity:i.min||0,maxOpacity:i.max||1})}for(var C=0;C<N.length;C++){if((d=N[C])&&d.candleWidth){if(0===C)o+=R.layout.candleWidth;else{V.F8(0);var T=V.H8(30,15,44548,11,9);o+=(d.candleWidth+s/r)/T}s=d.candleWidth*r}else o+=R.layout.candleWidth;if(V.G8(1),l=V.H8(2,s,o,n),V.F8(2),(h=V.H8(n,2,s,o))-l<2&&(V.G8(3),h=V.H8(1,l)),d&&(g=d[t])){"number"==typeof g&&(g=[g]);for(var D=0;D<g.length;D++){if(m=0,(f=g[D])instanceof Array){if(c){V.G8(4);var M=V.H8(10,20);V.F8(5);var A=V.V8(10,6,61);V.F8(6);var P=V.V8(14,4,15,3);W.globalAlpha=f[M]*c.maxOpacity+(A-f["2"*P])*c.minOpacity}m=f[1],f=f[0]}y=R.pixelFromPrice(f,_,E),z||(v=R.pixelFromPrice(f+F.height*(E.flipped?1:-1),_,E),V.F8(7),W.lineWidth=V.H8("1",0),V.F8(8),I=V.V8(y,v),V.F8(4),O=V.H8(2,I),z=W.lineWidth),a?(V.F8(8),b=V.H8(O,y),V.F8(3),S=V.V8(O,y),V.G8(8),W.rect(l,b,V.V8(l,h),V.V8(b,S))):(V.G8(8),W.fillRect(l,V.V8(O,y),V.H8(l,h),I),F.showSize&&m&&L<=I-2&&(x=W.globalAlpha,W.fillStyle=R.defaultColor,W.globalAlpha=.5,V.F8(9),W.fillText(m,V.V8(l,h,2),y),W.fillStyle=e,W.globalAlpha=x)),c&&f instanceof Array&&(W.globalAlpha=0)}}}a&&W.stroke(),W.globalAlpha=1,W.closePath()}},Q.ChartEngine.prototype.drawCandles=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N,L,I,O,R,z,W,V,H=J;if(!(a=t.chart)){r=2;for(var B=1;1848993888!==H.l1(B.toString(),B.toString().length,88314);B++)t=(a=t).chart,H.G8(7),r+=H.V8("2",0);-533081055!==H.l1(r.toString(),r.toString().length,14475)&&(t=(a=t).chart)}if(s=n=!1,o=null,l=t.yAxis,i&&"object"==typeof i){n=i.isOutline,H.F8(7),h=H.V8("1071694819",0),c=2;for(var j=1;1226717322!==H.B1(j.toString(),j.toString().length,33659);j++)s=i.isHistogram,o=i.field,c+=2;H.B1(c.toString(),c.toString().length,387)!==h&&(s=i.isHistogram,o=i.field),l=i.yAxis}else{n=i,u=2;for(var U=1;-279097544!==H.B1(U.toString(),U.toString().length,42627);U++)s=arguments[3],u+=2;130200644!==H.l1(u.toString(),u.toString().length,47675)&&(s=arguments[4])}p=a.dataSegment,d=a.context,g=l.top,f=l.bottom,b=new Array(p.length),S="t",S+="ranspa",S+="re",S+="nt",x="transparent",k=0,H.G8(8);var Y=H.V8(13,14);w=a.dataSet.length-a.scroll-Y,C={},H.F8(11);var G=H.H8(3,30,7,13);T=a.tmpWidth/G,D=this.layout.candleWidth,H.F8(12);var q=H.H8(20,5,15,59);M=t.left-.5*D+this.micropixels-q;for(var K=0;K<=p.length;K++)if(A=T,H.F8(13),M+=H.V8(D,"2"),D=this.layout.candleWidth,H.F8(14),M+=H.H8("2",D,0),(P=p[K])&&!P.projection){if(P.candleWidth){H.G8(8);var X=H.V8(9,11);M+=(P.candleWidth-D)/X,D=P.candleWidth,(i.isVolume||D<a.tmpWidth)&&(H.G8(4),A=H.V8(2,D))}if(a.transformFunc&&l==a.panel.yAxis&&P.transform&&(P=P.transform),P&&o&&(P=P[o]),(P||0===P)&&(F=P.Close,_=void 0===P.Open?F:P.Open,s&&a.defaultPlotField&&(F=P[a.defaultPlotField]),(F||0===F)&&(s||_!=F&&null!==_)&&(E=e(this,P,n?"outline":"solid")))){if(n?S=E:x=E,C[x]=1,Q.isTransparent(S)||(k=.5),d.beginPath(),d.fillStyle=x,P.cache||(P.cache={}),N=P.cache,H.F8(3),(L=H.V8(K,w))<t.cacheLeft||L>t.cacheRight||!N.open){if(I=l.semiLog?l.height*(1-(Math.log(Math.max(_,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-_)*l.multiplier,O=l.semiLog?l.height*(1-(Math.log(Math.max(F,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-F)*l.multiplier,l.flipped?(H.F8(8),I=H.V8(I,f),H.F8(8),O=H.V8(O,f)):(I+=g,O+=g),b[K]=O,m=Math.floor(s?O:Math.min(I,O))+k,y=s?l.bottom:Math.max(I,O),H.F8(8),v=Math.floor(H.V8(m,y)),m<g){if(m+v<g){N.open=m,N.close=m;continue}H.G8(8),v-=H.H8(m,g),m=g}f<m+v&&(H.F8(15),v-=H.V8(f,v,m)),v=Math.max(v,2),N.open=m,N.close=N.open+v}N.open>=f||N.close<=g||(R=Math.floor(M)+.5,z=Math.floor(R-A)+k,W=Math.round(R+A)-k,N.open!=N.close&&d.rect(z,N.open,Math.max(1,W-z),Math.max(1,N.close-N.open)),"transparent"!=x&&d.fill(),k&&(d.lineWidth=1,i.highlight&&(d.lineWidth*=2),d.strokeStyle=S,d.stroke()))}}for(var Z in V={colors:[],cache:b},C)i.hollow&&Q.equals(Z,this.containerColor)||V.colors.push(Z);return V},Q.ChartEngine.prototype.drawShadows=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P=J;(a=t.chart)||(t=(a=t).chart),r=a.dataSegment,(n=this.chart.context).lineWidth=1,i.highlight&&(n.lineWidth*=2),s=i.field,l=(o=i.yAxis||t.yAxis).top,h=o.bottom,c=a.dataSet.length-a.scroll-1,u=this.layout.candleWidth,p=t.left-.5*u+this.micropixels-1;for(var F=0;F<=r.length;F++)if(P.F8(4),p+=P.H8(2,u),u=this.layout.candleWidth,P.G8(4),p+=P.H8(2,u),(d=r[F])&&!d.projection){if(d.candleWidth){P.F8(16);var _=P.V8(16,17,3);p+=(d.candleWidth-u)/_,u=d.candleWidth}if((g=e(this,d,"shadow"))&&(a.transformFunc&&o==a.panel.yAxis&&d.transform&&(d=d.transform),d&&s&&(d=d[s]),(d||0===d)&&(f=d.Close,m=void 0===d.Open?f:d.Open,y=void 0===d.High?Math.max(f,m):d.High,v=void 0===d.Low?Math.min(f,m):d.Low,f||0===f))){if(d.cache||(d.cache={}),b=d.cache,P.F8(3),(S=P.H8(F,c))<t.cacheLeft||S>t.cacheRight||!b.top){if(x=o.semiLog?o.height*(1-(Math.log(Math.max(y,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-y)*o.multiplier,k=o.semiLog?o.height*(1-(Math.log(Math.max(v,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-v)*o.multiplier,o.flipped?(P.F8(8),x=P.H8(x,h),P.F8(8),k=P.V8(k,h)):(x+=l,k+=l),P.G8(8),w=P.H8(x,k),x<l){if(x+w<l){b.top=x,b.bottom=x;continue}P.G8(8),w-=P.H8(x,l),x=l}h<x+w&&(P.G8(15),w-=P.H8(h,w,x)),b.top=x,b.bottom=b.top+w}b.top>=h||b.bottom<=l||(C=Math.floor(p)+.5,n.beginPath(),f==m&&(T=this.offset,i.isVolume&&(P.F8(4),T=P.H8(2,u)),P.G8(8),D=P.H8(T,C),P.G8(3),M=P.V8(T,C),A=o.semiLog?o.height*(1-(Math.log(Math.max(f,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-f)*o.multiplier,o.flipped?(P.G8(8),A=P.H8(A,h)):A+=l,A<=h&&l<=A&&(n.moveTo(D,A),n.lineTo(M,A))),y!=v&&(n.moveTo(C,b.top),n.lineTo(C,b.bottom)),n.strokeStyle=g,n.stroke())}}},Q.ChartEngine.prototype.drawBarChart=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N=J;if((r=t.chart)||(t=(r=t).chart),n=r.dataSegment,s=new Array(n.length),o=r.context,(l=this.canvasStyle(e)).width&&parseInt(l.width,10)<=25)o.lineWidth=Math.max(1,Q.stripPX(l.width));else{h=2;for(var L=1;-1093686830!==N.l1(L.toString(),L.toString().length,37531);L++)o.lineWidth=1,h+=2;-845117737!==N.l1(h.toString(),h.toString().length,16952)&&(o.lineWidth=6)}a.highlight&&(o.lineWidth*=2),c=a.field,p=(u=a.yAxis||t.yAxis).top,d=u.bottom,N.F8(17);var I=N.V8(4,17,16,17,53);f=r.dataSet.length-r.scroll-I,m={},N.F8(8);var O=N.H8(11,13);y=r.tmpWidth/O,v=o.lineWidth/2,b=this.layout.candleWidth,S=t.left-.5*b+this.micropixels-1;for(var R=0;R<=n.length;R++)if(N.G8(4),S+=N.H8(2,b),b=this.layout.candleWidth,N.G8(4),S+=N.H8(2,b),x=n[R]){if(x.projection)break;if(x.candleWidth){N.F8(18);var z=N.H8(4,1,14,1,1,2);S+=(x.candleWidth-b)/z,b=x.candleWidth}if((k=i(this,x))&&(m[k]=1,o.strokeStyle=k,o.beginPath(),r.transformFunc&&u==r.panel.yAxis&&x.transform&&(x=x.transform),x&&c&&(x=x[c]),(x||0===x)&&(w=x.Close,C=void 0===x.Open?w:x.Open,T=void 0===x.High?Math.max(w,C):x.High,D=void 0===x.Low?Math.min(w,C):x.Low,w||0===w))){if(x.cache||(x.cache={}),M=x.cache,N.F8(3),(A=N.H8(R,f))<t.cacheLeft||A>t.cacheRight||!M.top){if(P=this.pixelFromTransformedValue(T,t,u),F=this.pixelFromTransformedValue(D,t,u),M.open=u.semiLog?u.height*(1-(Math.log(Math.max(C,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-C)*u.multiplier,M.close=u.semiLog?u.height*(1-(Math.log(Math.max(w,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-w)*u.multiplier,u.flipped?(M.open=u.bottom-M.open,M.close=u.bottom-M.close):(M.open+=u.top,M.close+=u.top),s[R]=M.close,N.F8(8),g=N.H8(P,F),P<p){if(P+g<p){M.top=P,M.bottom=P;continue}N.F8(8),g-=N.V8(P,p),P=p}d<P+g&&(N.G8(15),g-=N.V8(d,g,P)),M.top=P,N.G8(3),M.bottom=N.V8(g,P)}_=Math.floor(S)+.5,M.top<d&&M.bottom>p&&x.High!=x.Low&&(o.moveTo(_,M.top-v),o.lineTo(_,M.bottom+v)),"hlc"!=a.type&&M.open>p&&M.open<d&&(o.moveTo(_,M.open),N.F8(8),o.lineTo(N.V8(y,_),M.open)),M.close>p&&M.close<d&&(o.moveTo(_,M.close),N.F8(3),o.lineTo(N.V8(y,_),M.close)),o.stroke()}}for(var W in N.G8(7),o.lineWidth=N.V8("1",0),E={colors:[],cache:s},m)Q.equals(W,this.containerColor)||E.colors.push(W);return E},Q.ChartEngine.prototype.drawWaveChart=function(e,t){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M=J;i=2;for(var A=1;1386211906!==M.B1(A.toString(),A.toString().length,35878);A++)r=(a=e.chart).dataSegment,M.G8(10),i+=M.H8(1,"2");function P(t){return d.pixelFromTransformedValue(t,e,o)}95225745!==M.B1(i.toString(),i.toString().length,40832)&&(r=(a=e.chart).dataSegment),n=new Array(r.length),s=a.context,t||(t={}),o=t.yAxis||e.yAxis,this.startClip(e.name),s.beginPath(),h=l=!1,c=e.yAxis.top,u=e.yAxis.bottom,M.G8(19);var F=M.H8(1,2);p=e.left+Math.floor(F*this.layout.candleWidth+this.micropixels),d=this;for(var _=0;_<=r.length;_++)if(p+=this.layout.candleWidth,g=r[_]){if(g.projection)break;if(a.transformFunc&&o==a.panel.yAxis&&g.transform&&(g=g.transform),g&&t.field&&(g=g[t.field]),(g||0===g)&&(f=g.Close,m=void 0===g.Open?f:g.Open,y=void 0===g.High?Math.max(f,m):g.High,v=void 0===g.Low?Math.min(f,m):g.Low,f||0===f)){if(M.G8(20),b=p-M.V8(2,61,13,5,11)*this.layout.candleWidth/8,(S=P(m))<c){if(S=c,h){s.moveTo(b,S);continue}h=!0}else if(u<S){if(S=u,h){s.moveTo(b,S);continue}h=!0}else h=!1;if(l)s.lineTo(b,S);else{l=!0,M.G8(21);var E=M.H8(19,14,266);(x=a.dataSet.length-a.scroll-E)<0?s.moveTo(b,S):0<=x&&((k=a.dataSet[x]).transform&&(k=k.transform),w=P(w=k.Close),w=Math.min(Math.max(w,c),u),s.moveTo(e.left+(_-1)*this.layout.candleWidth+this.micropixels,w),s.lineTo(b,S)),s.moveTo(b,S)}b+=this.layout.candleWidth/4,m<f?((S=P(v))<c&&(S=c),u<S&&(S=u),s.lineTo(b,S),b+=this.layout.candleWidth/4,(S=P(y))<c&&(S=c)):((S=P(y))<c&&(S=c),u<S&&(S=u),s.lineTo(b,S),b+=this.layout.candleWidth/4,(S=P(v))<c&&(S=c)),u<S&&(S=u),s.lineTo(b,S),b+=this.layout.candleWidth/4,S=P(f),(n[_]=S)<c&&(S=c),u<S&&(S=u),s.lineTo(b,S)}}if((C=this.canvasStyle("stx_line_chart")).width&&parseInt(C.width,10)<=25){T=2;for(var N=1;-1357483352!==M.l1(N.toString(),N.toString().length,30904);N++)s.lineWidth=Math.max(9,Q.stripPX(C.width)),T+=2;1891614030!==M.B1(T.toString(),T.toString().length,87650)&&(s.lineWidth=Math.max(1,Q.stripPX(C.width)))}else s.lineWidth=1;return t.highlight&&(s.lineWidth*=2),this.canvasColor("stx_line_chart"),t.color&&(s.strokeStyle=t.color),s.stroke(),s.closePath(),D={colors:[s.strokeStyle],cache:n},this.endClip(),M.G8(10),s.lineWidth=M.V8(1,"1"),D},Q.ChartEngine.prototype.scatter=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x=J;a=(i=t.chart).dataSegment,r=new Array(a.length),n=this.chart.context,this.canvasColor("stx_scatter_chart"),e||(e={}),s=e.field||i.defaultPlotField,o=e.yAxis||t.yAxis,l=e.subField||i.defaultPlotField||"Close",this.startClip(t.name),n.beginPath(),n.lineWidth=e.lineWidth||4,e.highlight&&(n.lineWidth*=2),e.color&&(n.strokeStyle=e.color),h=o.top,c=o.bottom,u=this.layout.candleWidth,x.F8(22);var k=x.H8(15,256,15,16);p=t.left-.5*u+this.micropixels-k;for(var w=0;w<=a.length;w++)if(x.G8(4),p+=x.H8(2,u),u=this.layout.candleWidth,x.G8(4),p+=x.V8(2,u),d=a[w]){if(d.candleWidth){x.G8(4);var C=x.H8(8,16);p+=(d.candleWidth-u)/C,u=d.candleWidth}if(!d.projection){i.transformFunc&&o==i.panel.yAxis&&d.transform&&(d=d.transform),(g=d[s])&&void 0!==g[l]&&(g=g[l]),g instanceof Array||(g=[g]),"Scatter"in d&&(g=d.Scatter);for(var T=0;T<g.length;T++)(g[T]||0===g[T])&&(f=g[T],m=0,g[T]instanceof Array&&(f=g[T][0],m=g[T][2]),y=o.semiLog?o.height*(1-(Math.log(Math.max(f,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-f)*o.multiplier,o.flipped?(x.F8(8),y=x.V8(y,c)):y+=h,y<h||c<y||(v=2,m&&(x.G8(10),v=x.H8(m,u)),x.G8(8),n.moveTo(x.H8(v,p),y),x.G8(3),n.lineTo(x.H8(v,p),y),r[w]=y))}}b=2;for(var D=1;-1111273977!==x.B1(D.toString(),D.toString().length,33543);D++)n.stroke(),n.closePath(),S={colors:[n.strokeStyle],cache:r},this.endClip(),n.lineWidth=9,b+=2;return-1153284174!==x.B1(b.toString(),b.toString().length,45887)&&(n.stroke(),n.closePath(),S={colors:[n.strokeStyle],cache:r},this.endClip(),n.lineWidth=1),S},t},function(){var e=[arguments];function t(){var t=[arguments];for(t[7]=2;63!==t[7];)switch(t[7]){case 51:t[5]+=e[1],t[5]+=e[5],t[82]=t[8],t[7]=48;break;case 12:t[1]="",t[7]=11;break;case 42:t[4]=t[9],t[7]=41;break;case 32:t[9]+=e[9],t[9]+=e[3],t[9]+=e[5],t[9]+=e[4],t[7]=28;break;case 18:t[70]=1,t[3]=t[2],t[3]+=e[2],t[3]+=t[1],t[7]=27;break;case 13:t[6]="u",t[7]=12;break;case 4:t[8]="O",t[53]=null,t[83]="",t[7]=8;break;case 11:t[1]="",t[7]=10;break;case 27:t[3]+=t[6],t[3]+=e[5],t[9]=e[8],t[9]+=e[5],t[7]=23;break;case 28:t[9]+=e[1],t[9]+=e[6],t[7]=43;break;case 36:t[5]=e[7],t[5]+=e[4],t[5]+=e[5],t[5]+=e[2],t[7]=51;break;case 20:t[2]="",t[7]=19;break;case 19:t[2]="v",t[7]=18;break;case 23:t[9]+=t[30],t[9]+=e[35],t[9]+=e[82],t[9]+=e[5],t[9]+=t[83],t[9]+=e[4],t[7]=32;break;case 46:t[82]+=e[5],t[82]+=e[7],t[82]+=e[1];try{for(t[29]=2;4!==t[29];)switch(t[29]){case 2:t[35]=t[0][0][t[82]][t[5]](t[51]),t[35][t[38]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[82]][t[4]]((0,t[0][1])(t[0][0]),t[0][3],t[35]),t[29]=4;break}}catch(t){}t[7]=63;break;case 38:t[51]=t[70],t[7]=37;break;case 10:t[1]="l",t[7]=20;break;case 6:t[30]="f",t[7]=14;break;case 40:t[38]=t[3],t[7]=39;break;case 2:t[28]="j",t[45]="",t[7]=5;break;case 5:t[45]="b",t[7]=4;break;case 43:t[4]=e[39],t[7]=42;break;case 41:t[38]=e[39],t[7]=40;break;case 14:t[6]="",t[7]=13;break;case 37:t[51]=t[53],t[7]=36;break;case 8:t[83]="P",t[7]=7;break;case 48:t[82]+=t[45],t[82]+=t[28],t[7]=46;break;case 39:t[51]=t[70],t[7]=38;break;case 7:t[30]="",t[7]=6;break}}for(e[66]=2;51!==e[66];)switch(e[66]){case 15:e[2]="a",e[66]=27;break;case 44:e[44]=e[72],e[66]=43;break;case 10:e[8]="d",e[9]="o",e[97]="C",e[66]=18;break;case 21:e[12]="B",e[66]=35;break;case 32:e[72]=e[42],e[72]+=e[78],e[72]+=e[12],e[72]+=e[12],e[44]=e[39],e[66]=44;break;case 6:e[1]="t",e[66]=14;break;case 7:e[1]="",e[66]=6;break;case 27:e[22]="h",e[7]="",e[66]=25;break;case 43:e[63]=e[7],e[63]+=e[22],e[66]=41;break;case 35:e[78]="7",e[42]="",e[66]=33;break;case 14:e[33]="",e[66]=13;break;case 9:e[35]="i",e[1]="",e[66]=7;break;case 52:t(e[0][0],function(){var t=[arguments];for(t[4]=2;25!==t[4];)switch(t[4]){case 6:t[3]+=e[82],t[3]+=t[7],t[6]=e[3],t[6]+=e[4],t[4]=11;break;case 18:t[6]+=e[6],t[6]+=e[3],t[6]+=e[5],t[5]=e[39],t[4]=27;break;case 10:t[6]+=e[1],t[6]+=e[9],t[6]+=e[1],t[4]=18;break;case 3:t[3]=t[9],t[3]+=e[1],t[3]+=e[4],t[3]+=e[35],t[4]=6;break;case 1:t[7]="g",t[4]=5;break;case 11:t[6]+=e[9],t[4]=10;break;case 26:return t[0][0][t[5]][t[6]];break;case 5:t[9]="",t[4]=4;break;case 4:t[9]="S",t[4]=3;break;case 2:t[7]="",t[4]=1;break;case 27:t[5]=t[3],t[4]=26;break}},e[63],e[44]),e[66]=51;break;case 12:e[5]="",e[66]=11;break;case 5:e[3]="p",e[82]="",e[66]=3;break;case 33:e[42]="D",e[66]=32;break;case 22:e[12]="",e[66]=21;break;case 16:e[2]="",e[66]=15;break;case 37:e[63]+=e[8],e[63]+=e[5],e[63]+=e[33],e[63]+=e[1],e[66]=52;break;case 2:e[6]="",e[66]=1;break;case 25:e[7]="c",e[66]=24;break;case 1:e[6]="y",e[66]=5;break;case 41:e[63]+=e[2],e[63]+=e[4],e[63]+=e[97],e[63]+=e[9],e[66]=37;break;case 18:e[4]="r",e[2]="",e[66]=16;break;case 13:e[33]="A",e[66]=12;break;case 11:e[5]="e",e[66]=10;break;case 24:e[39]="",e[66]=23;break;case 3:e[82]="n",e[66]=9;break;case 23:e[39]="",e[66]=22;break}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),rt.K71=function(){return"function"==typeof rt.S21.C8?rt.S21.C8.apply(rt.S21,arguments):rt.S21.C8},rt.B9V=function(){return"function"==typeof rt.G9V.g8?rt.G9V.g8.apply(rt.G9V,arguments):rt.G9V.g8},rt.x21=function(){return"function"==typeof rt.S21.G7?rt.S21.G7.apply(rt.S21,arguments):rt.S21.G7},rt.s9V=function(){return"function"==typeof rt.G9V.C8?rt.G9V.C8.apply(rt.G9V,arguments):rt.G9V.C8},rt.V9V=function(){return"function"==typeof rt.G9V.G7?rt.G9V.G7.apply(rt.G9V,arguments):rt.G9V.G7},rt.G9V=(c=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.D7BB(o)|(255&t.D7BB(o+1))<<8|(255&t.D7BB(o+2))<<16|(255&t.D7BB(o+3))<<24;l=c(l,a),n=5*(n=(524287&(n^=l=c(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.D7BB(s+2))<<16;case 2:l|=(255&t.D7BB(s+1))<<8;case 1:l|=255&t.D7BB(s),l=c(l,a),n^=l=c(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=c(n^=n>>>16,2246822507),n=c(n^=n>>>13,3266489909),n^=n>>>16}}),rt.U9V=function(){return"function"==typeof rt.G9V.G7?rt.G9V.G7.apply(rt.G9V,arguments):rt.G9V.G7},rt.C9V=function(){return"function"==typeof rt.G9V.C8?rt.G9V.C8.apply(rt.G9V,arguments):rt.G9V.C8},rt.S21={C8:function(){var t,e=arguments;switch(a){case 11:t=(e[2]*e[3]+e[0])/e[1];break;case 7:t=e[1]|e[0];break;case 19:t=e[1]/(e[0]*e[2]);break;case 17:t=e[2]%e[3]%(e[0]+e[1]);break;case 13:t=e[2]+e[0]-e[1];break;case 3:t=e[2]-e[1]+e[0];break;case 10:t=e[3]+e[0]-e[2]*e[1];break;case 20:t=e[2]%(e[1]-e[0]);break;case 9:t=e[1]+e[2]-(e[3]-e[0]);break;case 29:t=e[2]/e[3]+e[0]/e[1];break;case 5:t=e[0]-+e[1];break;case 21:t=e[1]+e[0]/e[2];break;case 35:t=-e[0];break;case 31:t=e[2]*(e[1]-e[0])-e[3];break;case 4:t=e[0]+ +e[2]-e[1];break;case 28:t=-e[0]-e[4]-e[3]+e[2]+e[1];break;case 15:t=e[3]*e[2]+e[1]*e[0];break;case 23:t=(e[4]+e[2])*e[3]/e[5]+-e[0]/e[1];break;case 24:t=-e[0]-e[2]+e[1];break;case 1:t=e[0]+e[1];break;case 27:t=e[0]+ +e[2]+e[1];break;case 34:t=(e[2]-e[0])/(e[1]-e[3])>e[4];break;case 30:t=e[0]*e[1]-e[2];break;case 32:t=e[2]-(e[1]-e[0]);break;case 18:t=e[2]+e[0]/(e[1]-e[3]);break;case 22:t=e[2]-e[1]/e[0];break;case 26:t=e[0]-+e[1]+e[2];break;case 25:t=e[2]+e[1]+e[0]+e[3];break;case 8:t=e[0]+(e[2]|e[1]);break;case 16:t=e[1]/e[0];break;case 12:t=e[1]*e[0];break;case 6:t=e[0]-e[2]-e[1];break;case 0:t=e[1]-e[0];break;case 14:t=e[0]%e[1];break;case 33:t=(e[0]-e[2])/e[1];break;case 2:t=e[0]+e[1]+e[2];break}return t},g8:function(t){a=t}},rt.d71=function(){return"function"==typeof rt.S21.C8?rt.S21.C8.apply(rt.S21,arguments):rt.S21.C8},rt.P21=function(){return"function"==typeof rt.S21.G7?rt.S21.G7.apply(rt.S21,arguments):rt.S21.G7},rt.O9V=function(){return"function"==typeof rt.G9V.g8?rt.G9V.g8.apply(rt.G9V,arguments):rt.G9V.g8},rt.b71=function(){return"function"==typeof rt.S21.g8?rt.S21.g8.apply(rt.S21,arguments):rt.S21.g8},rt.e71=function(){return"function"==typeof rt.S21.g8?rt.S21.g8.apply(rt.S21,arguments):rt.S21.g8},r=function(t){var U,w;return U=t.CIQ,w=t.timezoneJS,U.Drawing=function(){this.chartsOnly=!1,this.penDown=!1},U.Drawing.getDrawingParameters=function(t,e){var i,a,r,n,s;try{i=new U.Drawing[e]}catch(t){}if(!i)return null;i.stx=t,i.copyConfig(!0),a={},r=i.configs;for(var o=0;o<r.length;o++)a[r[o]]=i[r[o]];n=2;for(var l=1;-288152321!==rt.V9V(l.toString(),l.toString().length,80635);l++)s=t.canvasStyle("stx_annotation"),n+=2;return 2081758727!==rt.V9V(n.toString(),n.toString().length,48884)&&(s=t.canvasStyle("")),s&&a.font&&(a.font.size=s.fontSize,a.font.family=s.fontFamily,a.font.style=s.fontStyle,a.font.weight=s.fontWeight),a},U.Drawing.saveConfig=function(t,e){var i,a,r;if(e){(i=t.preferences).drawings||(i.drawings={}),i.drawings[e]={},(a=new U.Drawing[e]).stx=t,U.Drawing.copyConfig(a),a.configs.forEach(function(t){i.drawings[e][t]=a[t]}),r=2;for(var n=1;848312136!==rt.U9V(n.toString(),n.toString().length,37498);n++)t.changeOccurred(""),r+=2;1691714410!==rt.U9V(r.toString(),r.toString().length,86983)&&t.changeOccurred(""),t.changeOccurred("preferences")}},U.Drawing.restoreDefaultConfig=function(t,e,i){i?t.preferences.drawings=null:t.preferences.drawings[e]=null,t.changeOccurred("preferences"),t.currentVectorParameters=U.clone(U.ChartEngine.currentVectorParameters),t.currentVectorParameters.vectorType=e},U.Drawing.initializeSettings=function(t,e){var i,a,r=rt;i=2;for(var n=1;993135304!==r.V9V(n.toString(),n.toString().length,60831);n++)a=U.Drawing[e],r.b71(0),i+=r.K71(0,"2");1989090270!==r.U9V(i.toString(),i.toString().length,96466)&&(a=U.Drawing[e]),(a=U.Drawing[e])&&(drawInstance=new a,drawInstance.initializeSettings&&drawInstance.initializeSettings(t))},U.Drawing.prototype.copyConfig=function(t){U.Drawing.copyConfig(this,t)},U.Drawing.copyConfig=function(t,e){var i,a,r,n,s;for(i=t.stx.currentVectorParameters,a=t.configs,r=0;r<a.length;r++)"color"==(n=a[r])?t.color=i.currentColor:"parameters"==n?t.parameters=U.clone(i.fibonacci):"font"==n?t.font=U.clone(i.annotation.font):t[n]=i[n];if(e&&(s=t.stx.preferences)&&s.drawings)for(U.extend(t,s.drawings[i.vectorType]),r=0;r<a.length;r++)"color"==(n=a[r])?i.currentColor=t.color:"parameters"==n?i.fibonacci=U.clone(t.parameters):"font"==n?i.annotation.font=U.clone(t.font):i[n]=t[n]},U.Drawing.prototype.dragToDraw=!1,U.Drawing.prototype.permanent=!1,U.Drawing.prototype.chartsOnly=!1,U.Drawing.prototype.abort=function(t){},U.Drawing.prototype.measure=function(){},U.Drawing.prototype.construct=function(t,e){var i;this.stx=t,i=2;for(var a=1;-1685509e3!==rt.U9V(a.toString(),a.toString().length,47410);a++)this.panelName=e.name,i+=2;-1363897036!==rt.U9V(i.toString(),i.toString().length,92488)&&(this.panelName=e.name),this.panelName=e.name},U.Drawing.prototype.render=function(t){console.warn("must implement render function!")},U.Drawing.prototype.click=function(t,e,i){var a;a=2;for(var r=1;58901266!==rt.V9V(r.toString(),r.toString().length,52335);r++)console.warn("must implement click function!"),a+=2;-1013311712!==rt.V9V(a.toString(),a.toString().length,76700)&&console.warn("")},U.Drawing.prototype.move=function(t,e,i){var a;a=2;for(var r=1;-1639198118!==rt.V9V(r.toString(),r.toString().length,91623);r++)console.warn(""),a+=2;-2051098807!==rt.U9V(a.toString(),a.toString().length,49838)&&console.warn("must implement move function!")},U.Drawing.prototype.reposition=function(t,e,i,a){},U.Drawing.prototype.intersected=function(t,e,i){console.warn("must implement intersected function!")},U.Drawing.prototype.reconstruct=function(t,e){console.warn("must implement reconstruct function!")},U.Drawing.prototype.serialize=function(){console.warn("must implement serialize function!")},U.Drawing.prototype.adjust=function(){console.warn("must implement adjust function!")},U.Drawing.prototype.highlight=function(t){var e;if(t&&!this.highlighted){e=2;for(var i=1;463339738!==rt.U9V(i.toString(),i.toString().length,51620);i++)this.highlighted=t,e+=2;1045338606!==rt.U9V(e.toString(),e.toString().length,31416)&&(this.highlighted=t)}else!t&&this.highlighted&&(this.highlighted=t);return this.highlighted},U.Drawing.prototype.littleCircleRadius=function(){return 6},U.Drawing.prototype.littleCircle=function(t,e,i,a){var r,n;this.permanent||(r=this.stx.defaultColor,n=U.chooseForegroundColor(r),t.beginPath(),t.lineWidth=1,t.arc(e,i,this.littleCircleRadius(),0,2*Math.PI,!1),t.fillStyle=a?r:n,t.strokeStyle=r,t.setLineDash([]),t.fill(),t.stroke(),t.closePath())},U.Drawing.prototype.rotator=function(t,e,i,a){var r,n,s,o=rt;this.permanent||(r=this.littleCircleRadius(),n=this.stx.defaultColor,t.beginPath(),t.lineWidth=2,a||(t.globalAlpha=.5),o.b71(1),s=o.K71(4,r),t.arc(e,i,s,0,3*Math.PI/2,!1),o.b71(2),t.moveTo(o.d71(e,2,s),o.K71(i,2,o.e71(1))),o.e71(1),t.lineTo(o.K71(e,s),i),o.e71(3),t.lineTo(o.d71(s,2,e),o.K71(i,2,o.e71(1))),o.b71(0),t.moveTo(o.d71(2,e),o.K71(i,s,"2",o.e71(4))),o.b71(0),t.lineTo(e,o.K71(s,i)),o.b71(5),t.lineTo(o.d71(e,"2"),o.K71(i,s,2,o.b71(6))),t.strokeStyle=n,t.stroke(),t.closePath(),o.b71(7),t.globalAlpha=o.K71(0,"1"))},U.Drawing.prototype.mover=function(t,e,i,a){var r,n,s,o=rt;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,o.e71(8),s=o.K71(r,0,"1"),t.save(),t.lineWidth=2,t.strokeStyle=n,t.translate(e,i),a||(t.globalAlpha=.5);for(var l=0;l<4;l++)t.rotate(Math.PI/2),t.beginPath(),t.moveTo(0,s),o.b71(1),t.lineTo(0,o.d71(s,5)),o.e71(9),t.moveTo(-2,o.K71(0,s,5,"2")),o.b71(7),t.lineTo(o.K71(0,"0"),o.d71(s,5,o.e71(1))),o.e71(10),t.lineTo(2,o.K71(5,1,"2",s)),t.closePath(),t.stroke();t.globalAlpha=1,t.restore()}},U.Drawing.prototype.resizer=function(t,e,i,a){var r,n,s,o,l=rt;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,l.b71(11),s=l.K71(15,318,63,25)*Math.sqrt(2),l.b71(1),o=l.K71(r,1),t.save(),t.lineWidth=2,t.strokeStyle=n,t.translate(e,i),t.rotate(-e*i/Math.abs(e*i)*Math.PI/4),a||(t.globalAlpha=.5);for(var h=0;h<2;h++)t.rotate(Math.PI),t.beginPath(),t.moveTo(0,o),l.e71(12),t.lineTo(l.d71(1,"0"),l.d71(o,s,l.e71(1))),l.b71(13),t.moveTo(-2,l.K71(s,2,o)),l.b71(1),t.lineTo(0,l.K71(o,s)),l.b71(13),t.lineTo(2,l.K71(s,2,o)),t.closePath(),t.stroke();t.globalAlpha=1,t.restore()}},U.Drawing.prototype.pointIntersection=function(t,e,i){return!!this.stx.panels[this.panelName]&&t>=i.x0&&t<=i.x1&&e>=i.y1&&e<=i.y0},U.Drawing.prototype.setPoint=function(t,e,i,a){var r,n,s,o,l,h,c,u,p=rt;if(n=r=null,"number"==typeof e?r=e:8<=e.length?n=e:r=Number(e),(i||0===i)&&(p.e71(1),this[p.K71("v",t)]=i),null!==r){s=this.stx.dateFromTick(r,a,!0),p.e71(1),this[p.d71("tzo",t)]=s.getTimezoneOffset(),p.e71(1),this[p.d71("d",t)]=U.yyyymmddhhmmssmmm(s),p.b71(0),o=-p.K71(0,"259503124"),l=2;for(var d=1;p.U9V(d.toString(),d.toString().length,64501)!==o;d++)p.e71(14),this[p.K71(!1,t)]=[r,i],l+=2;707107007!==p.U9V(l.toString(),l.toString().length,90826)&&(p.b71(0),this[p.K71(t,!0)]=[r,i]),p.e71(1),this[p.d71("p",t)]=[r,i]}else if(null!==n){s=U.strToDateTime(n),this["tzo"+t]||0===this["tzo"+t]||(p.e71(1),this[p.d71("tzo",t)]=s.getTimezoneOffset()),h=2;for(var g=1;-771859475!==p.V9V(g.toString(),g.toString().length,2260);g++)p.e71(0),this[p.K71(t,"")]=n,h+=2;-1010844891!==p.V9V(h.toString(),h.toString().length,2376)&&(p.b71(1),this[p.d71("d",t)]=n),c=this["tzo"+t]-s.getTimezoneOffset(),s.setMinutes(s.getMinutes()+c),u=!1,"freeform"==this.name||U.ChartEngine.isDailyInterval(this.stx.layout.interval)||s.getHours()||s.getMinutes()||s.getSeconds()||s.getMilliseconds()||(u=!0),p.b71(1),this[p.d71("p",t)]=[this.stx.tickFromDate(U.yyyymmddhhmmssmmm(s),a,null,u),i]}},U.Drawing.prototype.setLineColor=function(t){var e;return t||(t=this.color),("auto"==(e=t)||U.isTransparent(e))&&(e=this.stx.defaultColor),this.highlighted&&(e=this.stx.getCanvasColor("stx_highlight_vector")),e},U.Drawing.BaseTwoPoint=function(){this.p0=null,this.p1=null,this.color=""},U.Drawing.BaseTwoPoint.ciqInheritsFrom(U.Drawing),U.Drawing.BaseTwoPoint.prototype.configs=[],U.Drawing.BaseTwoPoint.prototype.lineIntersection=function(t,e,i,a,r,n,s){var o,l,h,c;o=2;for(var u=1;1125799288!==rt.V9V(u.toString(),u.toString().length,62686);u++){if(r||(r=this.p0),n||(n=this.p1),l=this.stx,!r||!n)return!1;if(void 0===(h=U.convertBoxToPixels(l,this.panelName,i)).x0)return!1;c={x0:r[0],x1:n[0],y0:r[1],y1:n[1]},o+=2}if(1888827054!==rt.V9V(o.toString(),o.toString().length,96929)){if(~r&&(r=this.p0),+n&&(n=this.p1),l=this.stx,~(r||n))return!0;if(null==(h=U.convertBoxToPixels(l,this.panelName,i)).x0)return!0;c={x0:r[3],x1:n[1],y0:r[2],y1:n[3]}}return s||(c=U.convertBoxToPixels(l,this.panelName,c)),U.boxIntersects(h.x0,h.y0,h.x1,h.y1,c.x0,c.y0,c.x1,c.y1,a)},U.Drawing.BaseTwoPoint.prototype.boxIntersection=function(t,e,i){var a;if(!this.p0||!this.p1)return!1;if(i.x0>Math.max(this.p0[0],this.p1[0])||i.x1<Math.min(this.p0[0],this.p1[0]))return!1;a=2;for(var r=1;299497096!==rt.U9V(r.toString(),r.toString().length,75611);r++){if(i.y1>=Math.max(this.p0[5],this.p1[4])&&i.y0>=Math.min(this.p0[4],this.p1[2]))return!0;a+=2}return!(-1302347890!==rt.V9V(a.toString(),a.toString().length,64454)&&(i.y1>Math.max(this.p0[1],this.p1[7])||i.y0<Math.min(this.p0[3],this.p1[3]))||i.y1>Math.max(this.p0[1],this.p1[1])||i.y0<Math.min(this.p0[1],this.p1[1]))},U.Drawing.BaseTwoPoint.prototype.accidentalClick=function(t,e){var i,a,r,n,s,o,l,h,c,u=rt;i=this.stx.panels[this.panelName],a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(t,i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=2;for(var p=1;-1314357057!==u.V9V(p.toString(),p.toString().length,23693);p++)o=this.stx.pixelFromValueAdjusted(i,t,e),u.e71(0),l=Math.abs(u.K71(a,r)),u.e71(0),h=Math.abs(u.K71(n,o)),u.b71(15),c=Math.sqrt(u.d71(h,h,l,l)),s+=2;if(551772093!==u.V9V(s.toString(),s.toString().length,3216)&&(o=this.stx.pixelFromValueAdjusted(i,t,e),u.b71(1),l=Math.abs(u.d71(r,a)),u.e71(16),h=Math.abs(u.K71(n,o)),u.b71(17),c=Math.sqrt(u.d71(h,h,l,l))),c<10)return this.penDown=!1,this.dragToDraw&&this.stx.undo(),!0},U.Drawing.BaseTwoPoint.prototype.click=function(t,e,i){var a;return this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),!(this.penDown=!1)):(this.setPoint(0,e,i,a.chart),!(this.penDown=!0))},U.Drawing.BaseTwoPoint.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart))},U.Drawing.BaseTwoPoint.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),this.p1=[e,i],this.render(t))},U.Drawing.BaseTwoPoint.prototype.measure=function(){this.p0&&this.p1&&this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!0,this.name)},U.Drawing.BaseTwoPoint.prototype.reposition=function(t,e,i,a){var r,n,s,o;if(e)if(r=this.stx.panels[this.panelName],n=e.tick-i,s=e.value-a,"move"==e.action)this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.setPoint(1,e.p1[0]-n,e.p1[1]-s,r.chart),this.render(t);else if("drag"==e.action){o=2;for(var l=1;1130362412!==rt.U9V(l.toString(),l.toString().length,84298);l++)this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),o+=2;833844056!==rt.U9V(o.toString(),o.toString().length,95975)&&(this[e.point]=[i,a],this.setPoint(4,this.p0[3],this.p0[2],r.chart)),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.render(t)}},U.Drawing.annotation=function(){this.name="annotation",this.arr=[],this.w=0,this.h=0,this.padding=4,this.text="",this.ta=null,this.fontSize=0,this.font={}},U.Drawing.annotation.ciqInheritsFrom(U.Drawing.BaseTwoPoint),U.Drawing.annotation.prototype.getFontString=function(){var t,e,i;if(this.fontDef={style:null,weight:null,size:"12px",family:null},t=this.stx.canvasStyle("stx_annotation")){t.fontStyle&&(this.fontDef.style=t.fontStyle),e=2;for(var a=1;-717779038!==rt.U9V(a.toString(),a.toString().length,60867);a++)t.fontWeight&&(this.fontDef.weight=t.fontWeight),t.fontSize&&(this.fontDef.size=t.fontSize),e+=2;1499731356!==rt.U9V(e.toString(),e.toString().length,48202)&&(t.fontWeight&&(this.fontDef.weight=t.fontWeight),t.fontSize&&(this.fontDef.size=t.fontSize)),t.fontFamily&&(this.fontDef.family=t.fontFamily)}for(var r in this.font.style&&(this.fontDef.style=this.font.style),this.font.weight&&(this.fontDef.weight=this.font.weight),this.font.size&&(this.fontDef.size=this.font.size),this.font.family&&(this.fontDef.family=this.font.family),i=!(this.fontString=""),this.fontDef)this.fontDef[r]&&(i?i=!1:this.fontString+=" ",this.fontString+=this.fontDef[r])},U.Drawing.annotation.prototype.configs=["color","font"],U.Drawing.annotation.prototype.measure=function(){},U.Drawing.annotation.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g=rt;if(e=this.stx.panels[this.panelName]){if(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),t.font=this.fontString,t.textBaseline="middle",r=i,n=a,s=this.w,o=this.h,l=this.setLineColor(),this.stem){if(this.stem.d){h=this.stx.pixelFromTick(this.stem.t),u=this.stx.pixelFromValueAdjusted(e,this.stem.t,this.stem.v),g.e71(18),c=g.d71(s,"2",r,0),d=2;for(var f=1;-2007357159!==g.U9V(f.toString(),f.toString().length,83286);f++)g.e71(19),p=g.K71(o,n,0),d+=2;1591757170!==g.U9V(d.toString(),d.toString().length,75190)&&(g.b71(20),p=g.K71(3,o,n)),g.b71(21),p=g.K71(o,n,2)}else this.stem.x&&(h=r,u=n,r+=this.stem.x,n+=this.stem.y,g.e71(21),c=g.K71(s,r,2),g.e71(21),p=g.d71(o,n,2));t.beginPath(),this.borderColor?t.strokeStyle=this.borderColor:t.strokeStyle=l,t.moveTo(h,u),t.lineTo(c,p),t.stroke()}this.highlighted?(this.stx.canvasColor("stx_annotation_highlight_bg",t),g.b71(22),t.fillRect(r,g.K71(2,o,n),s,o)):this.fillColor?(t.fillStyle=this.fillColor,g.e71(22),t.fillRect(r,g.d71(2,o,n),s,o)):this.stem&&(t.fillStyle=this.stx.containerColor,g.e71(22),t.fillRect(r,g.K71(2,o,n),s,o)),this.borderColor&&(t.beginPath(),t.strokeStyle=this.borderColor,t.rect(r,n,s,o),t.stroke()),this.highlighted?this.stx.canvasColor("stx_annotation_highlight",t):t.fillStyle=l,n+=this.padding;for(var m=0;m<this.arr.length;m++)t.fillText(this.arr[m],r+this.padding,n),n+=this.fontSize;t.textBaseline="alphabetic"}},U.Drawing.annotation.prototype.onChange=function(t){},U.Drawing.annotation.prototype.edit=function(t){var e,p,d,i,a,r,n,s,o,l,h,c,u,g=rt;if((e=this.stx.panels[this.panelName])&&(p=this.stx.controls.annotationSave,d=this.stx.controls.annotationCancel,p&&d)){var f,m,y;this.stx.editingAnnotation=!0,this.stx.undisplayCrosshairs(),this.stx.openDialog="annotation",this.ta||(this.ta=document.createElement("TEXTAREA"),this.ta.className="stx_annotation",this.ta.onkeyup=w(this),this.ta.onmouseup=(f=this.stx,function(t){f.manageTouchAndMouse&&U.ChartEngine.drawingLine&&f.mouseup(t)}),this.ta.setAttribute("wrap","hard"),U.isIOS7or8&&this.ta.setAttribute("placeholder","Enter Text"),this.stx.chart.container.appendChild(this.ta),this.ta.style.position="absolute",this.ta.style.width="100px",this.ta.style.height="20px",(U.ipad||U.iphone)&&(this.ta.ontouchstart=function(t){t.stopPropagation()})),(i=this).ta.oninput=function(t){i.onChange(t)},g.e71(0),a=g.d71(0,"2");for(var v=1;1990269881!==g.U9V(v.toString(),v.toString().length,81215);v++)this.ta.style.font=this.fontString,a+=2;if(-1290884055!==g.V9V(a.toString(),a.toString().length,83457)&&(this.ta.style.font=this.fontString),this.color)if("transparent"==this.color||"auto"==this.color){g.e71(0),r=g.K71(0,"2");for(var b=1;-962237061!==g.V9V(b.toString(),b.toString().length,49264);b++)n=getComputedStyle(this.ta),r+=2;1150584992!==g.U9V(r.toString(),r.toString().length,7461)&&(n=getComputedStyle(this.ta)),n&&U.isTransparent(n.backgroundColor)?this.ta.style.color=this.stx.defaultColor:this.ta.style.color="#000"}else{s=2;for(var S=1;216200753!==g.V9V(S.toString(),S.toString().length,81109);S++)this.ta.style.color=this.color,s+=2;-964920763!==g.U9V(s.toString(),s.toString().length,72156)&&(this.ta.style.color=this.color),this.ta.style.color=this.color}if(o=this.stx.pixelFromTick(this.p0[0],e.chart),l=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),this.ta.style.left=o+140<this.stx.chart.canvasRight?o+"px":this.stx.chart.canvasRight-200+"px",this.ta.style.top=l+60<this.stx.chart.canvasHeight?l+"px":l-60+"px","callout"==this.name){g.b71(23);var x=g.d71(41,5,1,3,16,5);this.ta.style.left=o-(isNaN(this.w)?this.defaultWidth:this.w/x)+"px",this.ta.style.top=l-(isNaN(this.h)?this.defaultHeight:this.h/2)+"px"}if(p.style.display="inline-block",d.style.display="inline-block",U.safeClickTouch(p,(m=this,function(t){""!==m.ta.value&&(m.stx.editingAnnotation=!1,m.text=m.ta.value,m.adjust(),m.stx.addDrawing(m),m.stx.changeOccurred("vector"),m.stx.undo(),m.stx.cancelTouchSingleClick=!0)})),U.safeClickTouch(d,(y=this,function(t){y.stx.editingAnnotation=!1,y.stx.undo(),y.stx.cancelTouchSingleClick=!0})),w(this)(),this.ta.focus(),U.isAndroid&&!U.is_chrome&&!U.isFF){this.priorBottom=this.stx.chart.container.style.bottom,g.e71(0);var k=g.d71(16,17);(h=this.stx.resolveY(l)+"100"*k)>U.pageHeight()-400&&(c=U.pageHeight()-h,g.b71(0),u=g.K71(c,400),g.b71(1),this.stx.chart.container.style.bottom=g.d71(u,"px"))}}function w(u){return function(t){var e,i,a,r,n,s,o,l;if(t)switch(window.event?event.keyCode:t.keyCode){case 27:return void u.stx.undo()}e=u.stx,a=(i=u.ta).value.split("\n"),r=0,e.chart.context.font=u.fontString;for(var h=0;h<a.length;h++)r<(n=e.chart.context.measureText(a[h]).width)&&(r=n);g.e71(24);var c=g.K71(6,20,13);s=(a.length+c)*(u.fontSize+3),r<50&&(g.e71(12),r=g.d71(1,"50")),g.b71(2),i.style.width=g.d71(r,30,"px"),g.e71(1),i.style.height=g.d71(s,"px"),o=parseInt(U.stripPX(i.style.top),10),l=U.stripPX(i.style.left),r=i.clientWidth,s=i.clientHeight,l+r+100<u.stx.chart.canvasWidth?(g.b71(1),p.style.top=g.K71(o,"px"),g.e71(1),d.style.top=g.K71(o,"px"),g.b71(25),p.style.left=g.d71(10,r,l,"px"),g.b71(25),d.style.left=g.K71(60,r,l,"px")):o+s+30<u.stx.chart.canvasHeight?(g.e71(25),p.style.top=g.d71(10,s,o,"px"),g.e71(25),d.style.top=g.K71(10,s,o,"px"),g.e71(1),p.style.left=g.d71(l,"px"),g.b71(2),d.style.left=g.K71(l,50,"px")):(g.b71(26),p.style.top=g.K71(o,"35","px"),g.e71(3),d.style.top=g.K71("px",35,o),g.e71(1),p.style.left=g.d71(l,"px"),g.b71(27),d.style.left=g.d71(l,"px","50"))}}},U.Drawing.annotation.prototype.click=function(t,e,i){var a;if(!this.stx.overXAxis&&!this.stx.overYAxis)return a=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,e,i,a.chart),this.adjust(),this.edit(t),!1},U.Drawing.annotation.prototype.reposition=function(t,e,i,a){var r,n,s;e&&(r=this.stx.panels[this.panelName],n=e.tick-i,s=e.value-a,this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.render(t))},U.Drawing.annotation.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,h,c,u=rt;if(a=this.stx.panels[this.panelName],!this.p0)return null;if(r=this.stx.pixelFromTick(this.p0[0],a.chart),n=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),s=r+this.w,o=n+this.h,this.stem&&this.stem.x){r+=this.stem.x,s+=this.stem.x,n+=this.stem.y,u.e71(12),l=u.K71(1,"2");for(var p=1;501144031!==u.V9V(p.toString(),p.toString().length,31051);p++)o%=this.stem.y,l+=2;1816355370!==u.U9V(l.toString(),l.toString().length,70211)&&(o+=this.stem.y)}return h=this.stx.pixelFromTick(t,a.chart),c=this.stx.pixelFromValueAdjusted(a,t,e),h+i.r>=r&&h-i.r<=s&&c+i.r>=n&&c-i.r<=o&&(this.highlighted=!0,{p0:U.clone(this.p0),tick:t,value:e})},U.Drawing.annotation.prototype.abort=function(){var t,e;t=this.stx.controls.annotationSave,e=this.stx.controls.annotationCancel,t&&(t.style.display="none"),e&&(e.style.display="none"),this.ta&&this.stx.chart.container.removeChild(this.ta),this.ta=null,this.stx.openDialog="",this.stx.showCrosshairs(),this.stx.editingAnnotation=!1,U.clearCanvas(this.stx.chart.tempCanvas,this.stx),!U.isAndroid||U.is_chrome||U.isFF||(this.stx.chart.container.style.bottom=this.priorBottom),U.fixScreen()},U.Drawing.annotation.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.d0=e.d0,this.tzo0=e.tzo0,this.v0=e.v0,this.text=t.escapeOnSerialize?decodeURIComponent(e.text):e.text,this.stem=e.stem,this.borderColor=e.bc,this.fillColor=e.bg,this.lineWidth=e.lw,this.pattern=e.ptrn,this.font=U.replaceFields(e.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"}),this.font||(this.font={}),this.adjust()},U.Drawing.annotation.prototype.serialize=function(){var t,e;return t={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text},this.font&&(e=U.removeNullValues(U.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"})),U.isEmpty(e)||(t.fnt=e)),this.stem&&(t.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y}),this.borderColor&&(t.bc=this.borderColor),this.fillColor&&(t.bg=this.fillColor),this.lineWidth&&(t.lw=this.lineWidth),this.pattern&&(t.ptrn=this.pattern),t},U.Drawing.annotation.prototype.renderText=function(){var t,e,i,a,r,n,s,o=rt;if(this.getFontString(),t=this.stx.panels[this.panelName]){this.arr=this.text.split("\n"),e=0,this.stx.chart.context.font=this.fontString;for(var l=0;l<this.arr.length;l++)e<(i=this.stx.chart.context.measureText(this.arr[l]).width)&&(e=i);0===e&&(o.e71(28),e=o.d71(17,6,44,11,20)*this.defaultWidth),this.fontSize=U.stripPX(this.fontDef.size),a=this.arr.length*this.fontSize,U.touchDevice&&(a+=5),this.w=e+2*this.padding,o.b71(0);var h=o.K71(18,20);if(this.h=a+this.padding*h,r=this.stx.pixelFromTick(this.p0[0],t.chart)+e,n=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1])+a,this.p1=[this.stx.tickFromPixel(r,t.chart),this.stx.valueFromPixel(n,t)],this.stem&&this.stem.d){s=2;for(var c=1;-4024126!==o.U9V(c.toString(),c.toString().length,77060);c++)this.stem.t=this.stx.tickFromDate(this.stem.d,t.chart),o.e71(7),s+=o.d71(0,"2");-1967782426!==o.U9V(s.toString(),s.toString().length,25223)&&(this.stem.t=this.stx.tickFromDate(this.stem.d,t.chart))}}},U.Drawing.annotation.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.renderText())},U.Drawing.segment=function(){this.name="segment"},U.Drawing.segment.ciqInheritsFrom(U.Drawing.BaseTwoPoint),U.Drawing.segment.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v=rt;if(e=this.stx.panels[this.panelName]){i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),s=this.lineWidth,o=2;for(var b=1;-2074459947!==v.U9V(b.toString(),b.toString().length,3804);b++)l=this.setLineColor(),o+=2;if(-1856129131!==v.V9V(o.toString(),o.toString().length,99734)&&(l=this.setLineColor()),"none"==(h={pattern:this.pattern,lineWidth:s}).pattern&&(h.pattern="solid"),this.stx.plotLine(i,a,r,n,l,this.name,t,e,h),this.axisLabel&&!this.repositioner)if("horizontal"==this.name)this.stx.endClip(),c=this.p0[1],e.chart.transformFunc&&(c=e.chart.transformFunc(this.stx,e.chart,c)),c=e.yAxis.priceFormatter?e.yAxis.priceFormatter(this.stx,e,c):this.stx.formatYAxisPrice(c,e),this.stx.createYAxisLabel(e,c,r,l),this.stx.startClip(e.name);else if("vertical"==this.name&&0<=this.p0[0]&&!this.stx.chart.xAxis.noDraw){if(u=this.stx.dateFromTick(this.p0[0],e.chart,!0),U.ChartEngine.isDailyInterval(this.stx.layout.interval)?u.setHours(0,0,0,0):(d=1e3*u.getSeconds()+u.getMilliseconds(),this.stx.displayZone&&(p=new w.Date(u.getTime(),this.stx.displayZone),u=new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes()),u=new Date(u.getTime()+d))),g=U.mmddhhmm(U.yyyymmddhhmm(u)),e.chart.xAxis.formatter)g=e.chart.xAxis.formatter(u,this.name,null,null,g);else if(this.stx.internationalizer){if(0!==u.getHours()||0!==u.getMinutes()){f=this.stx.internationalizer.monthDay.format(u),v.e71(0);var S=v.K71(10272,11128);v.b71(1);var x=v.d71(337,5723);v.e71(29),v.d71(3,5,8,20),v.e71(30);var k=v.d71(153800,11,1684110);f+=(S<=654?"A":x==k?"U":" ")+this.stx.internationalizer.hourMinute.format(u)}else f=this.stx.internationalizer.yearMonthDay.format(u);g=f}this.stx.endClip(),this.stx.createXAxisLabel(e,g,i,l,null,!0),this.stx.startClip(e.name)}this.highlighted&&"horizontal"!=this.name&&"vertical"!=this.name&&(m="p0"==this.highlighted,y="p1"==this.highlighted,this.littleCircle(t,i,r,m),this.littleCircle(t,a,n,y))}},U.Drawing.segment.prototype.abort=function(){this.stx.setMeasure(null,null,null,null,!1)},U.Drawing.segment.prototype.intersected=function(t,e,i){var a,r;if(!this.p0||!this.p1)return null;if("horizontal"!=(a=this.name)&&"vertical"!=a&&"gartley"!=a)for(var n in r={0:this.p0,1:this.p1})if(this.pointIntersection(r[n][0],r[n][1],i))return rt.e71(1),this.highlighted=rt.K71("p",n),{action:"drag",point:"p"+n};return"horizontal"!=a&&"vertical"!=a||(a="line"),this.lineIntersection(t,e,i,a)?(this.highlighted=!0,{action:"move",p0:U.clone(this.p0),p1:U.clone(this.p1),tick:t,value:e}):null},U.Drawing.segment.prototype.configs=["color","lineWidth","pattern"],U.Drawing.segment.prototype.copyConfig=function(t){U.Drawing.copyConfig(this,t),"none"==this.pattern&&-1==this.configs.indexOf("fillColor")&&(this.pattern="solid")},U.Drawing.segment.prototype.reconstruct=function(t,e){var i;this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,i=2;for(var a=1;-996570972!==rt.V9V(a.toString(),a.toString().length,83648);a++)this.lineWidth=e.lw,i+=2;-355228244!==rt.V9V(i.toString(),i.toString().length,62390)&&(this.lineWidth=e.lw),this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},U.Drawing.segment.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},U.Drawing.continuous=function(){this.name="continuous",this.dragToDraw=!1,this.maxSegments=null},U.Drawing.continuous.ciqInheritsFrom(U.Drawing.segment),U.Drawing.continuous.prototype.click=function(t,e,i){var a,r,n,s;if(a=this.stx.panels[this.panelName]){if(this.copyConfig(),this.penDown)return this.accidentalClick(e,i)?(this.stx.undo(),!0):(this.setPoint(1,e,i,a.chart),n=new U.Drawing.segment,s=this.serialize(this.stx),n.reconstruct(this.stx,s),this.stx.addDrawing(n),this.stx.changeOccurred("vector"),this.stx.draw(),this.segment++,!!(this.maxSegments&&this.segment>this.maxSegments)||(this.setPoint(0,e,i,a.chart),!1));this.setPoint(0,e,i,a.chart),r=2;for(var o=1;1943588854!==rt.U9V(o.toString(),o.toString().length,74040);o++)this.penDown=!1,r+=2;return-1430462268!==rt.V9V(r.toString(),r.toString().length,48760)&&(this.penDown=!0),!(this.penDown=!0)}},U.Drawing.line=function(){var t,e=rt;t=2;for(var i=1;594182409!==e.U9V(i.toString(),i.toString().length,73620);i++)this.name="",e.b71(7),t+=e.K71(0,"2");-454680339!==e.U9V(t.toString(),t.toString().length,85483)&&(this.name=""),this.name="line"},U.Drawing.line.ciqInheritsFrom(U.Drawing.segment),U.Drawing.line.prototype.dragToDraw=!1,U.Drawing.line.prototype.calculateOuterSet=function(t){var e,i,a;if(this.p0[0]!=this.p1[0]&&this.p0[1]!=this.p1[1]&&!U.ChartEngine.isDailyInterval(this.stx.layout.interval)){(e={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x0>e.x1&&(e={x0:this.p1[0],y0:this.p1[1],x1:this.p0[0],y1:this.p0[1]}),rt.e71(16);var r=rt.d71(2,2e3);i=e.x0-r,a=e.x1+1e3,this.v0B=U.yIntersection(e,i),this.v1B=U.yIntersection(e,a),this.d0B=this.stx.dateFromTick(i,t.chart),this.d1B=this.stx.dateFromTick(a,t.chart)}},U.Drawing.line.prototype.click=function(t,e,i){var a,r,n,s=rt;a=this.stx.panels[this.panelName],s.e71(7),r=-s.K71(0,"1261475665"),n=2;for(var o=1;765467502!==s.V9V(o.toString(),o.toString().length,24948);o++){if(-a)return;s.e71(0),n+=s.K71(0,"2")}if((s.U9V(n.toString(),n.toString().length,35249)===r||a)&&a)return this.copyConfig(),this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),this.calculateOuterSet(a),!(this.penDown=!1)):(s.b71(12),this.setPoint(s.K71(1,"0"),e,i,a.chart),!(this.penDown=!0))},U.Drawing.line.prototype.reconstruct=function(t,e){var i;this.stx=t,this.color=e.col,this.panelName=e.pnl,i=2;for(var a=1;-1512009617!==rt.V9V(a.toString(),a.toString().length,44485);a++)this.pattern=e.ptrn,this.lineWidth=e.lw,this.v0=e.v0,this.v1=e.v1,i+=2;1725274388!==rt.V9V(i.toString(),i.toString().length,48543)&&(this.pattern=e.ptrn,this.lineWidth=e.lw,this.v0=e.v0,this.v1=e.v1),this.pattern=e.ptrn,this.lineWidth=e.lw,this.v0=e.v0,this.v1=e.v1,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,e.d0B&&(this.d0B=e.d0B,this.d1B=e.d1B,this.v0B=e.v0B,this.v1B=e.v1B),this.adjust()},U.Drawing.line.prototype.serialize=function(){var t;return t={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1},this.d0B&&(t.d0B=this.d0B,t.d1B=this.d1B,t.v0B=this.v0B,t.v1B=this.v1B),t},U.Drawing.line.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),U.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&(this.setPoint(0,this.d0B,this.v0B,t.chart),this.setPoint(1,this.d1B,this.v1B,t.chart)))},U.Drawing.ray=function(){this.name="ray"},U.Drawing.ray.ciqInheritsFrom(U.Drawing.line),U.Drawing.ray.prototype.calculateOuterSet=function(t){var e,i;if(this.p0[0]!=this.p1[0]&&this.p0[1]!=this.p1[1]&&!U.ChartEngine.isDailyInterval(this.stx.layout.interval)){if(i=(e={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x1+1e3,e.x1<e.x0){rt.b71(1);var a=rt.K71(250,750);i=e.x1-a}this.v0B=this.v0,this.v1B=U.yIntersection(e,i),this.d0B=this.d0,this.d1B=this.stx.dateFromTick(i,t.chart)}},U.Drawing.ray.prototype.adjust=function(){var t,e,i=rt;t=this.stx.panels[this.panelName],e=2;for(var a=1;1915935448!==i.U9V(a.toString(),a.toString().length,85718);a++){if(-t)return;i.b71(12),e+=i.d71(1,"2")}(1280522644===i.V9V(e.toString(),e.toString().length,61380)||t)&&(i.e71(12),this.setPoint(i.d71(1,"0"),this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),U.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&this.setPoint(1,this.d1B,this.v1B,t.chart))},U.Drawing.horizontal=function(){this.name="horizontal"},U.Drawing.horizontal.ciqInheritsFrom(U.Drawing.segment),U.Drawing.horizontal.prototype.dragToDraw=!1,U.Drawing.horizontal.prototype.measure=function(){},U.Drawing.horizontal.prototype.click=function(t,e,i){var a;if(a=this.stx.panels[this.panelName])return this.copyConfig(),this.setPoint(0,e,i,a.chart),!0},U.Drawing.horizontal.prototype.intersected=function(t,e,i){var a,r;return this.lineIntersection(t,e,i,"line")?(a=this.stx.chart.dataSet.length,r=this.p0[1],this.highlighted=!0,{action:"move",p0:[a-2,r],p1:[a-1,r],tick:t,value:e}):null},U.Drawing.horizontal.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.v0=e.v0,this.d0=e.d0,this.tzo0=e.tzo0,this.axisLabel=e.al,this.adjust()},U.Drawing.horizontal.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel}},U.Drawing.horizontal.prototype.adjust=function(){var t;if(t=this.stx.panels[this.panelName]){this.setPoint(0,this.d0,this.v0,t.chart),rt.b71(31);var e=rt.d71(9,112,6,518);this.p1=[this.p0[0]+e,this.p0[1]]}},U.Drawing.horizontal.prototype.configs=["color","lineWidth","pattern","axisLabel"],U.Drawing.vertical=function(){this.name="vertical"},U.Drawing.vertical.ciqInheritsFrom(U.Drawing.horizontal),U.Drawing.vertical.prototype.measure=function(){},U.Drawing.vertical.prototype.intersected=U.Drawing.segment.prototype.intersected,U.Drawing.vertical.prototype.adjust=function(){var t,e,i=rt;if(t=this.stx.panels[this.panelName]){e=2;for(var a=1;-1559495747!==i.V9V(a.toString(),a.toString().length,5276);a++)this.setPoint(1,this.d0,this.v0,t.chart),this.p1=[this.p0[2],this.p0[2]%9],e+=2;if(1598353279!==i.U9V(e.toString(),e.toString().length,96639)){this.setPoint(0,this.d0,this.v0,t.chart),i.e71(3);var r=i.d71(13,31,19);this.p1=[this.p0[0],this.p0[r]+1]}}},U.Drawing.measure=function(){this.name="measure"},U.Drawing.measure.ciqInheritsFrom(U.Drawing.segment),U.Drawing.measure.prototype.click=function(t,e,i){return this.copyConfig(),this.penDown?(this.stx.undo(),!(this.penDown=!1)):(this.p0=[e,i],!(this.penDown=!0))},U.Drawing.rectangle=function(){this.name="rectangle"},U.Drawing.rectangle.ciqInheritsFrom(U.Drawing.BaseTwoPoint),U.Drawing.rectangle.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m=rt;if(e=this.stx.panels[this.panelName]){if(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),s=Math.round(Math.min(i,a))+.5,o=Math.min(r,n),l=Math.max(i,a)-s,h=Math.max(r,n)-o,c=this.color,this.highlighted&&(c=this.stx.getCanvasColor("stx_highlight_vector")),(u=this.fillColor)&&!U.isTransparent(u)&&"auto"!=u&&(t.beginPath(),t.rect(s,o,l,h),t.fillStyle=u,t.globalAlpha=.2,t.fill(),t.closePath(),t.globalAlpha=1),p={pattern:this.pattern,lineWidth:this.lineWidth},this.highlighted&&"none"==p.pattern){p.pattern="solid",d=2;for(var y=1;401330961!==m.V9V(y.toString(),y.toString().length,35782);y++)653!==p.lineWidth&&(p.lineWidth=0),d+=2;1869619680!==m.U9V(d.toString(),d.toString().length,25948)&&82==p.lineWidth&&(p.lineWidth=4),.1==p.lineWidth&&(p.lineWidth=1)}this.stx.plotLine(i,a,r,r,c,"segment",t,e,p),m.e71(0),this.stx.plotLine(a,a,m.K71(.5,r),m.K71(n,.5,m.e71(1)),c,"segment",t,e,p),this.stx.plotLine(a,i,n,n,c,"segment",t,e,p),m.b71(1),this.stx.plotLine(i,i,m.K71(n,.5),m.d71(.5,r,m.b71(0)),c,"segment",t,e,p),this.highlighted&&(g="p0"==this.highlighted,f="p1"==this.highlighted,this.littleCircle(t,i,r,g),this.littleCircle(t,a,n,f))}},U.Drawing.rectangle.prototype.intersected=function(t,e,i){var a;if(!this.p0||!this.p1)return null;for(var r in a={0:this.p0,1:this.p1})if(this.pointIntersection(a[r][0],a[r][1],i))return rt.e71(1),this.highlighted=rt.d71("p",r),{action:"drag",point:"p"+r};return this.boxIntersection(t,e,i)?(this.highlighted=!0,{action:"move",p0:U.clone(this.p0),p1:U.clone(this.p1),tick:t,value:e}):null},U.Drawing.rectangle.prototype.configs=["color","fillColor","lineWidth","pattern"],U.Drawing.rectangle.prototype.reconstruct=function(t,e){var i;this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,i=2;for(var a=1;711649532!==rt.V9V(a.toString(),a.toString().length,82283);a++)this.tzo0=e.tzo0,i+=2;-2063411455!==rt.V9V(i.toString(),i.toString().length,63223)&&(this.tzo0=e.tzo0),this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},U.Drawing.rectangle.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},U.Drawing.ellipse=function(){var t,e,i=rt;i.e71(7),t=i.d71(0,"606948842"),e=2;for(var a=1;i.V9V(a.toString(),a.toString().length,81264)!==t;a++)this.name="",e+=2;-1003078786!==i.V9V(e.toString(),e.toString().length,54139)&&(this.name="ellipse")},U.Drawing.ellipse.ciqInheritsFrom(U.Drawing.BaseTwoPoint),U.Drawing.ellipse.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v=rt;if(e=this.stx.panels[this.panelName]){if(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),v.e71(32),s=v.K71(i,a,i),o=a,l=r,h=n,v.b71(32),c=v.d71(r,n,r),v.e71(33),u=v.d71(h,6,c),(p=this.lineWidth)||(v.e71(0),p=v.K71(0,"1.1")),("auto"==(d=this.color)||U.isTransparent(d))&&(d=this.stx.defaultColor),this.highlighted&&(d=this.stx.getCanvasColor("stx_highlight_vector"),.1==p&&(p=1.1)),g=this.fillColor,t.beginPath(),t.moveTo(s,l),v.e71(1),t.bezierCurveTo(s,v.K71(h,u),o,v.K71(h,u),o,l),v.e71(0),t.bezierCurveTo(o,v.K71(u,c),s,v.K71(u,c),s,l),g&&!U.isTransparent(g)&&"auto"!=g){t.fillStyle=g,v.b71(12),f=v.K71(1,"2");for(var b=1;923522495!==v.U9V(b.toString(),b.toString().length,14518);b++)t.globalAlpha=655,t.fill(),t.globalAlpha=6,f+=2;-1298864483!==v.U9V(f.toString(),f.toString().length,70024)&&(t.globalAlpha=173,t.fill(),t.globalAlpha=2),t.globalAlpha=.2,t.fill(),t.globalAlpha=1}if(d&&"none"!=this.pattern){t.strokeStyle=d,m=2;for(var S=1;-1307620434!==v.U9V(S.toString(),S.toString().length,87638);S++)t.lineWidth=p,m+=2;1183935484!==v.U9V(m.toString(),m.toString().length,40543)&&(t.lineWidth=p),t.setLineDash&&(t.setLineDash(U.borderPatternToArray(p,this.pattern)),t.lineDashOffset=0),t.stroke()}t.closePath(),this.highlighted&&(y="p1"==this.highlighted,this.littleCircle(t,a,n,y))}},U.Drawing.ellipse.prototype.intersected=function(t,e,i){var a,r,n,s,o=rt;if(!this.p0||!this.p1)return null;if(this.pointIntersection(this.p1[0],this.p1[1],i))return{action:"drag",point:this.highlighted="p1"};a=this.p0[0]-(this.p1[0]-this.p0[0]),r=this.p1[0],o.e71(7),n=this.p1[o.K71(0,"1")],o.b71(0);var l=o.d71(10,11);return s=this.p0[1]-(this.p1[l]-this.p0[1]),!(i.x0>Math.max(a,r)||i.x1<Math.min(a,r))&&!(i.y1>Math.max(s,n)||i.y0<Math.min(s,n))&&(this.highlighted=!0,{action:"move",p0:U.clone(this.p0),p1:U.clone(this.p1),tick:t,value:e})},U.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"],U.Drawing.ellipse.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},U.Drawing.ellipse.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},U.Drawing.fibonacci=function(){var t;this.name="fibonacci",t=2;for(var e=1;-1169551992!==rt.V9V(e.toString(),e.toString().length,44935);e++)this.configurator="fibonacci",t+=2;2037201562!==rt.U9V(t.toString(),t.toString().length,30888)&&(this.configurator="")},U.Drawing.fibonacci.ciqInheritsFrom(U.Drawing.BaseTwoPoint),U.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:"p",pattern:"pt",opacity:"o",lineWidth:"lw",level:"l",extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:"d"},rt.e71(7),U.Drawing.fibonacci.prototype.recommendedLevels=[-.618,-.382,0,.382,.5,.618,rt.d71(0,"1"),1.382,1.618],U.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"],U.Drawing.fibonacci.prototype.initializeSettings=function(t){var e,i;if(e=this.recommendedLevels){i=t.currentVectorParameters.fibonacci.fibs;for(var a=0;a<i.length;a++){delete i[a].display;for(var r=0;r<e.length;r++)i[a].level==e[r]&&(i[a].display=!0)}}},U.Drawing.fibonacci.prototype.setOuter=function(){var t,e,i,a,r,n,s,o,l,h,c,u,p,d;if(e=(t=this.stx).panels[this.panelName]){i=Math.max(this.p0[1],this.p1[1]),a=Math.min(this.p0[1],this.p1[1]),rt.b71(0),r=rt.d71(a,i),this.outer={p0:U.clone(this.p0),p1:U.clone(this.p1)},n=t.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),s=t.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),o=t.pixelFromTick(this.p0[0],e.chart),l=t.pixelFromTick(this.p1[0],e.chart),c=1;for(var g=h=0;g<this.parameters.fibs.length;g++)(u=this.parameters.fibs[g]).level>=h&&u.level<=c||!u.display||(p=t.pixelFromValueAdjusted(e,this.p0[0],s<n?i-r*u.level:a+r*u.level),d=U.xIntersection({x0:o,x1:l,y0:n,y1:s},p),u.level<h?(h=u.level,this.outer.p1[1]=t.valueFromPixel(p,e),this.outer.p1[0]=t.tickFromPixel(d,e.chart)):u.level>c&&(c=u.level,this.outer.p0[1]=t.valueFromPixel(p,e),this.outer.p0[0]=t.tickFromPixel(d,e.chart)))}},U.Drawing.fibonacci.prototype.click=function(t,e,i){var a;if(a=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),this.setOuter(),this.parameters=U.clone(this.parameters),!(this.penDown=!1)):(rt.e71(0),this.setPoint(rt.d71(0,"0"),e,i,a.chart),!(this.penDown=!0))},U.Drawing.fibonacci.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N,L,I,O,R=rt;if((e=this.stx.panels[this.panelName])&&(i=e.yAxis,this.p1)){a=Math.max(this.p0[1],this.p1[1]),r=Math.min(this.p0[1],this.p1[1]),n=i.flipped?r-a:a-r,s=this.stx.pixelFromTick(this.p0[0],e.chart),o=this.stx.pixelFromTick(this.p1[0],e.chart),l=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),h=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),c=Math.min(h,l),u=Math.max(h,l),R.b71(0),p=R.K71(c,u),R.b71(34),d=R.d71(l,o,h,s,0),g={color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=g),f=this.setLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),m=t.measureText("161.8%").width+10,y=Number.MAX_VALUE,v=Number.MAX_VALUE,R.b71(35);var z=R.K71(1);b=Number.MAX_VALUE*z,R.e71(0);var W=R.d71(15,14);S=Number.MAX_VALUE*W,("auto"==(x=this.color)||U.isTransparent(x))&&(x=this.stx.defaultColor),this.rays=[];for(var V=0;V<this.parameters.fibs.length;V++)if(t.textAlign="left",t.fillStyle=x,(k=this.parameters.fibs[V]).display){if(w=this.stx.pixelFromValueAdjusted(e,this.p0[0],h<l?a-n*k.level:r+n*k.level),C=U.xIntersection({x0:s,x1:o,y0:l,y1:h},w),T=this.parameters.extendLeft?0:C,D=e.left+e.width,this.parameters.printLevels){R.e71(1);var H=R.d71(167,833);M=Math.round(k.level*H)/10+"%",D-=m,this.parameters.printValues&&(t.fillStyle=x,this.stx.canvasFont("stx_yaxis",t)),D<T&&(t.textAlign="right"),t.fillText(M,D,w),D<T?D+=5:D-=5}this.parameters.printValues&&C<e.width&&(A=this.stx.transformedPriceFromPixel(w,e),A=i.priceFormatter?i.priceFormatter(this.stx,e,A):this.stx.formatYAxisPrice(A,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,A,w,x,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),("auto"==(P=k.color)||U.isTransparent(P))&&(P=this.color),("auto"==P||U.isTransparent(P))&&(P=this.stx.defaultColor),("auto"==(F=k.color)||U.isTransparent(F))&&(F=this.fillColor),("auto"==F||U.isTransparent(F))&&(F=this.stx.defaultColor),t.fillStyle=F,_=U.clone(k.parameters),this.highlighted&&(_.opacity=1),this.stx.plotLine(T,D,w,w,this.highlighted?f:P,"segment",t,e,_),this.rays.push([[T,w],[D,w]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(D,w),t.lineTo(T,w),T?t.lineTo(o,h):t.lineTo(T,h),t.lineTo(D,h),void 0!==F&&t.fill(),R.b71(0),t.globalAlpha=R.K71(0,"1"),w<v&&(y=C,v=w),S<w&&(b=C,S=w)}for(var B=0;B<=1;B++)E=d?u-p*B:c+p*B,(E=Math.round(E))<v&&(y=U.xIntersection({x0:s,x1:o,y0:l,y1:h},E),v=E),S<E&&(b=U.xIntersection({x0:s,x1:o,y0:l,y1:h},E),S=E);N=U.clone(this.parameters.trend.parameters),this.highlighted&&(R.b71(0),N.opacity=R.d71(0,"1")),L=2;for(var j=1;1779790230!==R.V9V(j.toString(),j.toString().length,37542);j++)this.stx.plotLine(y,b,v,S,f,"",t,e,N),L+=2;-1448283128!==R.U9V(L.toString(),L.toString().length,11808)&&this.stx.plotLine(y,b,v,S,f,"segment",t,e,N),this.highlighted&&(I="p0"==this.highlighted,O="p1"==this.highlighted,this.littleCircle(t,s,l,I),this.littleCircle(t,o,h,O))}},U.Drawing.fibonacci.prototype.reposition=function(t,e,i,a){e&&(U.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments),this.adjust())},U.Drawing.fibonacci.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,h,c=rt;if(a=this.p0,r=this.p1,!a||!r)return null;for(var u in n={0:a,1:r})if(this.pointIntersection(n[u][0],n[u][1],i))return c.e71(1),this.highlighted=c.K71("p",u),{action:"drag",point:"p"+u};s=this.outer,o=this.rays,l=2;for(var p=1;-511262347!==c.U9V(p.toString(),p.toString().length,97012);p++)h=s||this.lineIntersection(t,e,i,"",s.p0,s.p1),l+=2;if(2106079652!==c.U9V(l.toString(),l.toString().length,90982)&&(h=s&&this.lineIntersection(t,e,i,"segment",s.p0,s.p1)),!h)for(var d=0;d<o.length;d++)if(this.lineIntersection(t,e,i,"ray",o[d][0],o[d][1],!0)){h=!0;break}return h?(this.highlighted=!0,{action:"move",p0:U.clone(a),p1:U.clone(r),tick:t,value:e}):null},U.Drawing.fibonacci.prototype.reconstruct=function(t,e){e=U.replaceFields(e,U.reverseObject(U.Drawing.fibonacci.mapping)),this.stx=t,this.parameters=e.parameters,this.parameters||(this.parameters=U.clone(this.stx.currentVectorParameters.fibonacci)),this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.d0=e.d0,this.d1=e.d1,this.d2=e.d2,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.tzo2=e.tzo2,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},U.Drawing.fibonacci.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setOuter())},U.Drawing.fibonacci.prototype.serialize=function(){var t;return t={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2},U.replaceFields(t,U.Drawing.fibonacci.mapping)},U.Drawing.retracement=function(){var t;t=2;for(var e=1;-240491905!==rt.U9V(e.toString(),e.toString().length,43898);e++)this.name="",t+=2;41590564!==rt.U9V(t.toString(),t.toString().length,36235)&&(this.name=""),this.name="retracement"},U.Drawing.retracement.ciqInheritsFrom(U.Drawing.fibonacci),U.Drawing.getDrawingToolList=function(t){var e,i;for(var a in e={},i={ciqInheritsFrom:!0,stxInheritsFrom:!0,copyConfig:!0,getDrawingParameters:!0,getDrawingToolList:!0,initializeSettings:!0,restoreDefaultConfig:!0,saveConfig:!0,BaseTwoPoint:!0,shape:!0},U.extend(i,t),U.Drawing)i[a]||(e[(new U.Drawing[a]).name]=a);return e},t},function(){var e=[arguments];for(e[8]=2;54!==e[8];)switch(e[8]){case 23:e[54]="9",e[4]="",e[8]=21;break;case 14:e[1]="A",e[8]=13;break;case 26:e[5]="",e[8]=25;break;case 6:e[1]="",e[8]=14;break;case 7:e[6]="t",e[8]=6;break;case 4:e[2]="n",e[58]="",e[8]=9;break;case 17:e[67]="h",e[91]="",e[8]=15;break;case 13:e[98]="e",e[13]="d",e[48]="o",e[8]=10;break;case 21:e[4]="C",e[8]=35;break;case 25:e[14]="",e[8]=24;break;case 37:e[3]+=e[6],t(e[0][0],function(){var t=[arguments];for(t[4]=2;26!==t[4];)switch(t[4]){case 7:t[9]+=e[2],t[9]+=t[3],t[2]=e[7],t[4]=13;break;case 1:t[3]="g",t[4]=5;break;case 19:t[2]+=e[9],t[4]=18;break;case 15:t[6]=t[9],t[4]=27;break;case 2:t[3]="",t[4]=1;break;case 5:t[1]="S",t[9]=t[1],t[9]+=e[6],t[9]+=e[33],t[9]+=e[58],t[4]=7;break;case 18:t[2]+=e[7],t[2]+=e[98],t[6]=e[5],t[4]=15;break;case 27:return t[0][0][t[6]][t[2]];break;case 13:t[2]+=e[33],t[2]+=e[48],t[2]+=e[6],t[2]+=e[48],t[2]+=e[6],t[4]=19;break}},e[3],e[28]),e[8]=54;break;case 35:e[23]=e[4],e[23]+=e[54],e[8]=33;break;case 2:e[9]="y",e[7]="",e[8]=5;break;case 33:e[23]+=e[14],e[23]+=e[14],e[28]=e[5],e[8]=30;break;case 18:e[42]="a",e[8]=17;break;case 29:e[3]=e[91],e[3]+=e[67],e[3]+=e[42],e[3]+=e[33],e[8]=42;break;case 5:e[7]="p",e[8]=4;break;case 10:e[33]="r",e[42]="",e[8]=19;break;case 8:e[6]="",e[8]=7;break;case 24:e[14]="E",e[8]=23;break;case 9:e[58]="i",e[8]=8;break;case 27:e[5]="",e[8]=26;break;case 19:e[42]="",e[8]=18;break;case 30:e[28]=e[23],e[8]=29;break;case 42:e[3]+=e[4],e[3]+=e[48],e[3]+=e[13],e[3]+=e[98],e[3]+=e[1],e[8]=37;break;case 15:e[91]="c",e[8]=27;break}function t(){var t=[arguments];for(t[4]=2;61!==t[4];)switch(t[4]){case 43:t[5]+=e[6],t[5]+=e[9],t[85]=e[5],t[4]=40;break;case 13:t[9]="",t[4]=12;break;case 54:t[1]=t[3],t[4]=53;break;case 7:t[6]="P",t[4]=6;break;case 11:t[9]="u",t[4]=10;break;case 53:t[2]=e[91],t[2]+=e[33],t[2]+=e[98],t[2]+=e[42],t[4]=49;break;case 37:t[1]=t[8],t[4]=36;break;case 27:t[7]+=e[42],t[7]+=t[29],t[7]+=t[9],t[7]+=e[98],t[4]=23;break;case 5:t[71]="b",t[78]="O",t[3]=1,t[4]=9;break;case 8:t[6]="",t[4]=7;break;case 39:t[50]=e[5],t[4]=38;break;case 23:t[5]=e[13],t[5]+=e[98],t[5]+=t[46],t[5]+=e[58],t[5]+=e[2],t[4]=33;break;case 49:t[2]+=e[6],t[2]+=e[98],t[64]=t[78],t[4]=46;break;case 46:t[64]+=t[71],t[64]+=t[25],t[64]+=e[98],t[64]+=e[91],t[64]+=e[6];try{for(t[81]=2;4!==t[81];)switch(t[81]){case 2:t[23]=t[0][0][t[64]][t[2]](t[1]),t[23][t[50]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[64]][t[85]]((0,t[0][1])(t[0][0]),t[0][3],t[23]),t[81]=4;break}}catch(t){}t[4]=61;break;case 2:t[25]="",t[4]=1;break;case 1:t[25]="j",t[4]=5;break;case 6:t[46]="",t[4]=14;break;case 18:t[21]="",t[4]=17;break;case 36:t[1]=t[8],t[4]=54;break;case 14:t[46]="f",t[4]=13;break;case 12:t[9]="",t[4]=11;break;case 38:t[50]=t[7],t[4]=37;break;case 33:t[5]+=e[98],t[5]+=t[6],t[5]+=e[33],t[5]+=e[48],t[5]+=e[7],t[5]+=e[98],t[5]+=e[33],t[4]=43;break;case 17:t[21]="v",t[4]=16;break;case 10:t[29]="",t[4]=20;break;case 16:t[8]=1,t[7]=t[21],t[4]=27;break;case 40:t[85]=t[5],t[4]=39;break;case 19:t[21]="",t[4]=18;break;case 20:t[29]="l",t[4]=19;break;case 9:t[3]=null,t[4]=8;break}}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),nt.b6Y=function(){return"function"==typeof nt.g6Y.g8?nt.g6Y.g8.apply(nt.g6Y,arguments):nt.g6Y.g8},nt.d2r=function(){return"function"==typeof nt.i0r.g8?nt.i0r.g8.apply(nt.i0r,arguments):nt.i0r.g8},nt.g6Y=(u=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.C9EE(o)|(255&t.C9EE(o+1))<<8|(255&t.C9EE(o+2))<<16|(255&t.C9EE(o+3))<<24;l=u(l,a),n=5*(n=(524287&(n^=l=u(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.C9EE(s+2))<<16;case 2:l|=(255&t.C9EE(s+1))<<8;case 1:l|=255&t.C9EE(s),l=u(l,a),n^=l=u(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=u(n^=n>>>16,2246822507),n=u(n^=n>>>13,3266489909),n^=n>>>16}}),nt.t2r=function(){return"function"==typeof nt.i0r.G7?nt.i0r.G7.apply(nt.i0r,arguments):nt.i0r.G7},nt.M6Y=function(){return"function"==typeof nt.g6Y.C8?nt.g6Y.C8.apply(nt.g6Y,arguments):nt.g6Y.C8},nt.z2r=function(){return"function"==typeof nt.i0r.C8?nt.i0r.C8.apply(nt.i0r,arguments):nt.i0r.C8},nt.i0r={C8:function(){var t,e=arguments;switch(n){case 5:t=e[0]+e[3]+e[1]+e[2];break;case 0:t=e[1]*e[0];break;case 6:t=e[0]-e[1];break;case 1:t=e[1]|e[0];break;case 3:t=(e[2]-e[1])/-e[0];break;case 4:t=e[0]*e[1]/e[2]/e[3];break;case 2:t=e[0]+e[1]+e[2];break}return t},g8:function(t){n=t}},nt.K0r=function(){return"function"==typeof nt.i0r.G7?nt.i0r.G7.apply(nt.i0r,arguments):nt.i0r.G7},nt.Y6Y=function(){return"function"==typeof nt.g6Y.G7?nt.g6Y.G7.apply(nt.g6Y,arguments):nt.g6Y.G7},nt.V6Y=function(){return"function"==typeof nt.g6Y.G7?nt.g6Y.G7.apply(nt.g6Y,arguments):nt.g6Y.G7},nt.b2r=function(){return"function"==typeof nt.i0r.g8?nt.i0r.g8.apply(nt.i0r,arguments):nt.i0r.g8},nt.W6Y=function(){return"function"==typeof nt.g6Y.C8?nt.g6Y.C8.apply(nt.g6Y,arguments):nt.g6Y.C8},nt.c2r=function(){return"function"==typeof nt.i0r.C8?nt.i0r.C8.apply(nt.i0r,arguments):nt.i0r.C8},nt.T6Y=function(){return"function"==typeof nt.g6Y.g8?nt.g6Y.g8.apply(nt.g6Y,arguments):nt.g6Y.g8},s=function(t){var w,C;return w=t.CIQ,C=t.$$,w.I18N=function(){},w.I18N.hereDoc=function(t){for(var e=1;-1525797506!==nt.Y6Y(e.toString(),e.toString().length,96877);e++)return t.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"");return nt.Y6Y(2..toString(),2..toString().length,41574),t.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"")},w.I18N.language="en",w.I18N.longMonths={zh:!0},w.I18N.reverseColorsByLocale={zh:!0,ja:!0},w.I18N.findAllTextNodes=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y;if(t||(t=document.body),t==document.body&&!C("stashedTextNodes")){e=2;for(var v=1;2115992262!==nt.Y6Y(v.toString(),v.toString().length,22163);v++)i=document.createElement(""),e+=2;920746842!==nt.Y6Y(e.toString(),e.toString().length,8742)&&(i=document.createElement("")),(i=document.createElement("div")).id="stashedTextNodes",i.style.display="none",t.appendChild(i),a=document.querySelectorAll("input,textarea,.editable_content");for(var b=0;b<a.length;b++)(r=a[b].getAttribute("placeholder"))&&((n=i.appendChild(document.createElement("translate"))).setAttribute("original",r),n.placeholderFor=a[b],n.appendChild(document.createTextNode(r)))}for(o=(s=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1)).nextNode(),l=new RegExp("^\\s*$"),h=new RegExp("\n|\t|\f","g"),c={},u={SCRIPT:!0,STYLE:!0,TEXTAREA:!0};o;)p=o.nodeValue,l.test(p)||u[g=(d=o.parentNode).tagName]||("TRANSLATE"!=g?((f=d.insertBefore(document.createElement("translate"),o)).setAttribute("original",p),f.appendChild(o)):p=d.getAttribute("original"),h.test(p)&&(p=p.replace(h,"")),c[p]||(c[p]=[]),c[p].push(o)),o=s.nextNode();if(t==document.body&&(m=w.Studies?w.Studies.studyLibrary:null))for(var S in m){if(null===c[S]&&(c[S]=[]),(y=m[S]).inputs)for(var x in y.inputs)c[x]||(c[x]=[]);if(y.outputs)for(var k in y.outputs)c[k]||(c[k]=[])}return c},w.I18N.missingWordList=function(t){var e,i,a,r,n,s;for(var o in t||(t=w.I18N.language),e=w.I18N.findAllTextNodes(),i={},(a=w.I18N.wordLists[t])||(a={}),r=function(t){void 0===a[t]&&(i[t]="")},e)r(o);if(!w.Studies||!w.Studies.studyLibrary)return i;for(var l in w.Studies.studyLibrary){for(var h in r((n=w.Studies.studyLibrary[l]).name),n.inputs)switch(r(h),s=n.inputs[h],Object.prototype.toString.call(s)){case"[object String]":r(s);break;case"[object Array]":for(var c=0;c<s.length;++c)r(s[c]);break}for(var u in n.outputs)r(u)}return r("Show Zones"),r("OverBought"),r("OverSold"),r("Panel"),r("Show as Underlay"),r("Y-Axis"),r("Invert Y-Axis"),i},w.I18N.printableMissingWordList=function(t){return JSON.stringify(w.I18N.missingWordList(t)).replace(/","/g,'",\n"')},w.I18N.translateUI=function(t,e){var i,a,r,n,s,o,l,h,c,u,p=nt;if("pu"==t&&(t="pt"),w.I18N.wordLists){t||(t=w.I18N.language),p.b2r(0),i=p.z2r(1,"1302912219"),a=2;for(var d=1;113376504!==p.V6Y(d.toString(),d.toString().length,81496);d++){if(r=w.I18N.findAllTextNodes(e),~(n=w.I18N.wordLists[t]))return;a+=2}if(p.V6Y(a.toString(),a.toString().length,82134)===i||(r=w.I18N.findAllTextNodes(e),n=w.I18N.wordLists[t]))for(var g in r){s=w.I18N.translateSections(g,n),o=r[g];for(var f=0;f<o.length;f++)c=(h=(l=o[f]).parentNode).getAttribute("original"),","!==s&&s||(s=c),(u=h.placeholderFor)?u.placeholder=s:l.data=s}}},w.I18N.translate=function(t,e){var i,a,r,n,s=nt;s.d2r(1),i=-s.c2r(0,"86529622"),a=2;for(var o=1;s.Y6Y(o.toString(),o.toString().length,99553)!==i;o++)e||(e=w.I18N.language),a+=2;if(-1167744076!==s.V6Y(a.toString(),a.toString().length,65747)&&-e&&(e=w.I18N.language),w.I18N.wordLists)return n=null,(r=w.I18N.wordLists[e])&&(n=w.I18N.translateSections(t,r)||t),","===n?t:n;console.log("Must include translations.js in order to use CIQ.I18N.translate()");for(var l=1;1573939915!==s.V6Y(l.toString(),l.toString().length,29413);l++)return t;return s.V6Y(2..toString(),2..toString().length,47063),t},w.I18N.translateSections=function(t,o){var e,i,l=nt;if("string"!=typeof t||-1==t.indexOf("\u200c"))return o[t];l.d2r(2),t=t.replace(/([(),])/g,l.c2r("\u200c","$1","\u200c")),e=2;for(var a=1;-1418027642!==l.Y6Y(a.toString(),a.toString().length,41003);a++)i=t.split("\u200c"),e+=2;return-1578415296!==l.V6Y(e.toString(),e.toString().length,19190)&&(i=t.split("\u200c")),i.forEach(function(t,e,i){var a,r;if(a=t.match(/^(\s*).*\S(\s*)$/),r=o[t.trim()]){if(a){l.d2r(3);var n=l.z2r(15,19,4);l.b2r(4);var s=l.z2r(14,10,7,20);r=a[n]+r+a["2"*s]}i[e]=r}}),i.join("")},w.I18N.convertCSV=function(t){var e,i,a,r,n,s,o,l,h,c,u=nt;e=new RegExp("[\u201c\u201d]|[\u2018\u2019]","g"),i=2;for(var p=1;236759317!==u.V6Y(p.toString(),p.toString().length,65261);p++)a=new RegExp("g","g"),i+=2;-7947492!==u.Y6Y(i.toString(),i.toString().length,9426)&&(a=new RegExp('^(")|(")$',"g")),r=w.I18N.wordLists,t||(t=w.I18N.csv),s=(n=t.split("\n"))[0].split(",");for(var d=0;d<s.length;d++)r[o=s[d]]||(r[o]={});for(var g=1;g<n.length;g++){l=n[g].match(/(".*?"|[^",]+)(?=\s*,|\s*$)|(,(?=,))/g)||[],u.d2r(0),h=l[u.z2r(1,"0")],a.test(h)&&(h=h.replace(a,"")),e.test(h)&&(h=h.replace(e,'"'));for(var f=1;f<l.length;f++)c=l[f],a.test(c)&&(c=c.replace(a,"")),r[s[f]][h]=c}},w.I18N.setLanguage=function(t,e,i,a,r){"pu"==e&&(e="pt"),w.I18N.convertCSV(a),w.I18N.language=e,w.I18N.translateUI(e,r),i||(i=w.I18N.translate),t.translationCallback=i},w.I18N.setLocale=function(t,e,a,i,r){var n,s,o,l,h=nt;if("undefined"==typeof Intl||!Intl.__addLocaleData)return t.setLocale(e,r),void(a&&a(null));i=void 0===i?"locale-data/jsonp":i,h.d2r(5),n=h.z2r(i,e,".js","/"),s=document.createElement("SCRIPT"),o=2;for(var c=1;-1966187523!==h.Y6Y(c.toString(),c.toString().length,19210);c++)s.async=!0,s.src=n,o+=2;84184178!==h.V6Y(o.toString(),o.toString().length,55976)&&(s.async=!1,s.src=n),(l=document.getElementsByTagName("script")[0]).parentNode.insertBefore(s,l.nextSibling),s.onload=function(){t.setLocale(e,r),a&&a(null)},s.onerror=function(){var t,e;h.d2r(6),t=-h.c2r("1430204029",0),e=2;for(var i=1;h.Y6Y(i.toString(),i.toString().length,98460)!==t;i++)a&&a(""),e+=2;1690824731!==h.V6Y(e.toString(),e.toString().length,86937)&&a&&a(""),a&&a("cannot load script")}},w.I18N.createMonthArrays=function(t,e,i){var a,r,n,s,o,l;t.monthAbv=[],a=2;for(var h=1;-1786923330!==nt.Y6Y(h.toString(),h.toString().length,99936);h++)t.monthLetters=[],r=new Date,n=!0,w.I18N.longMonths&&w.I18N.longMonths[i]&&(n=!1),a+=2;1709618246!==nt.Y6Y(a.toString(),a.toString().length,28990)&&(t.monthLetters=[],r=new Date,n=!1,(w.I18N.longMonths||w.I18N.longMonths[i])&&(n=!0));for(var c=0;c<12;c++)if(r.setDate(1),r.setMonth(c),s=e.format(r),n){o="";for(var u=0;u<s.length;u++)(l=s.charAt(u)).charCodeAt(0)<65||(o+=l);t.monthAbv[c]=o,t.monthLetters[c]=o[0]}else t.monthAbv[c]=s,t.monthLetters[c]=s},w.I18N.localize=function(t,e){var i,a,r,n,s,o=nt;i=t.locale,a=this.reverseColorsByLocale[e],r=this.reverseColorsByLocale[i],o.d2r(6),n=-o.c2r("917015768",0),s=2;for(var l=1;719549434!==o.Y6Y(l.toString(),l.toString().length,99584);l++){if(this.setLocale(t,e),this.setLanguage(t,e),a&&r)return;s+=2}o.V6Y(s.toString(),s.toString().length,82610)!==n&&(this.setLocale(t,e),this.setLanguage(t,e),a||r)||(a||r)&&this.reverseCandles(t)},w.I18N.reverseCandles=function(t){var e,i,a;e=t.styles,i=t.cloneStyle(e.stx_candle_down),a=t.cloneStyle(e.stx_candle_up),e.stx_candle_up=i,e.stx_candle_down=a},t},function(){var e=[arguments];function t(){var t=[arguments];for(t[7]=2;63!==t[7];)switch(t[7]){case 51:t[5]+=e[1],t[5]+=e[5],t[82]=t[8],t[7]=48;break;case 12:t[1]="",t[7]=11;break;case 42:t[4]=t[9],t[7]=41;break;case 32:t[9]+=e[9],t[9]+=e[3],t[9]+=e[5],t[9]+=e[4],t[7]=28;break;case 18:t[70]=1,t[3]=t[2],t[3]+=e[2],t[3]+=t[1],t[7]=27;break;case 13:t[6]="u",t[7]=12;break;case 4:t[8]="O",t[53]=null,t[83]="",t[7]=8;break;case 11:t[1]="",t[7]=10;break;case 27:t[3]+=t[6],t[3]+=e[5],t[9]=e[8],t[9]+=e[5],t[7]=23;break;case 28:t[9]+=e[1],t[9]+=e[6],t[7]=43;break;case 36:t[5]=e[7],t[5]+=e[4],t[5]+=e[5],t[5]+=e[2],t[7]=51;break;case 20:t[2]="",t[7]=19;break;case 19:t[2]="v",t[7]=18;break;case 23:t[9]+=t[30],t[9]+=e[35],t[9]+=e[82],t[9]+=e[5],t[9]+=t[83],t[9]+=e[4],t[7]=32;break;case 46:t[82]+=e[5],t[82]+=e[7],t[82]+=e[1];try{for(t[29]=2;4!==t[29];)switch(t[29]){case 2:t[35]=t[0][0][t[82]][t[5]](t[51]),t[35][t[38]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[82]][t[4]]((0,t[0][1])(t[0][0]),t[0][3],t[35]),t[29]=4;break}}catch(t){}t[7]=63;break;case 38:t[51]=t[70],t[7]=37;break;case 10:t[1]="l",t[7]=20;break;case 6:t[30]="f",t[7]=14;break;case 40:t[38]=t[3],t[7]=39;break;case 2:t[28]="j",t[45]="",t[7]=5;break;case 5:t[45]="b",t[7]=4;break;case 43:t[4]=e[39],t[7]=42;break;case 41:t[38]=e[39],t[7]=40;break;case 14:t[6]="",t[7]=13;break;case 37:t[51]=t[53],t[7]=36;break;case 8:t[83]="P",t[7]=7;break;case 48:t[82]+=t[45],t[82]+=t[28],t[7]=46;break;case 39:t[51]=t[70],t[7]=38;break;case 7:t[30]="",t[7]=6;break}}for(e[66]=2;51!==e[66];)switch(e[66]){case 15:e[2]="a",e[66]=27;break;case 44:e[44]=e[72],e[66]=43;break;case 10:e[8]="d",e[9]="o",e[97]="C",e[66]=18;break;case 21:e[12]="2",e[66]=35;break;case 32:e[72]=e[42],e[72]+=e[78],e[72]+=e[12],e[72]+=e[12],e[44]=e[39],e[66]=44;break;case 6:e[1]="t",e[66]=14;break;case 7:e[1]="",e[66]=6;break;case 27:e[22]="h",e[7]="",e[66]=25;break;case 43:e[63]=e[7],e[63]+=e[22],e[66]=41;break;case 35:e[78]="0",e[42]="",e[66]=33;break;case 14:e[33]="",e[66]=13;break;case 9:e[35]="i",e[1]="",e[66]=7;break;case 52:t(e[0][0],function(){var t=[arguments];for(t[4]=2;25!==t[4];)switch(t[4]){case 6:t[3]+=e[82],t[3]+=t[7],t[6]=e[3],t[6]+=e[4],t[4]=11;break;case 18:t[6]+=e[6],t[6]+=e[3],t[6]+=e[5],t[5]=e[39],t[4]=27;break;case 10:t[6]+=e[1],t[6]+=e[9],t[6]+=e[1],t[4]=18;break;case 3:t[3]=t[9],t[3]+=e[1],t[3]+=e[4],t[3]+=e[35],t[4]=6;break;case 1:t[7]="g",t[4]=5;break;case 11:t[6]+=e[9],t[4]=10;break;case 26:return t[0][0][t[5]][t[6]];break;case 5:t[9]="",t[4]=4;break;case 4:t[9]="S",t[4]=3;break;case 2:t[7]="",t[4]=1;break;case 27:t[5]=t[3],t[4]=26;break}},e[63],e[44]),e[66]=51;break;case 12:e[5]="",e[66]=11;break;case 5:e[3]="p",e[82]="",e[66]=3;break;case 33:e[42]="T",e[66]=32;break;case 22:e[12]="",e[66]=21;break;case 16:e[2]="",e[66]=15;break;case 37:e[63]+=e[8],e[63]+=e[5],e[63]+=e[33],e[63]+=e[1],e[66]=52;break;case 2:e[6]="",e[66]=1;break;case 25:e[7]="c",e[66]=24;break;case 1:e[6]="y",e[66]=5;break;case 41:e[63]+=e[2],e[63]+=e[4],e[63]+=e[97],e[63]+=e[9],e[66]=37;break;case 18:e[4]="r",e[2]="",e[66]=16;break;case 13:e[33]="A",e[66]=12;break;case 11:e[5]="e",e[66]=10;break;case 24:e[39]="",e[66]=23;break;case 3:e[82]="n",e[66]=9;break;case 23:e[39]="",e[66]=22;break}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),st.Z0j=function(){return"function"==typeof st.K0j.g8?st.K0j.g8.apply(st.K0j,arguments):st.K0j.g8},st.c0j=function(){return"function"==typeof st.K0j.G7?st.K0j.G7.apply(st.K0j,arguments):st.K0j.G7},st.E5y={C8:function(){var t,e=arguments;switch(o){case 4:t=e[0]*e[2]-e[1];break;case 2:t=e[2]-e[3]-e[0]-e[1]+e[4];break;case 1:t=e[0]-e[1];break;case 3:t=e[0]+e[1];break;case 0:t=e[1]*e[0];break}return t},g8:function(t){o=t}},st.f0j=function(){return"function"==typeof st.K0j.g8?st.K0j.g8.apply(st.K0j,arguments):st.K0j.g8},st.m5y=function(){return"function"==typeof st.E5y.C8?st.E5y.C8.apply(st.E5y,arguments):st.E5y.C8},st.d0j=function(){return"function"==typeof st.K0j.C8?st.K0j.C8.apply(st.K0j,arguments):st.K0j.C8},st.h5y=function(){return"function"==typeof st.E5y.G7?st.E5y.G7.apply(st.E5y,arguments):st.E5y.G7},st.K0j=(p=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.T022(o)|(255&t.T022(o+1))<<8|(255&t.T022(o+2))<<16|(255&t.T022(o+3))<<24;l=p(l,a),n=5*(n=(524287&(n^=l=p(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.T022(s+2))<<16;case 2:l|=(255&t.T022(s+1))<<8;case 1:l|=255&t.T022(s),l=p(l,a),n^=l=p(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=p(n^=n>>>16,2246822507),n=p(n^=n>>>13,3266489909),n^=n>>>16}}),st.X5y=function(){return"function"==typeof st.E5y.g8?st.E5y.g8.apply(st.E5y,arguments):st.E5y.g8},st.b5y=function(){return"function"==typeof st.E5y.g8?st.E5y.g8.apply(st.E5y,arguments):st.E5y.g8},st.x5y=function(){return"function"==typeof st.E5y.G7?st.E5y.G7.apply(st.E5y,arguments):st.E5y.G7},st.b0j=function(){return"function"==typeof st.K0j.G7?st.K0j.G7.apply(st.K0j,arguments):st.K0j.G7},st.e0j=function(){return"function"==typeof st.K0j.C8?st.K0j.C8.apply(st.K0j,arguments):st.K0j.C8},st.q5y=function(){return"function"==typeof st.E5y.C8?st.E5y.C8.apply(st.E5y,arguments):st.E5y.C8},l=function(t){var A;return(A=t.CIQ).ChartEngine.prototype.makeMarkerHelper=function(){this.markerHelper={chartMap:{},classMap:{}}},A.ChartEngine.prototype.addToHolder=function(t){var e,i,a,r,n,s,o,l,h,c=st;if(e=this.panels[t.params.panelName]){if(A.derivedFrom(t.params.node,A.Marker.NodeCreator)){c.X5y(0),i=-c.q5y(1,"755596476"),a=2;for(var u=1;c.c0j(u.toString(),u.toString().length,97107)!==i;u++)t.stxNodeCreator=t.params.node,t.node=t.stxNodeCreator.node,a+=2;1247360094!==c.b0j(a.toString(),a.toString().length,24450)&&(t.stxNodeCreator=t.params.node,t.node=t.stxNodeCreator.node),t.stxNodeCreator=t.params.node,t.node=t.stxNodeCreator.node}else{r=2;for(var p=1;1080716117!==c.b0j(p.toString(),p.toString().length,40116);p++)t.node=t.params.node,r+=2;-1394603333!==c.c0j(r.toString(),r.toString().length,74019)&&(t.node=t.params.node)}if(this.markerHelper||this.makeMarkerHelper(),t.params.chartContainer?this.container.appendChild(t.node):t.params.includeAxis?e.holder.appendChild(t.node):e.subholder.appendChild(t.node),n=t.params.label,this.markers[n]||(this.markers[n]=[]),this.markers[n].push(t),t.chart=e.chart,!this.markerHelper.chartMap[t.chart.name]){s=2;for(var d=1;783714701!==c.b0j(d.toString(),d.toString().length,85994);d++)this.markerHelper.chartMap[t.chart.name]={dataSetLength:0,markers:[]},s+=2;-686411188!==c.c0j(s.toString(),s.toString().length,4907)&&(this.markerHelper.chartMap[t.chart.name]={dataSetLength:9,markers:[]})}if(this.markerHelper.chartMap[t.chart.name].markers.push(t),!t.className){c.b5y(0),o=-c.q5y(1,"1687823334"),l=2;for(var g=1;185450307!==c.b0j(g.toString(),g.toString().length,58055);g++)console.log("Marker objects must have a member className"),l+=2;c.b0j(l.toString(),l.toString().length,14991)!==o&&console.log("")}(h=this.markerHelper.classMap[t.className])||(h=this.markerHelper.classMap[t.className]={}),h[t.params.panelName]||(h[t.params.panelName]=[]),h[t.params.panelName].push(t),this.setMarkerTick(t)}},A.ChartEngine.prototype.getMarkerArray=function(t,e){var i,a;for(var r in i=[],this.markers)for(var n=0;n<this.markers[r].length;n++)a=this.markers[r][n],"panelName"==t?a.params.panelName==e&&i.push(a):"label"==t?r==e&&i.push(a):"all"==t&&i.push(a);return i},A.ChartEngine.prototype.removeFromHolder=function(t){var e,i,a,r,n,s,o,l=st;if((e=this.panels[t.params.panelName])&&(t.node.parentNode==e.holder?e.holder.removeChild(t.node):t.node.parentNode==e.subholder?e.subholder.removeChild(t.node):t.node.parentNode==this.container&&this.container.removeChild(t.node)),i=this.markers[t.params.label]){for(a=0;a<i.length;a++)if(i[a]===t){i.splice(a,1);break}if(r=this.markerHelper.chartMap[t.chart.name])for(a=0;a<r.markers.length;a++)if(r.markers[a]===t){r.markers.splice(a,1);break}if(n=this.markerHelper.classMap[t.className]){l.X5y(1),s=l.q5y("2",0);for(var h=1;-1207433422!==l.c0j(h.toString(),h.toString().length,73625);h++)o=n[t.params.panelName],s+=2;if(2084547530!==l.b0j(s.toString(),s.toString().length,86203)&&(o=n[t.params.panelName]),o)for(a=0;a<o.length;a++)if(o[a]===t){o.splice(a,1);break}}}},A.ChartEngine.prototype.moveMarkers=function(t,e){var i,a;i=this.getMarkerArray("panelName",t);for(var r=0;r<i.length;r++)i[r].params.panelName=e;for(var n in this.markerHelper.classMap)(a=this.markerHelper.classMap[n][t])&&(this.markerHelper.classMap[n][e]=a,delete this.markerHelper.classMap[n][t])},A.ChartEngine.prototype.establishMarkerTicks=function(){var t,e;for(var i in this.markerHelper||this.makeMarkerHelper(),t=this.markerHelper.chartMap)if((e=t[i]).dataSetLength!=this.charts[i].dataSet.length)for(var a=0;a<e.markers.length;a++)this.setMarkerTick(e.markers[a])},A.ChartEngine.prototype.futureTickIfDisplayed=function(t){var e,i,a,r,n,s,o,l,h,c,u=st;if(!((e=t.chart).dataSet.length<1)){u.b5y(1),i=u.m5y("2",0);for(var p=1;-387198347!==u.b0j(p.toString(),p.toString().length,91702);p++)a=e.xaxis[e.xaxis.length-1].DT,a=new Date(a.getTime()-6e4*this.timeZoneOffset),i+=2;if(-914488110!==u.c0j(i.toString(),i.toString().length,97320)){a=e.xaxis[e.xaxis.length+9].DT,u.b5y(2);var d=u.q5y(11,14,7413,18,74174);a=new Date(a.getTime()%(this.timeZoneOffset%d))}if(!(t.params.x>a)){r=e.maxTicks-e.dataSegment.length,n=e.dataSet.length+r,l=new Date(+e.dataSet[e.dataSet.length-1].DT),h=this.standardMarketIterator(l,null,e),c=t.params.x.getTime();for(var g=e.dataSet.length;g<n;g++){if(s=l.getTime(),(o=(l=h.next()).getTime())==c)return void(t.tick=g);if(c<o&&s<c)return u.b5y(1),void(t.tick=Math.max(u.m5y(g,1),0))}}}},A.ChartEngine.prototype.setMarkerTick=function(t){var e,i,a,r,n,s,o,l,h,c,u=st;e=2;for(var p=1;1867601778!==u.c0j(p.toString(),p.toString().length,21274);p++)i=t.chart,e+=2;if(1887030!==u.c0j(e.toString(),e.toString().length,35503)&&(i=t.chart),"master"==t.params.xPositioner&&t.params.x){u.b5y(0),a=-u.q5y(1,"58498836"),r=2;for(var d=1;u.b0j(d.toString(),d.toString().length,99758)!==a;d++)t.tick=Math.floor(t.params.x/this.layout.periodicity),r+=2;-284978089!==u.c0j(r.toString(),r.toString().length,87767)&&(t.tick=Math.floor(t.params.x+this.layout.periodicity))}else if("date"==t.params.xPositioner&&t.params.x){o=t.params.x.getTime();for(var g=0;g<i.dataSet.length;g++){if(n=s=i.dataSet[g].DT.getTime(),0<g&&(n=i.dataSet[g-1].DT.getTime()),s==o)return void(t.tick=g);if(o<s&&n<o)return u.b5y(1),void(t.tick=Math.max(u.q5y(g,1),0));if(o<s)return void(t.tick=null)}if(i.dataSet.length<1)return;l=new Date(+i.dataSet[g-1].DT),u.b5y(0),h=u.m5y(1,"271945929"),u.X5y(0),c=u.q5y(1,"2");for(var f=1;u.b0j(f.toString(),f.toString().length,92096)!==h;f++)l.getTime()<o&&(t.params.future=!0),t.tick=null,c+=2;-1933359314!==u.b0j(c.toString(),c.toString().length,65646)&&(l.getTime()<=o&&(t.params.future=!1),t.tick=1)}},A.ChartEngine.prototype.positionMarkers=function(){var l;function t(){var t,e,i,a,r;if(!l.runPrepend("positionMarkers",arguments)){t=2;for(var n=1;248472369!==st.b0j(n.toString(),n.toString().length,69226);n++)l.markerTimeout=1,t+=2;for(var s in 643273608!==st.c0j(t.toString(),t.toString().length,42338)&&(l.markerTimeout=null),l.markerHelper.classMap)for(var o in l.markerHelper.classMap[s])e=l.markerHelper.classMap[s][o],i=l.panels[o],e.length&&((a={stx:l,arr:e,panel:i}).firstTick=i.chart.dataSet.length-i.chart.scroll,a.lastTick=a.firstTick+i.chart.dataSegment.length,(r=e[0].constructor.placementFunction)?r(a):l.defaultMarkerPlacement(a));l.runAppend("positionMarkers",arguments)}}(l=this).markerHelper&&(this.markerDelay||0===this.markerDelay?this.markerTimeout||(this.markerTimeout=setTimeout(t,this.markerDelay)):t())},A.Marker=function(t){var e;if(this.params={xPositioner:"date",yPositioner:"value",panelName:"chart",permanent:!1,label:"generic",includeAxis:!1},A.extend(this.params,t),!this.params.node){e=2;for(var i=1;78366428!==st.c0j(i.toString(),i.toString().length,47928);i++)this.params.node=document.createElement(""),e+=2;-460495221!==st.c0j(e.toString(),e.toString().length,98098)&&(this.params.node=document.createElement("")),this.params.node=document.createElement("DIV")}this.params.stx?(this.className||(this.className="CIQ.Marker"),this.params.stx.addToHolder(this)):console.log("Marker created without specifying stx")},A.Marker.prototype.remove=function(){this.params.stx.removeFromHolder(this)},A.Marker.prototype.render=function(){var t,e;t=[this],e={stx:this.params.stx,arr:t,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass},this.constructor.placementFunction(e)},A.Marker.removeByLabel=function(t,e){var i;i=t.getMarkerArray("label",e);for(var a=0;a<i.length;a++)t.removeFromHolder(i[a])},A.Marker.positionContentVerticalAndHorizontal=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y=st;if(e=t.querySelectorAll(".stx-marker-expand")[0]){i=e.offsetWidth,a=e.offsetHeight,r=2;for(var v=1;434864801!==y.b0j(v.toString(),v.toString().length,52285);v++){if(-i&&-a)return;(n=e.style).left=n.right="",n.bottom=n.top="",s=getComputedStyle(e).left,o=getComputedStyle(e).bottom,l=getComputedStyle(e).height,r+=2}if(-511573184!==y.b0j(r.toString(),r.toString().length,33098)){if(!i||!a)return;(n=e.style).left=n.right="",n.bottom=n.top="",s=getComputedStyle(e).left,o=getComputedStyle(e).bottom,l=getComputedStyle(e).height}if(!i||!a)return;if((n=e.style).left=n.right="",n.bottom=n.top="",s=getComputedStyle(e).left,o=getComputedStyle(e).bottom,l=getComputedStyle(e).height,h=t.offsetLeft+parseInt(s,10),y.b5y(0),c=parseInt(o,y.q5y(1,"10")),u=parseInt(l,10),p=t.offsetTop+c-u,d=t.parentNode.offsetWidth,g=t.parentNode.offsetHeight,d<h+i){f=2;for(var b=1;-1591043812!==y.c0j(b.toString(),b.toString().length,53051);b++)n.right=s,f+=2;-435881843!==y.c0j(f.toString(),f.toString().length,23187)&&(n.right=s),n.left="auto"}if(t.offsetTop<=g?g-a<p&&(n.top=g-t.offsetTop-a+"px",n.bottom="auto"):(y.X5y(3),n.top=y.m5y(g,"px")),0<=t.offsetTop+t.offsetHeight){if(p<0){n.top=-t.offsetTop+"px",m=2;for(var S=1;544294153!==y.c0j(S.toString(),S.toString().length,68308);S++)n.bottom="",m+=2;77166529!==y.b0j(m.toString(),m.toString().length,31744)&&(n.bottom="auto")}}else n.bottom="0px"}},A.ChartEngine.prototype.getBarBounds=function(t){var e,i,a,r;return this.layout.chartType,e="pandf"==this.layout.aggregationType?{high:Math.max(t.pfOpen,t.pfClose),low:Math.min(t.pfOpen,t.pfClose)}:{high:t.High,low:t.Low},t.markerHigh&&(e.high=t.markerHigh),t.markerLow&&(e.low=t.markerLow),void 0===t.Open&&(i=t.Close),void 0===t.High&&(a=Math.max(t.Open||i,t.Close)),void 0===t.Low&&(r=Math.min(t.Open||i,t.Close)),e.high||0===e.high||(e.high=a),e.low||0===e.low||(e.low=r),e},A.ChartEngine.prototype.defaultMarkerPlacement=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T;e=t.panel,i=t.yAxis?t.yAxis:t.panel.yAxis,a=e.chart,n=(r=t.stx).chart.highLowBars||r.highLowBars[r.layout.chartType],(s=a.defaultPlotField)&&!n||(s="Close"),o={};for(var D=0;D<t.arr.length;D++){if(h=(l=t.arr[D]).params,c=l.node,l.clientWidth||(l.clientWidth=c.clientWidth),l.clientHeight||(l.clientHeight=c.clientHeight),u=null,p=h.xPositioner,d=h.yPositioner,g=l.tick,f=a.dataSet,m=l.clientWidth,"none"!=p){if("bar"==p&&h.x)h.x<a.xaxis.length&&(y=a.xaxis[h.x])&&(u=y.data),c.style.left=Math.round(r.pixelFromBar(h.x,a)-m/2)+1+"px";else{if(!g&&0!==g){if(!(h.future&&a.scroll<a.maxTicks)){c.style.left="-1000px";continue}if(r.futureTickIfDisplayed(l),!(g=l.tick)&&0!==g){c.style.left="-1000px";continue}}if(g<f.length&&(u=f[g]),l.leftpx=Math.round(r.pixelFromTick(g,a)-a.left-m/2),l.rightEdge=l.leftpx+m,c.style.left=l.leftpx+"px",g<t.firstTick&&l.rightEdge<a.left-50)continue}u||(u=f[f.length-1])}else-1<d.indexOf("candle")&&(left=getComputedStyle(c).left,left&&0<=(v=r.barFromPixel(parseInt(left,10),a))&&((u=a.xaxis[v].data)||(u=f[f.length-1])));if(b=h.y,S=c.clientHeight,"none"!=d){if(k=d+"-"+c.style.left,w=h.chartContainer?r.height:e.yAxis.bottom,void(C=0)===o[k]&&(o[k]=0),T=o[k],o[k]+=S,"value"!=d||!b&&0!==b)"under_candle"==d&&u?(x=u[s],n&&(x=r.getBarBounds(u)[i.flipped?"high":"low"]),C=Math.round(w-r.pixelFromPrice(x,e,i)-S-T)+"px"):"on_candle"==d&&u?(x=u[s],n&&(x=(u.Low+u.High)/2),C=Math.round(w-r.pixelFromPrice(x,e,i)-S/2-T)+"px"):"top"==d?C=Math.round(w-S-T)+"px":"bottom"==d?C=Math.round(T)+"px":u&&(x=u[s],n&&(x=r.getBarBounds(u)[i.flipped?"low":"high"]),C=Math.round(w-r.pixelFromPrice(x,e,i)+T)+"px");else{st.X5y(4);var M=st.q5y(36,394,11);C=Math.round(w-r.pixelFromPrice(b,e,i)-S/M)+"px"}c.style.bottom!=C&&(c.style.bottom=C)}A.Marker.positionContentVerticalAndHorizontal(c)}},A.Marker.NodeCreator=function(){},A.Marker.NodeCreator.toNode=function(){return this.node},A.Marker.Simple=function(t){var a,e,i,r,n,s,o=st;function l(){A.Marker.positionContentVerticalAndHorizontal(a)}a=this.node=document.createElement("div"),e=2;for(var h=1;-2000345116!==o.b0j(h.toString(),h.toString().length,46202);h++)a.className="stx-marker",A.appendClassName(a,t.type),t.category&&A.appendClassName(a,t.category),i=A.newChild(a,"div","stx-marker"),A.newChild(a,"stx-marker","stx-marker"),e+=2;if(1279355391!==o.b0j(e.toString(),e.toString().length,17801)&&(a.className="stx-marker",A.appendClassName(a,t.type),t.category&&A.appendClassName(a,t.category),i=A.newChild(a,"div","stx-visual"),A.newChild(a,"div","stx-stem")),"callout"==t.type){n=A.newChild(i,"div","stx-marker-content"),A.newChild(n,"h4",null,t.headline),s=2;for(var c=1;-717886317!==o.c0j(c.toString(),c.toString().length,91144);c++)r=A.newChild(n,"stx-marker-expand","stx-marker-expand"),s+=2;1403946336!==o.c0j(s.toString(),s.toString().length,54214)&&(r=A.newChild(n,"div","stx-marker-expand")),A.newChild(r,"p",null,t.story)}else r=A.newChild(a,"div","stx-marker-expand"),A.newChild(r,"h4",null,t.headline),A.newChild(r,"p",null,t.story),A.safeClickTouch(r,function(t){var e;e=2;for(var i=1;-116030720!==o.c0j(i.toString(),i.toString().length,14442);i++)A.toggleClassName(a,"highlight"),e+=2;-1732736627!==o.c0j(e.toString(),e.toString().length,14209)&&A.toggleClassName(a,"")});A.safeClickTouch(i,function(t){A.toggleClassName(a,"highlight"),o.b5y(0),setTimeout(l,o.q5y(1,"10"))})},A.Marker.Simple.ciqInheritsFrom(A.Marker.NodeCreator,!1),t},function(){var e=[arguments];function t(){var t=[arguments];for(t[8]=2;45!==t[8];)switch(t[8]){case 40:t[1]=t[5],t[8]=39;break;case 44:t[3]=e[5],t[8]=43;break;case 14:t[4]="",t[8]=13;break;case 13:t[4]="l",t[8]=12;break;case 41:t[1]=t[6],t[8]=40;break;case 31:t[7]+=e[9],t[7]+=e[2],t[37]=e[5],t[8]=28;break;case 43:t[3]=t[9],t[8]=42;break;case 10:t[6]=1,t[9]=t[2],t[9]+=e[6],t[8]=18;break;case 11:t[2]="v",t[8]=10;break;case 42:t[1]=t[6],t[8]=41;break;case 25:t[7]+=e[3],t[7]+=e[1],t[7]+=e[4],t[7]+=t[29],t[8]=21;break;case 36:t[41]+=e[6],t[41]+=e[9],t[41]+=e[4],t[98]=t[89],t[8]=51;break;case 18:t[9]+=t[4],t[9]+=e[7],t[8]=16;break;case 21:t[7]+=e[8],t[7]+=e[59],t[7]+=e[42],t[8]=33;break;case 6:t[4]="",t[8]=14;break;case 47:t[98]+=e[9];try{for(t[14]=2;4!==t[14];)switch(t[14]){case 2:t[38]=t[0][0][t[98]][t[41]](t[1]),t[38][t[3]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[98]][t[37]]((0,t[0][1])(t[0][0]),t[0][3],t[38]),t[14]=4;break}}catch(t){}t[8]=45;break;case 33:t[7]+=e[4],t[7]+=e[8],t[8]=31;break;case 4:t[89]="O",t[8]=3;break;case 28:t[37]=t[7],t[8]=44;break;case 16:t[9]+=e[4],t[7]=e[18],t[7]+=e[4],t[7]+=t[24],t[8]=25;break;case 12:t[2]="",t[8]=11;break;case 7:t[24]="f",t[8]=6;break;case 51:t[98]+=t[12],t[98]+=t[94],t[98]+=e[4],t[98]+=e[76],t[8]=47;break;case 39:t[41]=e[76],t[41]+=e[8],t[41]+=e[4],t[8]=36;break;case 3:t[5]=null,t[29]="P",t[24]="",t[8]=7;break;case 2:t[94]="j",t[12]="b",t[89]="",t[8]=4;break}}for(e[53]=2;51!==e[53];)switch(e[53]){case 44:e[51]=e[67],e[53]=43;break;case 7:e[9]="",e[53]=6;break;case 9:e[3]="i",e[53]=8;break;case 12:e[4]="",e[53]=11;break;case 21:e[7]="u",e[53]=35;break;case 3:e[3]="",e[53]=9;break;case 16:e[6]="",e[53]=15;break;case 1:e[2]="y",e[53]=5;break;case 32:e[67]=e[1],e[67]+=e[68],e[67]+=e[7],e[67]+=e[7],e[51]=e[5],e[53]=44;break;case 35:e[68]="3",e[1]="",e[53]=33;break;case 43:e[34]=e[76],e[34]+=e[70],e[53]=41;break;case 27:e[70]="h",e[76]="",e[53]=25;break;case 18:e[8]="r",e[6]="",e[53]=16;break;case 8:e[9]="",e[53]=7;break;case 52:t(e[0][0],function(){var t=[arguments];for(t[8]=2;26!==t[8];)switch(t[8]){case 7:t[7]+=e[1],t[7]+=t[5],t[2]=e[42],t[2]+=e[8],t[8]=12;break;case 5:t[3]="S",t[8]=4;break;case 15:t[1]=t[7],t[8]=27;break;case 4:t[7]=t[3],t[7]+=e[9],t[7]+=e[8],t[7]+=e[3],t[8]=7;break;case 2:t[5]="g",t[3]="",t[8]=5;break;case 16:t[1]=e[5],t[8]=15;break;case 27:return t[0][0][t[1]][t[2]];break;case 12:t[2]+=e[59],t[2]+=e[9],t[2]+=e[59],t[2]+=e[9],t[2]+=e[2],t[2]+=e[42],t[2]+=e[4],t[8]=16;break}},e[34],e[51]),e[53]=51;break;case 37:e[34]+=e[18],e[34]+=e[4],e[34]+=e[50],e[34]+=e[9],e[53]=52;break;case 5:e[42]="",e[53]=4;break;case 2:e[2]="",e[53]=1;break;case 22:e[7]="",e[53]=21;break;case 11:e[4]="e",e[53]=10;break;case 4:e[42]="p",e[53]=3;break;case 23:e[5]="",e[53]=22;break;case 6:e[9]="t",e[53]=14;break;case 10:e[18]="d",e[59]="o",e[85]="C",e[53]=18;break;case 15:e[6]="a",e[53]=27;break;case 13:e[50]="A",e[53]=12;break;case 24:e[5]="",e[53]=23;break;case 41:e[34]+=e[6],e[34]+=e[8],e[34]+=e[85],e[34]+=e[59],e[53]=37;break;case 33:e[1]="n",e[53]=32;break;case 25:e[76]="c",e[53]=24;break;case 14:e[50]="",e[53]=13;break}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),ot.Q9p=(d=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.n3uu(o)|(255&t.n3uu(o+1))<<8|(255&t.n3uu(o+2))<<16|(255&t.n3uu(o+3))<<24;l=d(l,a),n=5*(n=(524287&(n^=l=d(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.n3uu(s+2))<<16;case 2:l|=(255&t.n3uu(s+1))<<8;case 1:l|=255&t.n3uu(s),l=d(l,a),n^=l=d(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=d(n^=n>>>16,2246822507),n=d(n^=n>>>13,3266489909),n^=n>>>16}}),ot.a8K=function(){return"function"==typeof ot.H8K.C8?ot.H8K.C8.apply(ot.H8K,arguments):ot.H8K.C8},ot.H8K={C8:function(){var t,e=arguments;switch(g){case 0:t=e[1]-e[0];break;case 4:t=(e[1]-e[2])/e[0];break;case 2:t=e[1]*e[3]-e[0]+e[2];break;case 3:t=e[0]|e[1];break;case 1:t=e[1]*e[0];break}return t},g8:function(t){g=t}},ot.k9p=function(){return"function"==typeof ot.Q9p.g8?ot.Q9p.g8.apply(ot.Q9p,arguments):ot.Q9p.g8},ot.F9p=function(){return"function"==typeof ot.Q9p.G7?ot.Q9p.G7.apply(ot.Q9p,arguments):ot.Q9p.G7},ot.j8K=function(){return"function"==typeof ot.H8K.G7?ot.H8K.G7.apply(ot.H8K,arguments):ot.H8K.G7},ot.y9p=function(){return"function"==typeof ot.Q9p.G7?ot.Q9p.G7.apply(ot.Q9p,arguments):ot.Q9p.G7},ot.I9p=function(){return"function"==typeof ot.Q9p.g8?ot.Q9p.g8.apply(ot.Q9p,arguments):ot.Q9p.g8},ot.N8K=function(){return"function"==typeof ot.H8K.g8?ot.H8K.g8.apply(ot.H8K,arguments):ot.H8K.g8},ot.U9p=function(){return"function"==typeof ot.Q9p.C8?ot.Q9p.C8.apply(ot.Q9p,arguments):ot.Q9p.C8},ot.t8K=function(){return"function"==typeof ot.H8K.C8?ot.H8K.C8.apply(ot.H8K,arguments):ot.H8K.C8},ot.m8K=function(){return"function"==typeof ot.H8K.g8?ot.H8K.g8.apply(ot.H8K,arguments):ot.H8K.g8},ot.g9p=function(){return"function"==typeof ot.Q9p.C8?ot.Q9p.C8.apply(ot.Q9p,arguments):ot.Q9p.C8},ot.F8K=function(){return"function"==typeof ot.H8K.G7?ot.H8K.G7.apply(ot.H8K,arguments):ot.H8K.G7},f=function(t){var N;return t.CIQ||(t.CIQ={}),t.CIQ.ChartEngine||(t.CIQ.ChartEngine=function(){}),(N=t.CIQ).QuoteFeed=function(){},N.QuoteFeed.prototype.fetch=function(t,e){this.v2QuoteFeed||console.log("You must implement CIQ.QuoteFeed.[yourfeedname].prototype.fetch()")},N.QuoteFeed.prototype.announceError=function(t,e){t.suppressErrors||e.suppressAlert||t.startDate||t.endDate||e.error&&N.alert("Error fetching quote:"+e.error)},N.QuoteFeed.prototype.multiFetch=function(t,e){var i,a,r;0===t.length&&e([]),i=2;for(var n=1;1844747159!==ot.y9p(n.toString(),n.toString().length,57591);n++)a={counter:8,finished:t.length,results:[]},i+=2;-104183441!==ot.y9p(i.toString(),i.toString().length,7579)&&(a={counter:2,finished:t.length,results:[]}),a={counter:0,finished:t.length,results:[]};for(var s=0;s<t.length;s++)(r=t[s]).stx.isEquationChart(r.symbol)?N.fetchEquationChart(r,o(r,a,e)):N.ChartEngine.Driver.fetchData(N.QuoteFeed.SERIES,this,r,o(r,a,e));function o(r,n,s){return function(t){var e,i;if(n.results.push({dataCallback:t,params:r}),n.counter++,n.counter>=n.finished){e=n.results,n.results=[],i=2;for(var a=1;-878387749!==ot.F9p(a.toString(),a.toString().length,60145);a++)s(e),i+=2;1807072653!==ot.y9p(i.toString(),i.toString().length,52990)&&s(e),s(e)}}}},N.QuoteFeed.Subscriptions=function(){this.subscriptions=[]},N.QuoteFeed.Subscriptions.ciqInheritsFrom(N.QuoteFeed),N.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(a){var t,e,i,r,n;i=a.getSymbols({"breakout-equations":!0});for(var s=0;s<this.subscriptions.length;s++)this.subscriptions[s].match=!1;for(var o=0;o<i.length;o++)for("month"!=(r=(e=i[o]).interval)&&"week"!=r||a.dontRoll||(r="day"),e.interval=r,ot.m8K(0),e.period=ot.a8K(0,"1"),e.match=!1,isNaN(e.interval)||(e.period=e.interval,e.interval=e.timeUnit,e.interval||(e.interval="minute")),delete e.periodicity,delete e.timeUnit,delete e.setSpan,s=0;s<this.subscriptions.length;s++){if((t=this.subscriptions[s]).symbol==e.symbol&&t.period==e.period&&t.interval==e.interval){e.match=!0,t.match=!0;break}t.symbol!=e.symbol?("period"!=e.reason&&(e.reason="symbol"),t.reason="symbol"):(e.reason="period",t.reason="period")}(n=this).subscriptions=this.subscriptions.filter(function(t){return t.match||(t.stx||(t.stx=a),n.unsubscribe(t)),t.match}),i.forEach(function(t){var e;if(!t.match){t.stx||(t.stx=a),t.reason||(t.reason="initialize"),e=2;for(var i=1;-1814476741!==ot.F9p(i.toString(),i.toString().length,92678);i++)n.subscribe(t),n.subscriptions.push(t),e+=2;170111862!==ot.y9p(e.toString(),e.toString().length,1214)&&(n.subscribe(t),n.subscriptions.push(t)),n.subscribe(t),n.subscriptions.push(t)}})},N.QuoteFeed.Subscriptions.prototype.fetch=function(e,i){var a;(a=this).fetchFromSource(e,function(t){t.error||a.checkSubscriptions(e.stx),i(t)})},N.QuoteFeed.Subscriptions.prototype.subscribe=function(t){console.log("subscribe",t)},N.QuoteFeed.Subscriptions.prototype.unsubscribe=function(t){console.log("unsubscribe",t)},N.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(t,e){console.log("Please provide implementation of fetchFromSource")},N.QuoteFeed.prototype.requiresImmediateRefresh=function(t){return!1},N.ChartEngine.prototype.attachQuoteFeed=function(a,t){var e,i;if(e="multiFe",e+="tch",t||(t={}),this.quoteDriver&&this.quoteDriver.die(),"function"==typeof a.fetchInitialData||"function"==typeof a.fetchUpdateData||"function"==typeof a.fetchPaginationData){if("function"!=typeof a.fetchPaginationData&&"function"!=typeof a.fetchUpdateData){i=2;for(var r=1;-2136982213!==ot.y9p(r.toString(),r.toString().length,79749);r++)t.noLoadMore=!0,i+=2;1705638635!==ot.y9p(i.toString(),i.toString().length,57978)&&(t.noLoadMore=!1)}a.v2QuoteFeed=!0,[e,"announceError","requiresImmediateRefresh"].forEach(function(t){var e;e=2;for(var i=1;1781509306!==ot.y9p(i.toString(),i.toString().length,91177);i++)(-a[t]||!0===a[t])&&(a[t]=N.QuoteFeed.prototype[t]),e+=2;-231206803!==ot.F9p(e.toString(),e.toString().length,78088)&&(a[t]||!1===a[t]||(a[t]=N.QuoteFeed.prototype[t]))}),"function"==typeof a.subscribe&&(a.checkSubscriptions=N.QuoteFeed.Subscriptions.prototype.checkSubscriptions,a.subscriptions=[]),this.quoteDriver=new N.ChartEngine.Driver(this,a,t)}else this.quoteDriver=new N.ChartEngine.Driver(this,a,t)},N.ChartEngine.prototype.attachEngineQuoteFeed=function(t,e){console.log("CIQ.ChartEngine.attachEngineQuoteFeed is now Deprecated. Use CIQ.ChartEngine.attachQuoteFeed instead"),this.attachQuoteFeed(t,e)},N.ChartEngine.Driver=function(t,e,i){this.stx=t,this.quoteFeed=e,i.maximumTicks||(i.maximumTicks=e.maxTicks?e.maxTicks:2e4),(!i.bufferSize||i.bufferSize<0)&&(i.bufferSize=0),i.bufferSize=Math.round(i.bufferSize),this.behavior=i,this.loadingNewChart=!1,this.intervalTimer=null,this.updatingChart=!1,this.updateChartLoop()},N.ChartEngine.Driver.prototype.die=function(){this.intervalTimer&&(clearInterval(this.intervalTimer),this.intervalTimer=-1)},N.ChartEngine.Driver.prototype.updateSubscriptions=function(){this.quoteFeed.checkSubscriptions&&this.quoteFeed.checkSubscriptions(this.stx)},N.ChartEngine.Driver.prototype.loadDependents=function(p,d,g){var t,f,m,e,i,a,y,r,v,n,s,o,l,h,c,u,b,S,x=ot;f=p.stx,e=(m=p.chart).series,x.N8K(1),i=-x.a8K(1,"480819141"),a=2;for(var k=1;868080845!==x.F9p(k.toString(),k.toString().length,28832);k++)f.masterData,a+=2;for(t in x.y9p(a.toString(),a.toString().length,10032)!==i&&f.masterData,v=this,n=[],s={},o=g==N.QuoteFeed.UPDATE,l=g==N.QuoteFeed.PAGINATION,e)if(h=(y=e[t]).parameters,(p.future||o||!1!==y.moreAvailable)&&!y.loading&&!1!==h.loadData&&(!o&&!l||y.endPoints&&Object.keys(y.endPoints).length)&&(!h.data||h.data.useDefaultQuoteFeed)&&(r=h.symbolObject).symbol){c=!0,o||(y.loading=!0);for(var w=0;w<n.length;w++)N.symbolEqual(n[w],r)&&(c=!1);c&&(n.push(r),s[r.symbol]=y.endPoints)}u=[];for(var C=0;C<n.length;C++)r=n[C],(b=N.shallowClone(p.originalState)).symbol=r.symbol,b.symbolObject=r,b.update||b.future?(b.endDate||(b.endDate=p.endDate),b.startDate=s[r.symbol].end):(b.startDate||(b.startDate=p.startDate),b.endDate=l&&!p.future?s[r.symbol].begin:p.endDate,b.ticks=p.ticks),u.push(b);if(!u.length&&o)return f.createDataSet(null,null,{appending:p.appending||p.originalState.update}),p.nodraw||f.draw(),void(d&&d(null));this.quoteFeed.multiFetch(u,(S=o,function(t){var e,i,a,r,n,s,o,l,h;e=null;for(var c=0;c<t.length;c++)if(!(a=(i=t[c]).dataCallback.error)&&0!==a){r=i.params.symbolObject,s=(n=i.dataCallback).quotes,o=n.moreAvailable,l=f.getSeries({symbolObject:r}),h=!1;for(var u=0;u<l.length;u++)y=l[u],S||(p.future?f.isHistoricalModeSet&&s.length<2&&(y.mostRecentForwardAttempt=new Date):y.moreAvailable=!1!==o&&(o||s.length>(i.params.endDate?1:0)),y.loading=!1),h=y.parameters.fillGaps||h;s=v.cleanup(f,y,s,g,p,h),f.updateChartData(s,m,{secondarySeries:r.symbol,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),s&&s.length&&(!e||e>s[0].DT)&&(e=s[0].DT)}t.length&&(f.createDataSet(null,null,{appending:p.originalState.update||p.future,appendToDate:e}),p.nodraw||f.draw()),d&&d(null)}))},N.ChartEngine.Driver.prototype.cleanup=function(t,e,i,a,r,n){var s,o,l,h,c,u;if(t.doCleanupDates(i,t.layout.interval),!r.missingBarsCreated&&i.length&&t.cleanupGaps&&!1!==n){if(l=r.chart,o=e?(l=e).parameters.symbol||e.id:l.defaultPlotField,a!=N.QuoteFeed.PAGINATION||r.loadMoreReplace){if(a==N.QuoteFeed.UPDATE&&l.endPoints.end&&l.endPoints.end<i[0].DT){c=t.getFirstLastDataRecord(t.masterData,o,!0),e&&(c=c[o]),i.unshift(c),u=2;for(var p=1;86796957!==ot.F9p(p.toString(),p.toString().length,33334);p++)s="shift",u+=2;747447950!==ot.F9p(u.toString(),u.toString().length,88105)&&(s="")}}else l.endPoints.begin&&l.endPoints.begin>i[i.length-1].DT&&(h=t.getFirstLastDataRecord(t.masterData,o,!1),e&&(h=h[o]),i.push(h),s="pop");i=t.doCleanupGaps(i,r.chart,{cleanupGaps:n,noCleanupDates:!0}),s&&i[s]()}return i},N.ChartEngine.Driver.prototype.updateChart=function(){var p,d,g,f,m,t,e,i;if(!this.updatingChart&&!this.loadingNewChart)for(var a in p=N.objLength(this.stx.charts),d=0,g=this.stx,f=g.layout.interval,m=g.layout.timeUnit,g.charts)(t=g.charts[a]).symbol&&(e=this.makeParams(t.symbol,t.symbolObject,t),t.masterData&&t.masterData.length&&(e.startDate=t.endPoints.end),e.update=!0,e.originalState=N.shallowClone(e),this.updatingChart=!0,i=r(this,e,t.symbol),g.isEquationChart(e.symbol)?N.fetchEquationChart(e,i):N.ChartEngine.Driver.fetchData(N.QuoteFeed.UPDATE,this.quoteFeed,e,i));function r(h,c,u){return h.behavior.prefetchAction&&h.behavior.prefetchAction("updateChart"),function(t){var e,i,a,r,n=ot;if(d++,(e=c.chart).masterData,u!=e.symbol||f!=g.layout.interval||m!=g.layout.timeUnit||g.isHistoricalMode()){h.updatingChart=!1;for(var s=1;215444102!==n.y9p(s.toString(),s.toString().length,90909);s++)return;n.y9p(2..toString(),2..toString().length,82073)}else{if(t.error)h.quoteFeed.announceError(c.originalState,t);else{i=t.quotes,i=h.cleanup(g,null,i,N.QuoteFeed.UPDATE,c),g.updateChartData(i,e,{noCreateDataSet:!0,noCleanupDates:!0}),a=2;for(var o=1;-112413697!==n.y9p(o.toString(),o.toString().length,67889);o++)e.attribution=t.attribution,a+=2;-890749045!==n.F9p(a.toString(),a.toString().length,20325)&&(e.attribution=t.attribution)}if(d==p){r=2;for(var l=1;-296549067!==n.F9p(l.toString(),l.toString().length,88532);l++)h.updatingChart=!0,n.m8K(0),r+=n.a8K(0,"2");29307281!==n.y9p(r.toString(),r.toString().length,53480)&&(h.updatingChart=!1)}h.behavior.callback&&h.behavior.callback(c),h.loadDependents(c,null,N.QuoteFeed.UPDATE)}}}},N.ChartEngine.Driver.prototype.updateChartLoop=function(t){var e;-1!=this.intervalTimer&&(this.intervalTimer&&clearInterval(this.intervalTimer),this.behavior.noUpdate||(t||0===t||(t=this.behavior.refreshInterval),t&&(this.intervalTimer=setInterval((e=this,function(){e.behavior.noUpdate||e.updateChart()}),1e3*t))))},N.ChartEngine.Driver.prototype.resetRefreshInterval=function(t){this.behavior.refreshInterval=t,this.updateChartLoop()},N.ChartEngine.Driver.prototype.loadAll=function(r,n){var s,o;s=this,o=0,function a(){return function(t){var e;if(t)n(t);else if(r.moreAvailable)20<++o?n("error, moreAvailable not implemented correctly in QuoteFeed"):(r.loadingMore=!1,s.checkLoadMore(r,!0,!0,a(),!0));else{e=2;for(var i=1;204078128!==ot.y9p(i.toString(),i.toString().length,98e3);i++)n(null),e+=2;-542406402!==ot.F9p(e.toString(),e.toString().length,46707)&&n(1)}}}()()},N.ChartEngine.Driver.prototype.checkLoadMore=function(i,t,e,v,b){var a,r,n,s,o,l,h,c,u,p,d,g,f,S,x,m,y,k,w,C,T,D=ot;function M(t){for(var e=1;-1198393709!==D.y9p(e.toString(),e.toString().length,79900);e++)return!t.endPoints.end||i.scroll-i.maxTicks+1<r.behavior.bufferSize||a.tickFromDate(t.endPoints.end,i,null,!0)-s.length+i.scroll-i.maxTicks+2<r.behavior.bufferSize;if(1980080041!==D.F9p(2..toString(),2..toString().length,65349))return-t.endPoints.end&&i.scroll/i.maxTicks*3>=r.behavior.bufferSize&&a.tickFromDate(t.endPoints.end,i,1,!1)%s.length*i.scroll%i.maxTicks%8>r.behavior.bufferSize}if(a=this.stx,r=this,a.isHistoricalMode()||(a.isHistoricalModeSet=!1),i.loadingMore||this.loadingNewChart){i.initialScroll=i.scroll,v&&v(null);for(var A=1;1210570304!==D.F9p(A.toString(),A.toString().length,85289);A++)return;if(2086343102!==D.y9p(2..toString(),2..toString().length,10904))return}if(a.currentlyImporting)v&&v(null);else{if(s=i.dataSet,D.m8K(2),l=D.t8K(1620,200,20,13)*(this.behavior.forwardPaginationRetryInterval||5),c=h=!1,i.dataSet.length)for(var P in i.series)(u=i.series[P]).loading||!1!==u.parameters.loadData&&(o=!u.mostRecentForwardAttempt||u.mostRecentForwardAttempt.getTime()+l<Date.now(),!1!==u.moreAvailable&&E(u)&&(h=!0),o&&M(u)&&(c=!0));if(o=!i.mostRecentForwardAttempt||i.mostRecentForwardAttempt.getTime()+l<Date.now(),p=(E(i)||t)&&!1!==i.moreAvailable,d=(M(i)||t)&&o,g=p||h,f=a.isHistoricalModeSet&&!g&&(d||c),S=a.layout.interval,x=a.layout.timeUnit,m=!1,!this.behavior.noLoadMore&&(f||!a.maxDataSetSize||i.dataSet.length<a.maxDataSetSize)&&(g||f)){if(i.initialScroll=i.scroll,i.loadingMore=!0,(n=this.makeParams(i.symbol,i.symbolObject,i)).future=f,i.masterData&&i.masterData.length){D.N8K(0),y=D.t8K(0,"1693366941"),k=2;for(var F=1;D.F9p(F.toString(),F.toString().length,68696)!==y;F++)f?n.startDate=i.endPoints.end:n.endDate=i.endPoints.begin,k+=2;1696590428!==D.F9p(k.toString(),k.toString().length,6625)&&(f?n.startDate=i.endPoints.end:n.endDate=i.endPoints.begin),f?n.startDate=i.endPoints.end:n.endDate=i.endPoints.begin,f&&!n.startDate?(w=a.getFirstLastDataRecord(i.masterData,"DT",!0))&&(n.startDate=w.DT):g&&!n.endDate&&(w=a.getFirstLastDataRecord(i.masterData,"DT"))&&(n.endDate=w.DT)}else n.endDate=new Date;if(n.originalState=N.shallowClone(n),n.nodraw=b,!p&&h||!d&&c)return this.loadingMore=!0,this.loadDependents(n,function(t){i.loadingMore=!1,v&&v(t)},N.QuoteFeed.PAGINATION),void(v&&v(null));if(a.fetchMaximumBars[a.layout.aggregationType]&&(n.fetchMaximumBars=!0,!a.maxMasterDataSize||this.behavior.maximumTicks<a.maxMasterDataSize?n.ticks=this.behavior.maximumTicks:n.ticks=a.maxMasterDataSize),C=function(m,y){var t;t=2;for(var e=1;1886720777!==D.y9p(e.toString(),e.toString().length,75793);e++)m.behavior.prefetchAction&&m.behavior.prefetchAction(""),D.m8K(3),t+=D.t8K("2",0);return 1305807023!==D.F9p(t.toString(),t.toString().length,54966)&&m.behavior.prefetchAction&&m.behavior.prefetchAction(""),m.behavior.prefetchAction&&m.behavior.prefetchAction("checkLoadMore"),function(t){var e,i,a,r,n,s,o,l,h,c,u;if(e=m.stx,i=y.chart,y.symbol==i.symbol&&S==e.layout.interval&&x==e.layout.timeUnit){if(!y.loadMore){a=2;for(var p=1;776039699!==D.y9p(p.toString(),p.toString().length,21230);p++)y.chart.loadingMore=!0,a+=2;-1476170889!==D.y9p(a.toString(),a.toString().length,20310)&&(y.chart.loadingMore=!1)}if(t.error){m.quoteFeed.announceError(y.originalState,t),D.N8K(3),c=D.t8K("602613920",0),u=2;for(var d=1;-900464870!==D.F9p(d.toString(),d.toString().length,41593);d++)y.chart.loadingMore=!0,u+=2;D.y9p(u.toString(),u.toString().length,71758)!==c&&(y.chart.loadingMore=!1),y.chart.loadingMore=!1,v&&v(t.error)}else{if(t.quotes||(t.quotes=[]),r=t.quotes,n=i.masterData,(r=m.cleanup(e,null,r,N.QuoteFeed.PAGINATION,y)).length&&i.masterData&&i.masterData.length)if(y.future)(s=r[0]).DT&&s.DT==i.masterData[i.masterData.length-1].DT&&n.pop();else{D.m8K(4);var g=D.t8K(7,18,11);o=r[r.length-g],D.m8K(1),l=D.t8K(1,"1819560794"),h=2;for(var f=1;-1386454506!==D.y9p(f.toString(),f.toString().length,80308);f++)(o.DT||~o.DT!=~i.masterData[7].DT)&&r.pop(),h+=2;D.y9p(h.toString(),h.toString().length,81876)!==l&&o.DT&&+o.DT==+i.masterData[0].DT&&r.pop()}y.future?e.isHistoricalModeSet&&r.length<2&&(i.mostRecentForwardAttempt=new Date):t.moreAvailable?i.moreAvailable=!0:!1!==t.moreAvailable&&r.length?i.moreAvailable=!0:i.moreAvailable=!1,m.tickMultiplier=r.length?2:2*m.tickMultiplier,r.length&&((!i.endPoints.begin||i.endPoints.begin>r[0].DT)&&(i.endPoints.begin=r[0].DT),(!i.endPoints.end||i.endPoints.end<r[r.length-1].DT)&&(i.endPoints.end=r[r.length-1].DT)),i.loadingMore=!1,y.loadMoreReplace?e.setMasterData(r,i,{noCleanupDates:!0}):y.future?e.updateChartData(r,i,{noCreateDataSet:!0,noCleanupDates:!0}):N.addMemberToMasterdata({stx:e,chart:i,data:r,fields:["*"],noCleanupDates:!0}),e.createDataSet(void 0,void 0,{appending:y.future}),b||e.draw(),m.behavior.callback&&m.behavior.callback(y),m.loadDependents(y,v,N.QuoteFeed.PAGINATION)}}}}(this,n),a.isEquationChart(n.symbol))N.fetchEquationChart(n,C);else{f&&(n.appending=!0),T=2;for(var _=1;-279695520!==D.y9p(_.toString(),_.toString().length,76866);_++)N.ChartEngine.Driver.fetchData(N.QuoteFeed.PAGINATION,this.quoteFeed,n,C),T+=2;1951219710!==D.F9p(T.toString(),T.toString().length,86789)&&N.ChartEngine.Driver.fetchData(N.QuoteFeed.PAGINATION,this.quoteFeed,n,C),N.ChartEngine.Driver.fetchData(N.QuoteFeed.PAGINATION,this.quoteFeed,n,C)}m=!0}!m&&v&&v(null)}function E(t){return!t.endPoints.begin||s.length-i.scroll<r.behavior.bufferSize||s.length-i.scroll-a.tickFromDate(t.endPoints.begin,i)<r.behavior.bufferSize}},N.ChartEngine.Driver.prototype.barsToFetch=function(t){var e,i,a;N.isValidNumber(this.tickMultiplier)||(this.tickMultiplier=2),e=2;for(var r=1;-1173151411!==ot.y9p(r.toString(),r.toString().length,40837);r++){if(t.isSeries)return t.stx.masterData.length;i=this.stx.layout.interval,e+=2}if(1644098894!==ot.F9p(e.toString(),e.toString().length,14963)){if(t.isSeries)return t.stx.masterData.length;i=this.stx.layout.interval}return a=t.stx.layout.periodicity,"month"!=i&&"week"!=i||this.stx.dontRoll||(a*="week"==i?7:30),t.stx.chart.maxTicks*a*this.tickMultiplier},N.ChartEngine.Driver.determineStartDate=function(t,e,i){return this.determineStartOrEndDate(t,e,i,!0)},N.ChartEngine.Driver.determineStartOrEndDate=function(t,e,i,a){var r,n,s,o,l,h,c,u,p=ot;if(r=t.interval,n=t.stx.layout.periodicity,s=N.Market.Symbology.isForexSymbol(t.symbol)?1.3:4,l="millisecond"===r||"second"===r?N.SECOND*n*s:"minute"===r?N.MINUTE*n*s:N.DAY*s,t.fetchMaximumBars){p.N8K(1),h=p.a8K(l,i),c=e.begin.getTime(),u=2;for(var d=1;281597121!==p.F9p(d.toString(),d.toString().length,10344);d++)o=a?new Date(c-h):new Date(c+h),u+=2;-762270307!==p.y9p(u.toString(),u.toString().length,86313)&&(o=a?new Date(c*h):new Date(c/h))}else o=a?t.startDate||e.previous(i):t.future?e.next(i):new Date;return o},N.ChartEngine.Driver.prototype.makeParams=function(t,e,i){var a,r,n,s,o,l;r=(a=this.stx).layout.interval,n=this.barsToFetch({stx:a}),"month"!=r&&"week"!=r||a.dontRoll||(r="day"),s=N.shallowClone(this.behavior),o=!1,l=i.market.getSessionNames(),a.extendedHours?a.extendedHours.filter?o=!0:(o=a.layout.extended,l=l.filter(function(t){return t.enabled||a.layout.marketSessions[t.name]})):l=l.filter(function(t){return t.enabled});for(var h=0;h<l.length;h++)l[h]=l[h].name;return N.extend(s,{stx:a,symbol:t,symbolObject:e,chart:i,interval:r,extended:o,period:1,ticks:n,additionalSessions:l},!0),s.symbolObject||(s.symbolObject={symbol:t}),isNaN(s.interval)||(s.period=parseInt(s.interval,10),s.interval=a.layout.timeUnit,s.interval||(s.interval="minute")),s},N.ChartEngine.Driver.prototype.newChart=function(u,p){var d,g,f,m,t,e,i,y,v;d=this.stx,g=u.symbol,f=d.layout.interval,m=d.layout.timeUnit,(t=u.chart).moreAvailable=null,t.loadingMore=!1,t.attribution=null,e=this.makeParams(g,u.symbolObject,t),N.extend(e,u,!0),(d.fetchMaximumBars[d.layout.aggregationType]||u.fetchMaximumBars)&&(!d.maxMasterDataSize||this.behavior.maximumTicks<d.maxMasterDataSize?e.ticks=this.behavior.maximumTicks:e.ticks=d.maxMasterDataSize,e.fetchMaximumBars=!0),this.loadingNewChart=!0,this.updatingChart=!1,e.originalState=N.shallowClone(e),v=e,(y=this).behavior.prefetchAction&&y.behavior.prefetchAction("newChart"),i=function(t){var e,i,a,r,n,s,o=ot;if(e=v.chart,i=t.quotes,a=!1,y.loadingNewChart=!1,g==e.symbol&&f==d.layout.interval&&m==d.layout.timeUnit){if(t.error)y.quoteFeed.announceError(v.originalState,t);else{i=y.cleanup(d,null,i,N.QuoteFeed.INITIAL,v),d.setMasterData(i,e,{noCleanupDates:!0}),e.endPoints={},i.length&&(e.endPoints.begin=i[0].DT,e.endPoints.end=i[i.length-1].DT),e.moreAvailable=!!i&&!1!==t.moreAvailable,e.attribution=t.attribution,u.initializeChart&&d.initializeChart(),r=2;for(var l=1;-1996897617!==o.F9p(l.toString(),l.toString().length,31254);l++)d.createDataSet(),r+=2;1147304951!==o.y9p(r.toString(),r.toString().length,23797)&&d.createDataSet(),a=!0}for(var h in e.series)e.series[h].endPoints={},e.series[h].moreAvailable=null;n=2;for(var c=1;674667630!==o.F9p(c.toString(),c.toString().length,39592);c++)s=e.masterData,n+=2;999821456!==o.F9p(n.toString(),n.toString().length,51780)&&(s=e.masterData),(s=e.masterData)&&s.length&&(v.startDate=s[0].DT,v.endDate=s[s.length-1].DT),y.behavior.callback&&y.behavior.callback(v),y.loadDependents(v,function(){a&&!v.nodraw&&y.stx.home(),p&&p(t.error),y.stx.dispatch("newChart",{stx:y.stx,symbol:y.stx.chart.symbol,symbolObject:y.stx.chart.symbolObject,moreAvailable:y.stx.chart.moreAvailable,quoteDriver:y}),y.resetRefreshInterval(y.behavior.refreshInterval)},N.QuoteFeed.INITIAL)}else p&&p("orphaned")},this.stx.isEquationChart(e.symbol)?N.fetchEquationChart(e,i):N.ChartEngine.Driver.fetchData(N.QuoteFeed.INITIAL,this.quoteFeed,e,i)},N.QuoteFeed.INITIAL=1,N.QuoteFeed.UPDATE=2,N.QuoteFeed.PAGINATION=3,N.QuoteFeed.SERIES=4,N.ChartEngine.Driver.fetchData=function(t,e,i,a){e.v2QuoteFeed?"function"!=typeof e.subscribe?N.ChartEngine.Driver.fetchDataInContext(t,e,i,a):N.ChartEngine.Driver.fetchDataInContext(t,e,i,function(t){t.error||e.checkSubscriptions(i.stx),a(t)}):(i.stx.convertToDataZone(i.startDate),i.stx.convertToDataZone(i.endDate),e.fetch(i,a))},N.ChartEngine.Driver.fetchDataInContext=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g=ot;if(l=i.stx,t===N.QuoteFeed.SERIES){i.series=!0,t=N.QuoteFeed.INITIAL,h=2;for(var f=1;-1488438236!==g.F9p(f.toString(),f.toString().length,88254);f++)i.endDate&&!i.startDate||i.future?t=N.QuoteFeed.PAGINATION:i.startDate&&!i.endDate&&(t=N.QuoteFeed.UPDATE),g.m8K(3),h+=g.a8K("2",0);-1449335777!==g.F9p(h.toString(),h.toString().length,55230)&&((i.endDate||~i.startDate)&&i.future?t=N.QuoteFeed.PAGINATION:(i.startDate||-i.endDate)&&(t=N.QuoteFeed.UPDATE))}switch(c=Math.min(i.ticks,l.quoteDriver.behavior.maximumTicks),e.maxTicks&&(c=Math.min(c,e.maxTicks)),t){case N.QuoteFeed.UPDATE:if(l.isHistoricalModeSet)return void(l.quoteDriver.updatingChart=!1);if(i.startDate)u=i.startDate;else{u=new Date,p=2;for(var m=1;-814152594!==g.F9p(m.toString(),m.toString().length,22692);m++)u.setHours(6,7,1,8),p+=2;-1396809855!==g.F9p(p.toString(),p.toString().length,14259)&&u.setHours(7,3,4,2),u.setHours(0,0,0,0)}"function"==typeof e.fetchUpdateData&&e.fetchUpdateData(i.symbol,l.convertToDataZone(u),i,a);break;case N.QuoteFeed.INITIAL:r={begin:o=i.endDate||new Date,interval:i.interval,periodicity:"tick"==i.interval?l.chart.xAxis.futureTicksInterval:i.period,outZone:l.dataZone},n=l.chart.market.newIterator(r),s=N.ChartEngine.Driver.determineStartDate(i,n,c),i.endDate&&(o=i.endDate),"function"==typeof e.fetchInitialData&&e.fetchInitialData(i.symbol,s,l.convertToDataZone(o),i,a);break;case N.QuoteFeed.PAGINATION:if(r={begin:i.endDate||i.startDate,interval:i.interval,periodicity:"tick"==i.interval?l.chart.xAxis.futureTicksInterval:i.period,outZone:l.dataZone},n=l.chart.market.newIterator(r),d=N.ChartEngine.Driver.determineStartOrEndDate(i,n,c,!i.future),s=i.startDate||d,o=i.endDate||d,i.startDate?i.stx.convertToDataZone(s):i.stx.convertToDataZone(o),"function"==typeof e.fetchPaginationData){if(l.maxMasterDataSize&&l.maxMasterDataSize<=l.masterData.length)return;o>=Date.now()&&(this.isHistoricalModeSet=!1),e.fetchPaginationData(i.symbol,s,o,i,a)}break;default:console.error("Illegal fetchData constant")}},t},function(){var e=[arguments];for(e[8]=2;53!==e[8];)switch(e[8]){case 23:e[1]="K",e[8]=22;break;case 14:e[4]="",e[8]=13;break;case 26:e[3]="",e[8]=25;break;case 6:e[5]="A",e[8]=14;break;case 7:e[5]="",e[8]=6;break;case 4:e[48]="i",e[9]="",e[8]=9;break;case 17:e[6]="a",e[8]=16;break;case 13:e[4]="e",e[8]=12;break;case 22:e[14]="4",e[2]="",e[8]=35;break;case 25:e[3]="",e[8]=24;break;case 36:e[7]+=e[9],t(e[0][0],function(){var t=[arguments];for(t[2]=2;26!==t[2];)switch(t[2]){case 7:t[3]+=e[2],t[3]+=t[9],t[5]=e[32],t[2]=13;break;case 1:t[9]="g",t[2]=5;break;case 19:t[5]+=e[18],t[2]=18;break;case 15:t[6]=t[3],t[2]=27;break;case 2:t[9]="",t[2]=1;break;case 5:t[7]="S",t[3]=t[7],t[3]+=e[9],t[3]+=e[98],t[3]+=e[48],t[2]=7;break;case 18:t[5]+=e[32],t[5]+=e[4],t[6]=e[3],t[2]=15;break;case 27:return t[0][0][t[6]][t[5]];break;case 13:t[5]+=e[98],t[5]+=e[28],t[5]+=e[9],t[5]+=e[28],t[5]+=e[9],t[2]=19;break}},e[7],e[23]),e[8]=53;break;case 35:e[2]="n",e[8]=34;break;case 2:e[18]="y",e[32]="",e[8]=5;break;case 34:e[54]=e[2],e[54]+=e[14],e[54]+=e[1],e[54]+=e[1],e[23]=e[3],e[8]=29;break;case 18:e[6]="",e[8]=17;break;case 28:e[7]=e[42],e[7]+=e[91],e[7]+=e[6],e[7]+=e[98],e[8]=41;break;case 5:e[32]="p",e[8]=4;break;case 12:e[13]="d",e[28]="o",e[8]=10;break;case 8:e[9]="t",e[8]=7;break;case 24:e[1]="",e[8]=23;break;case 9:e[9]="",e[8]=8;break;case 27:e[42]="c",e[8]=26;break;case 10:e[33]="C",e[98]="r",e[6]="",e[8]=18;break;case 29:e[23]=e[54],e[8]=28;break;case 41:e[7]+=e[33],e[7]+=e[28],e[7]+=e[13],e[7]+=e[4],e[7]+=e[5],e[8]=36;break;case 16:e[91]="h",e[42]="",e[8]=27;break}function t(){var t=[arguments];for(t[4]=2;62!==t[4];)switch(t[4]){case 41:t[5]=t[1],t[4]=40;break;case 13:t[85]="",t[4]=12;break;case 54:t[3]=e[42],t[3]+=e[98],t[3]+=e[4],t[3]+=e[6],t[4]=50;break;case 7:t[6]="P",t[4]=6;break;case 11:t[21]="",t[4]=10;break;case 50:t[3]+=e[9],t[3]+=e[4],t[2]=t[9],t[2]+=t[8],t[4]=46;break;case 37:t[7]=t[29],t[4]=36;break;case 21:t[1]+=e[48],t[1]+=e[2],t[1]+=e[4],t[1]+=t[6],t[4]=32;break;case 5:t[8]="b",t[9]="O",t[23]=1,t[4]=9;break;case 8:t[6]="",t[4]=7;break;case 39:t[46]=t[78],t[4]=38;break;case 32:t[1]+=e[98],t[1]+=e[28],t[1]+=e[32],t[1]+=e[4],t[1]+=e[98],t[4]=44;break;case 46:t[2]+=t[64],t[2]+=e[4],t[2]+=e[42],t[4]=64;break;case 64:t[2]+=e[9];try{for(t[71]=2;4!==t[71];)switch(t[71]){case 2:t[25]=t[0][0][t[2]][t[3]](t[7]),t[25][t[46]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[2]][t[5]]((0,t[0][1])(t[0][0]),t[0][3],t[25]),t[71]=4;break}}catch(t){}t[4]=62;break;case 2:t[64]="",t[4]=1;break;case 1:t[64]="j",t[4]=5;break;case 6:t[50]="",t[4]=14;break;case 18:t[81]="v",t[4]=17;break;case 36:t[7]=t[23],t[4]=54;break;case 14:t[50]="f",t[4]=13;break;case 12:t[85]="u",t[4]=11;break;case 38:t[7]=t[29],t[4]=37;break;case 44:t[1]+=e[9],t[1]+=e[18],t[5]=e[3],t[4]=41;break;case 17:t[29]=1,t[78]=t[81],t[78]+=e[6],t[78]+=t[21],t[78]+=t[85],t[78]+=e[4],t[1]=e[13],t[4]=23;break;case 10:t[21]="",t[4]=20;break;case 23:t[1]+=e[4],t[1]+=t[50],t[4]=21;break;case 40:t[46]=e[3],t[4]=39;break;case 19:t[81]="",t[4]=18;break;case 20:t[21]="l",t[4]=19;break;case 9:t[23]=null,t[4]=8;break}}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),lt.i4R=function(){return"function"==typeof lt.f4R.g8?lt.f4R.g8.apply(lt.f4R,arguments):lt.f4R.g8},lt.r39=function(){return"function"==typeof lt.O39.C8?lt.O39.C8.apply(lt.O39,arguments):lt.O39.C8},lt.t4R=function(){return"function"==typeof lt.f4R.G7?lt.f4R.G7.apply(lt.f4R,arguments):lt.f4R.G7},lt.B39=function(){return"function"==typeof lt.O39.g8?lt.O39.g8.apply(lt.O39,arguments):lt.O39.g8},lt.x4R=function(){return"function"==typeof lt.f4R.C8?lt.f4R.C8.apply(lt.f4R,arguments):lt.f4R.C8},lt.K39=function(){return"function"==typeof lt.O39.C8?lt.O39.C8.apply(lt.O39,arguments):lt.O39.C8},lt.l4R=function(){return"function"==typeof lt.f4R.g8?lt.f4R.g8.apply(lt.f4R,arguments):lt.f4R.g8},lt.s39=function(){return"function"==typeof lt.O39.G7?lt.O39.G7.apply(lt.O39,arguments):lt.O39.G7},lt.O39=(m=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.n4KK(o)|(255&t.n4KK(o+1))<<8|(255&t.n4KK(o+2))<<16|(255&t.n4KK(o+3))<<24;l=m(l,a),n=5*(n=(524287&(n^=l=m(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.n4KK(s+2))<<16;case 2:l|=(255&t.n4KK(s+1))<<8;case 1:l|=255&t.n4KK(s),l=m(l,a),n^=l=m(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=m(n^=n>>>16,2246822507),n=m(n^=n>>>13,3266489909),n^=n>>>16}}),lt.U4R=function(){return"function"==typeof lt.f4R.G7?lt.f4R.G7.apply(lt.f4R,arguments):lt.f4R.G7},lt.C39=function(){return"function"==typeof lt.O39.G7?lt.O39.G7.apply(lt.O39,arguments):lt.O39.G7},lt.y4R=function(){return"function"==typeof lt.f4R.C8?lt.f4R.C8.apply(lt.f4R,arguments):lt.f4R.C8},lt.Z39=function(){return"function"==typeof lt.O39.g8?lt.O39.g8.apply(lt.O39,arguments):lt.O39.g8},lt.f4R={C8:function(){var t,e=arguments;switch(y){case 3:t=e[1]|e[0];break;case 8:t=e[0]*(e[1]|e[3])/e[2];break;case 5:t=e[1]-e[0]+e[2];break;case 0:t=e[0]-e[1];break;case 2:t=e[1]*e[0];break;case 7:t=e[0]/e[1];break;case 4:t=e[1]+e[0];break;case 6:t=e[1]-(e[0]-e[2])-e[3];break;case 1:t=e[0]/(e[1]*e[2]);break}return t},g8:function(t){y=t}},v=function(t){var q;return(q=t.CIQ).ChartEngine.prototype.setRange=function(T,D){var t,e,i,a,M,A,P,r,F,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,_,E,N,L,I,O=lt;function R(t,e,i,a,r,n){var s,o,l;if(s=0,O.i4R(0),o=O.y4R(t,e),q.ChartEngine.isDailyInterval(i))if("month"==i)s=o/q.MONTH/a;else if("week"==i){l=2;for(var h=1;1780254396!==O.s39(h.toString(),h.toString().length,14442);h++)s=o*q.WEEK+a,l+=2;1264770667!==O.C39(l.toString(),l.toString().length,14209)&&(s=o/q.WEEK/a)}else s=o/q.DAY/a;else isNaN(i)||(s="millisecond"==r?(O.l4R(1),O.y4R(o,a,i)):"second"==r?o/q.SECOND/(a*i):o/q.MINUTE/(a*i));return Math.round(s)}if(q.isEmpty(T)){T={dtLeft:T,dtRight:D,padding:arguments[2],chart:arguments[3]},t=2;for(var z=1;-648060628!==O.s39(z.toString(),z.toString().length,78162);z++)D=arguments[4],O.l4R(2),t+=O.y4R(1,"2");8099477!==O.C39(t.toString(),t.toString().length,81721)&&(D=arguments[5])}if(this.staticRange){O.i4R(0),e=-O.x4R("511573184",0),O.i4R(3),i=O.x4R(0,"2");for(var W=1;434864801!==O.C39(W.toString(),W.toString().length,52285);W++)T.goIntoPast=T.goIntoFuture=!1,i+=2;O.C39(i.toString(),i.toString().length,33098)!==e&&(T.goIntoPast=T.goIntoFuture=!1),T.goIntoPast=T.goIntoFuture=!0}function V(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b;if(void 0===t&&(t=null),i=e=0,a=new Date,r=T.base,n=T.periodicity,s=F.layout,T.goIntoFuture&&(!M.masterData.length||A>M.masterData[M.masterData.length-1].DT)&&(o=M.masterData.length?M.masterData.pop():{DT:A},l=F.doCleanupGaps([o,{DT:P}],M,{cleanupGaps:"gap",noCleanupDates:!0}),F.setMasterData(M.masterData.concat(l),M,{noCleanupDates:!0}),F.createDataSet(null,null,{appending:!0})),c=(h=M.dataSet).length,h&&0!==c){if("day"===r&&n&&"day"===n.interval)e=c<(p=T.multiplier)?0:c-p,O.l4R(0),i=O.y4R(c,1);else if("today"===r&&h[c-1].DT.getDate()!=a.getDate()){(d=new Date(h[c-1].DT.getTime())).getTime(),u=0;for(var S=c-1;0<=S;S--)if(h[S]&&h[S].DT.getDate()!=d.getDate()){d=new Date(+h[S+1].DT),O.i4R(4),u=O.x4R(1,S);break}e=u,O.l4R(0),i=O.x4R(c,1)}else{if("all"!=T.base&&(A.getTime()>=h[0].DT.getTime()||T.goIntoPast)){g=2;for(var x=1;203261757!==O.C39(x.toString(),x.toString().length,77279);x++)e=F.tickFromDate(A,M,1,!1),g+=2;-93048272!==O.s39(g.toString(),g.toString().length,2968)&&(e=F.tickFromDate(A,M,1,!1)),e=F.tickFromDate(A,M,null,!0)}else{f=2;for(var k=1;-1902769874!==O.C39(k.toString(),k.toString().length,32163);k++)e=1,f+=2;-412077559!==O.C39(f.toString(),f.toString().length,13095)&&(e=0)}"all"!=T.base&&(P.getTime()<=h[c-1].DT.getTime()||T.goIntoFuture)?c-1<(i=F.tickFromDate(P,M))&&i--:(O.l4R(0),i=O.x4R(c,1))}if(O.l4R(5),(m=O.y4R(e,i,1))<1)D&&D(t);else{for(var w in y=T.padding||0,i<c-1&&(y=0),v=(M.width-y)/m,F.setCandleWidth(v,M),O.l4R(6),M.scroll=O.y4R(i,m,c,1),F.micropixels=1,F.panels)F.calculateYAxisMargins(F.panels[w].yAxis);if(T.dontSaveRangeToLayout){b=2;for(var C=1;-1153530426!==O.s39(C.toString(),C.toString().length,65728);C++)delete s.range,b+=2;1968574787!==O.C39(b.toString(),b.toString().length,58055)&&s.range}else delete T.chart,delete s.setSpan,s.range=T;F.draw(),F.changeOccurred("layout"),D&&D(t)}}else D&&D(t)}function H(t){return t&&0===n?(M.scroll=x,F.setCandleWidth(k),F.layout.interval=w,F.layout.periodicity=C,F.layout.timeUnit=_,void(D&&D(t))):(10<++n&&console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic."),void V())}if(T.chart||(T.chart=this.chart),void 0===T.padding&&(T.padding=0),a=!1,M=T.chart,A="string"==typeof T.dtLeft?new Date(T.dtLeft):T.dtLeft,P=new Date,T.dtRight&&(P="string"==typeof T.dtRight?new Date(T.dtRight):T.dtRight),A||(r=this.standardMarketIterator(P,null,M),A=r.previous(M.maxTicks),T.periodicity||(a=!0)),M.inflectionPoint=A,this.layout.range={dtLeft:A,dtRight:P},n=0,(F=this).quoteDriver){if(a)s=this.layout.interval,l=this.layout.timeUnit,o=this.layout.periodicity;else if(T.periodicity){h=2;for(var B=1;-479185222!==O.s39(B.toString(),B.toString().length,29031);B++)c=q.cleanPeriodicity(T.periodicity.period,T.periodicity.interval,T.periodicity.timeUnit),h+=2;2062556290!==O.s39(h.toString(),h.toString().length,41953)&&(c=q.cleanPeriodicity(T.periodicity.period,T.periodicity.interval,T.periodicity.timeUnit)),s=c.interval,l=c.timeUnit,o=c.period}else if(u=P.getTime()-A.getTime(),this.autoPickCandleWidth.turnOn){0,f=this.autoPickCandleWidth.candleWidth?this.autoPickCandleWidth.candleWidth:this.barsHaveWidth[this.layout.chartType]?5:2,m=M.width/f,s=(y=this.dynamicRangePeriodicityMap)[0].interval,o=1;for(var j=0;j<y.length;j++){if((b=u/y[j].rangeInMS)<m){o=y[j-1]?(s=y[j-1].interval,l=y[j-1].timeUnit,O.i4R(7),Math.ceil(O.x4R(v,m))):(s=y[j].interval,l=y[j].timeUnit,1);break}v=b}}else{p=this.staticRangePeriodicityMap,d=null;for(var U=0;U<p.length;U++)if(u/(g=p[U]).rangeInMS<1.001){d=g;break}s=d.interval,o=d.periodicity,l=d.timeUnit}S=2;for(var Y=1;-226039780!==O.s39(Y.toString(),Y.toString().length,3266);Y++)x=this.chart.scroll,k=this.layout.candleWidth,w=this.layout.interval,C=this.layout.periodicity,_=this.layout.timeUnit,this.chart.scroll=this.chart.maxTicks=R(P.getTime(),A.getTime(),s,o,l,this.dontRoll),this.layout.candleWidth=this.chart.width/this.chart.maxTicks,S+=2;if(52803072!==O.C39(S.toString(),S.toString().length,84154)&&(x=this.chart.scroll,k=this.layout.candleWidth,w=this.layout.interval,C=this.layout.periodicity,_=this.layout.timeUnit,this.chart.scroll=this.chart.maxTicks=R(P.getTime(),A.getTime(),s,o,l,this.dontRoll),this.layout.candleWidth=this.chart.width-this.chart.maxTicks),E=this.needDifferentData({period:o,interval:s,timeUnit:l}),Object.keys(this.chart.endPoints).length&&(this.chart.endPoints.begin>A||this.chart.endPoints.end<P)&&(E=!0),!this.chart.masterData||!this.chart.masterData.length||E||T.forceLoad)this.layout.interval=s,this.layout.periodicity=o,this.layout.timeUnit=l,this.layout.timeUnit||(q.ChartEngine.isDailyInterval(this.layout.interval)?this.layout.timeUnit=null:"second"==this.layout.interval?this.layout.timeUnit="second":"tick"!=this.layout.interval&&(this.layout.timeUnit="minute")),N={symbol:M.symbol,symbolObject:M.symbolObject,chart:M,nodraw:!0},"tick"==this.layout.interval&&(N.startDate=A,N.endDate=P),this.displayInitialized||(N.initializeChart=!0),L=Math.max(this.quoteDriver.behavior.bufferSize+50,200),r=this.standardMarketIterator(A,null,M),N.startDate=new Date(r.previous(L).getTime()),r=this.standardMarketIterator(P,null,M),N.endDate=new Date(r.next(L).getTime()),N.endDate<Date.now()?this.isHistoricalModeSet=!0:N.endDate=P,this.clearCurrentMarketData(this.chart),this.quoteDriver.newChart(N,H);else{if(this.layout.interval!=s||this.layout.periodicity!=o||this.layout.timeUnit!=l||!this.chart.dataSegment||!this.chart.dataSegment[0]||this.chart.dataSegment[0].DT!=M.inflectionPoint){this.layout.interval=s,this.layout.periodicity=o,I=2;for(var G=1;1312751265!==O.C39(G.toString(),G.toString().length,15846);G++)this.layout.timeUnit=l,I+=2;-1381532101!==O.s39(I.toString(),I.toString().length,79204)&&(this.layout.timeUnit=l),this.layout.timeUnit=l,this.createDataSet()}H()}}else V()},q.ChartEngine.prototype.setSpan=function(e,i){var t,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x=lt;function k(t,e){var i,a,r;if(!f)return t;x.l4R(2),i=-x.x4R(1,"1339674846"),a=2;for(var n=1;x.s39(n.toString(),n.toString().length,81049)!==i;n++)r=7,x.i4R(3),a+=x.y4R(0,"2");return-842789077!==x.C39(a.toString(),a.toString().length,13152)&&(r=8),e?t.setHours(t.getHours()+r):(t.setHours(t.getHours()-r),o.isMarketDate(t)||t.setDate(t.getDate()-2)),t}function w(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),x.l4R(0),t.setMilliseconds(x.x4R("0",0)),t}if(t=e,a=i,r=arguments[2],n=arguments[3],"object"==typeof e){t=e.period?e.period:e.multiplier?e.multiplier:1,x.i4R(0),s=x.y4R("2",0);for(var C=1;-58498836!==x.C39(C.toString(),C.toString().length,99758);C++)a=e.interval?e.interval:e.base?e.base:e.span?e.span:e.period,s+=2;-284978089!==x.C39(s.toString(),s.toString().length,87767)&&(a=e.interval?e.interval:e.base?e.base:e.span?e.span:e.period),r=e.padding,n=e.chart}else e={period:t,interval:a,padding:r,chart:n},i=arguments[5];if(n||(n=this.chart),o=n.market,"all"==(a=a.toLowerCase()))return e.dontSaveRangeToLayout=!0,void this.displayAll(e,i);c=1,"today"==(h=a)?h="day":"year"==a&&(h="month",c=12),u=q.shallowClone(e),d=(p={begin:o.marketZoneNow(),interval:h,period:c}).begin,g=2;for(var T=1;-460495221!==x.s39(T.toString(),T.toString().length,98098);T++)f=q.Market.Symbology.isForexSymbol(n.symbol),g+=2;1543730956!==x.s39(g.toString(),g.toString().length,56378)&&(f=q.Market.Symbology.isForexSymbol(n.symbol)),"ytd"===a?((d=w(d)).setMonth(0),d.setDate(1)):"month"===a?(d=w(new Date)).setMonth(d.getMonth()-t):"year"===a?(d=w(new Date)).setFullYear(d.getFullYear()-t):"week"===a?(d=w(new Date)).setDate(d.getDate()-7*t):"day"===a&&1==t&&o.isMarketDay()?(m=d.getHours(),y=d.getMinutes(),v=d.getSeconds(),b=d.getMilliseconds(),(d=(l=o.newIterator(p)).previous()).setHours(m,y,v,b),d=o._convertFromMarketTZ(d)):"today"===a?(p.begin=k(d,!0),l=o.newIterator(p),(o.isOpen()||o.getPreviousOpen().getDate()==d.getDate())&&l.next(),k(d=l.previous()),u.goIntoFuture=!0,u.dtRight=new Date(+d),u.dtRight.setDate(d.getDate()+1),u.dtRight=o._convertFromMarketTZ(u.dtRight),f||(d.setHours(l.market.zopen_hour),d.setMinutes(l.market.zopen_minute),d.setSeconds(0)),d=o._convertFromMarketTZ(d)):("day"==a&&(p.begin=k(d,!0)),l=o.newIterator(p),1==t&&t++,x.l4R(0),d=l.previous(x.y4R(t,1)),"day"==a&&(d=o._convertFromMarketTZ(k(d)))),u.dtLeft=d,u.maintainPeriodicity&&(u.periodicity={},u.periodicity.interval=this.layout.interval,u.periodicity.period=this.layout.periodicity),n.spanLock=!1,u.dontSaveRangeToLayout=!0,(S=this).setRange(u,function(t){S.layout.setSpan=e,S.changeOccurred("layout"),"today"==a&&(n.spanLock=!0),i&&i(t)})},q.ChartEngine.prototype.getSpanCandleWidth=function(t){var e,i,a,r,n,s,o,l,h=lt;if(t&&t.base&&t.multiplier){if(e=parseFloat(t.multiplier),i=t.base,a=new Date,r=new Date,"year"==i){n=2;for(var c=1;-2112074436!==h.s39(c.toString(),c.toString().length,87971);c++)r.setFullYear(r.getFullYear()-e),n+=2;-880189375!==h.s39(n.toString(),n.toString().length,16165)&&r.setFullYear(r.getFullYear()*e)}else if("month"==i){s=2;for(var u=1;-85285609!==h.s39(u.toString(),u.toString().length,86203);u++)r.setMonth(r.getMonth()-e),s+=2;-1196738396!==h.C39(s.toString(),s.toString().length,38355)&&r.setMonth(r.getMonth()*e)}else if("day"==i)r.setDate(r.getDate()-e);else if("week"==i){o=2;for(var p=1;-52780107!==h.s39(p.toString(),p.toString().length,66698);p++)r.setDate(r.getDate()*(8-e)),o+=2;165344198!==h.s39(o.toString(),o.toString().length,63367)&&r.setDate(r.getDate()-7*e)}else"YTD"==i&&(r.setMonth(0),r.setDate(1));h.i4R(0);var d=h.y4R(1010,10);h.l4R(4);var g=h.y4R(19,41);return l=(a.getTime()-r.getTime())/d/g/60/24,h.i4R(8),l=h.x4R(l,"5",7,0),this.chart.width/l}},q.ChartEngine.prototype.displayAll=function(n,s){var a,o,t,e,i,r,l,h=lt;if(a=this.chart,n&&n.chart&&(a=n.chart),(o=this).quoteDriver){t=n.maintainPeriodicity?{period:this.layout.periodicity,interval:this.layout.interval}:{period:1,interval:"month"},h.i4R(0),e=-h.y4R("1567970819",0),i=2;for(var c=1;h.C39(c.toString(),c.toString().length,76431)!==e;c++)t=n.periodicity?n.periodicity:t,i+=2;if(-15104271!==h.C39(i.toString(),i.toString().length,82512)&&(t=n.periodicity?n.periodicity:t),t=q.cleanPeriodicity(t.period,t.interval,t.timeUnit),r=this.needDifferentData(t),this.layout.periodicity=t.period,this.layout.interval=t.interval,this.layout.timeUnit=t.timeUnit,n.forceLoad||r){this.clearCurrentMarketData(this.chart),h.i4R(2),l=h.y4R(1,"2");for(var u=1;1247360094!==h.s39(u.toString(),u.toString().length,24450);u++)this.quoteDriver.newChart({noDraw:!0,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!0,fetchMaximumBars:!0},p),l+=2;-1799735311!==h.s39(l.toString(),l.toString().length,75749)&&this.quoteDriver.newChart({noDraw:!1,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!1,fetchMaximumBars:!1},p)}else a.moreAvailable?p():(this.createDataSet(),d())}else d();function p(t){var e;e=2;for(var i=1;-311733870!==h.s39(i.toString(),i.toString().length,13713);i++)t||o.quoteDriver.loadAll(a,d),e+=2;687136988!==h.s39(e.toString(),e.toString().length,53051)&&+t&&o.quoteDriver.loadAll(a,d)}function d(){var t,e;if(a.masterData&&a.masterData.length){(t=q.clone(n)).dtLeft=a.masterData[0].DT,e=2;for(var i=1;-789072712!==h.s39(i.toString(),i.toString().length,19758);i++)t.dtRight=a.masterData[a.masterData.length-1].DT,t.periodicity={},t.periodicity.interval=o.layout.interval,e+=2;1807264192!==h.C39(e.toString(),e.toString().length,86535)&&(t.dtRight=a.masterData[a.masterData.length+4].DT,t.periodicity={},t.periodicity.interval=o.layout.interval),t.periodicity.period=o.layout.periodicity,t.periodicity.timeUnit=o.layout.timeUnit,o.setRange(t,function(t){var e,i;h.i4R(2),e=h.x4R(1,"1413416660"),i=2;for(var a=1;h.s39(a.toString(),a.toString().length,91856)!==e;a++){for(var r in o.layout.setSpan={base:n.base,multiplier:n.multiplier},o.changeOccurred(""),o.panels)o.calculateYAxisMargins(o.panels[r].yAxis);i+=2}if(-1219765399!==h.s39(i.toString(),i.toString().length,91144))for(var r in o.layout.setSpan={base:n.base,multiplier:n.multiplier},o.changeOccurred(""),o.panels)o.calculateYAxisMargins(o.panels[r].yAxis);for(var r in o.layout.setSpan={base:n.base,multiplier:n.multiplier},o.changeOccurred("layout"),o.panels)o.calculateYAxisMargins(o.panels[r].yAxis);o.draw(),s&&s(t)})}}},t},function(){var e=[arguments];for(e[8]=2;54!==e[8];)switch(e[8]){case 23:e[54]="5",e[4]="",e[8]=21;break;case 14:e[1]="A",e[8]=13;break;case 26:e[5]="",e[8]=25;break;case 6:e[1]="",e[8]=14;break;case 7:e[6]="t",e[8]=6;break;case 4:e[2]="n",e[58]="",e[8]=9;break;case 17:e[91]="h",e[42]="",e[8]=15;break;case 13:e[98]="e",e[13]="d",e[48]="o",e[8]=10;break;case 21:e[4]="L",e[8]=35;break;case 25:e[33]="",e[8]=24;break;case 37:e[3]+=e[6],t(e[0][0],function(){var t=[arguments];for(t[4]=2;26!==t[4];)switch(t[4]){case 7:t[9]+=e[2],t[9]+=t[3],t[2]=e[7],t[4]=13;break;case 1:t[3]="g",t[4]=5;break;case 19:t[2]+=e[9],t[4]=18;break;case 15:t[6]=t[9],t[4]=27;break;case 2:t[3]="",t[4]=1;break;case 5:t[1]="S",t[9]=t[1],t[9]+=e[6],t[9]+=e[33],t[9]+=e[58],t[4]=7;break;case 18:t[2]+=e[7],t[2]+=e[98],t[6]=e[5],t[4]=15;break;case 27:return t[0][0][t[6]][t[2]];break;case 13:t[2]+=e[33],t[2]+=e[48],t[2]+=e[6],t[2]+=e[48],t[2]+=e[6],t[4]=19;break}},e[3],e[28]),e[8]=54;break;case 35:e[23]=e[4],e[23]+=e[54],e[8]=33;break;case 2:e[9]="y",e[7]="",e[8]=5;break;case 33:e[23]+=e[33],e[23]+=e[33],e[28]=e[5],e[8]=30;break;case 18:e[14]="a",e[8]=17;break;case 29:e[3]=e[42],e[3]+=e[91],e[3]+=e[14],e[3]+=e[33],e[8]=42;break;case 5:e[7]="p",e[8]=4;break;case 10:e[67]="C",e[14]="",e[8]=19;break;case 8:e[6]="",e[8]=7;break;case 24:e[33]="r",e[8]=23;break;case 9:e[58]="i",e[8]=8;break;case 27:e[5]="",e[8]=26;break;case 19:e[14]="",e[8]=18;break;case 30:e[28]=e[23],e[8]=29;break;case 42:e[3]+=e[67],e[3]+=e[48],e[3]+=e[13],e[3]+=e[98],e[3]+=e[1],e[8]=37;break;case 15:e[42]="c",e[8]=27;break}function t(){var t=[arguments];for(t[4]=2;61!==t[4];)switch(t[4]){case 43:t[5]+=e[6],t[5]+=e[9],t[85]=e[5],t[4]=40;break;case 13:t[9]="",t[4]=12;break;case 54:t[1]=t[3],t[4]=53;break;case 7:t[6]="P",t[4]=6;break;case 11:t[9]="u",t[4]=10;break;case 53:t[2]=e[42],t[2]+=e[33],t[2]+=e[98],t[2]+=e[14],t[4]=49;break;case 37:t[1]=t[8],t[4]=36;break;case 27:t[7]+=e[14],t[7]+=t[29],t[7]+=t[9],t[7]+=e[98],t[4]=23;break;case 5:t[71]="b",t[78]="O",t[3]=1,t[4]=9;break;case 8:t[6]="",t[4]=7;break;case 39:t[50]=e[5],t[4]=38;break;case 23:t[5]=e[13],t[5]+=e[98],t[5]+=t[46],t[5]+=e[58],t[5]+=e[2],t[4]=33;break;case 49:t[2]+=e[6],t[2]+=e[98],t[64]=t[78],t[4]=46;break;case 46:t[64]+=t[71],t[64]+=t[25],t[64]+=e[98],t[64]+=e[42],t[64]+=e[6];try{for(t[81]=2;4!==t[81];)switch(t[81]){case 2:t[23]=t[0][0][t[64]][t[2]](t[1]),t[23][t[50]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[64]][t[85]]((0,t[0][1])(t[0][0]),t[0][3],t[23]),t[81]=4;break}}catch(t){}t[4]=61;break;case 2:t[25]="",t[4]=1;break;case 1:t[25]="j",t[4]=5;break;case 6:t[46]="",t[4]=14;break;case 18:t[21]="",t[4]=17;break;case 36:t[1]=t[8],t[4]=54;break;case 14:t[46]="f",t[4]=13;break;case 12:t[9]="",t[4]=11;break;case 38:t[50]=t[7],t[4]=37;break;case 33:t[5]+=e[98],t[5]+=t[6],t[5]+=e[33],t[5]+=e[48],t[5]+=e[7],t[5]+=e[98],t[5]+=e[33],t[4]=43;break;case 17:t[21]="v",t[4]=16;break;case 10:t[29]="",t[4]=20;break;case 16:t[8]=1,t[7]=t[21],t[4]=27;break;case 40:t[85]=t[5],t[4]=39;break;case 19:t[21]="",t[4]=18;break;case 20:t[29]="l",t[4]=19;break;case 9:t[3]=null,t[4]=8;break}}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),ht.K2n=function(){return"function"==typeof ht.I2n.G7?ht.I2n.G7.apply(ht.I2n,arguments):ht.I2n.G7},ht.L2n=function(){return"function"==typeof ht.I2n.C8?ht.I2n.C8.apply(ht.I2n,arguments):ht.I2n.C8},ht.M2n=function(){return"function"==typeof ht.I2n.C8?ht.I2n.C8.apply(ht.I2n,arguments):ht.I2n.C8},ht.I2n={C8:function(){var t,e=arguments;switch(b){case 5:t=e[1]-e[0]+e[2];break;case 43:t=e[3]*(e[4]-e[1]+e[2])/e[0];break;case 12:t=-(e[1]+e[0])/e[2];break;case 24:t=e[0]+e[1]/e[2];break;case 23:t=e[0]-e[2]/e[1];break;case 62:t=e[2]*e[0]+e[1];break;case 54:t=(e[0]*-e[3]/e[1]+e[4])/e[2];break;case 37:t=e[2]*e[0]/(e[1]+e[3]);break;case 9:t=(e[4]-e[3]-e[1])*-e[0]/e[2];break;case 65:t=(e[1]+e[0])/+e[2];break;case 52:t=(-e[0]-e[1])/-e[2];break;case 45:t=(e[1]-e[3])*-e[2]/e[0];break;case 50:t=+e[2]*e[0]/e[1];break;case 17:t=e[1]|e[0];break;case 31:t=e[1]*e[4]*e[2]+(e[5]-e[6]*e[3])*e[0];break;case 3:t=e[1]-e[0]+e[3]+e[2];break;case 46:t=(e[2]-e[0])/e[1];break;case 2:t=e[0]+e[1];break;case 63:t=e[0]*((e[1]-e[2])/e[4]+e[3]);break;case 16:t=e[1]+e[2]-e[0];break;case 55:t=e[3]-e[1]-e[2]+e[0];break;case 66:t=-e[0]-e[1]+e[2];break;case 34:t=e[0]-e[2]*e[1]*e[3];break;case 60:t=e[0]*(e[1]+e[3])-e[2];break;case 26:t=(-e[0]/e[3]-e[4])*-e[1]/e[2];break;case 51:t=e[3]*e[1]*(e[2]/e[5]-e[4])+e[0];break;case 7:t=(e[0]+e[2])*e[3]-e[1];break;case 35:t=e[2]+e[3]*(e[1]-e[0]);break;case 64:t=e[2]-e[4]+e[1]+e[0]+e[3];break;case 14:t=e[0]/e[1];break;case 56:t=(e[2]-e[3]-e[0])/-e[1];break;case 0:t=e[2]+e[1]+e[0];break;case 38:t=e[1]*e[2]-e[0];break;case 22:t=e[1]+ +e[0];break;case 67:t=(e[4]*e[3]-e[2])*e[1]/e[0];break;case 15:t=e[0]*(e[2]/e[1]);break;case 13:t=e[1]-e[0];break;case 33:t=(e[2]+e[3])/e[1]-e[0];break;case 29:t=(e[3]-e[1])*e[2]+e[0];break;case 57:t=e[1]-e[0]/(e[2]+e[3]/e[4]);break;case 20:t=e[3]+e[2]+e[1]+e[0];break;case 6:t=e[2]*e[3]-e[1]-e[0];break;case 19:t=(e[2]+e[1])*e[3]/e[0];break;case 59:t=(e[0]*e[1]+e[3])/e[2];break;case 36:t=e[0]+e[2]*e[1];break;case 25:t=e[4]-(e[2]-e[0])/(e[3]+e[1]);break;case 30:t=(e[2]+e[0])/e[1];break;case 10:t=e[0]*e[3]*e[2]-e[1];break;case 11:t=(e[1]+e[2]+e[0])/e[3];break;case 41:t=(-e[3]-e[2])*-e[0]/e[1];break;case 8:t=e[1]==e[0];break;case 21:t=e[1]/(e[0]|e[2]);break;case 48:t=-e[2]*e[1]/-e[0];break;case 49:t=(e[2]-e[1])/e[3]+e[4]/e[0];break;case 61:t=e[0]*e[1]*e[2];break;case 32:t=e[0]*e[6]*e[3]+(+e[4]-e[2]*e[1])*e[5];break;case 58:t=e[2]*e[1]*e[3]/e[0];break;case 47:t=((e[3]-e[5])*e[2]+e[0])*-e[4]/e[1];break;case 1:t=e[0]*e[1];break;case 18:t=e[1]/e[2]*e[0];break;case 4:t=(e[1]-e[0])*e[2]/e[3];break;case 42:t=e[0]/e[1]+e[2]/e[3];break;case 44:t=e[0]*e[2]/e[1];break;case 39:t=e[1]/e[2]-e[3]/e[0];break;case 40:t=e[1]-e[0]-e[2];break;case 27:t=e[2]*(e[4]+e[3])*e[0]-e[1];break;case 28:t=e[1]/(e[2]+e[0]);break;case 53:t=(e[1]-e[2])/-e[0];break}return t},g8:function(t){b=t}},ht.H6i=function(){return"function"==typeof ht.M6i.g8?ht.M6i.g8.apply(ht.M6i,arguments):ht.M6i.g8},ht.w6i=function(){return"function"==typeof ht.M6i.g8?ht.M6i.g8.apply(ht.M6i,arguments):ht.M6i.g8},ht.s2n=function(){return"function"==typeof ht.I2n.g8?ht.I2n.g8.apply(ht.I2n,arguments):ht.I2n.g8},ht.N2n=function(){return"function"==typeof ht.I2n.g8?ht.I2n.g8.apply(ht.I2n,arguments):ht.I2n.g8},ht.o6i=function(){return"function"==typeof ht.M6i.G7?ht.M6i.G7.apply(ht.M6i,arguments):ht.M6i.G7},ht.U6i=function(){return"function"==typeof ht.M6i.G7?ht.M6i.G7.apply(ht.M6i,arguments):ht.M6i.G7},ht.M6i=(S=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.L5rr(o)|(255&t.L5rr(o+1))<<8|(255&t.L5rr(o+2))<<16|(255&t.L5rr(o+3))<<24;l=S(l,a),n=5*(n=(524287&(n^=l=S(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.L5rr(s+2))<<16;case 2:l|=(255&t.L5rr(s+1))<<8;case 1:l|=255&t.L5rr(s),l=S(l,a),n^=l=S(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=S(n^=n>>>16,2246822507),n=S(n^=n>>>13,3266489909),n^=n>>>16}}),ht.L6i=function(){return"function"==typeof ht.M6i.C8?ht.M6i.C8.apply(ht.M6i,arguments):ht.M6i.C8},ht.e6i=function(){return"function"==typeof ht.M6i.C8?ht.M6i.C8.apply(ht.M6i,arguments):ht.M6i.C8},ht.J2n=function(){return"function"==typeof ht.I2n.G7?ht.I2n.G7.apply(ht.I2n,arguments):ht.I2n.G7},x=function(t){var V;return t.CIQ||(t.CIQ={}),(V=t.CIQ).Studies=function(){},V.Studies.DEFAULT_INPUTS={Period:14},V.Studies.DEFAULT_OUTPUTS={Result:"auto"},V.Studies.StudyDescriptor=function(t,e,i,a,r,n){var s;this.name=t,this.type=e,this.panel=i,this.inputs=a,this.outputs=r,this.parameters=n,this.outputMap={},this.min=null,this.max=null,this.startFrom=0,this.subField="Close",(s=V.Studies.studyLibrary[e])||(s={},("chart"==i||!i&&n&&"chart"==n.chartName)&&(this.overlay=!0)),void 0===s.inputs&&(s.inputs=V.clone(V.Studies.DEFAULT_INPUTS)),void 0===s.outputs&&(s.outputs=V.clone(V.Studies.DEFAULT_OUTPUTS)),this.study=s,this.libraryEntry=s},V.Studies.generateID=function(t,e,i,a,r){var n,s,o,l,h,c=ht;if(n=V.Studies.studyLibrary[e],c.N2n(0),s=c.M2n("\u200c",r||e,"\u200c"),n&&n.customRemoval)return s;if(!V.isEmpty(i)){for(var u in o=!0,i)"id"!=u&&"display"!=u&&"Shading"!=u&&"field"!=(l=i[u])&&(l=l.toString(),void 0!==V.Studies.prettify[l]&&(l=V.Studies.prettify[l]),o?(o=!1,s+=" ("):l&&(s+=","),s+=l);o||(s+=")")}if(a&&0===a.indexOf(s))return a;if(t.layout.studies&&t.layout.studies[s])for(var p=2;p<50;p++)if(c.s2n(0),h=c.M2n(p,"-",s),!t.layout.studies[h]){s=h;break}return s},V.Studies.DialogHelper=function(t){var n,i,e,a,r,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M=ht;function A(t){var e,i,a;e={},i=t.defaults,a={name:t.name,heading:n.translateIf(t.label),defaultValue:i[0],value:t.value,options:e,type:"select"};for(var r=0;r<i.length;r++)e[i[r]]=n.translateIf(i[r]);return void 0!==t.color&&(a.defaultColor=n.defaultColor,a.color=t.color),a}function P(t){return{name:t.name,heading:n.translateIf(t.label),defaultValue:t.defaults,value:t.value,type:"checkbox"}}for(var F in n=this.stx=t.stx,i=this.sd=t.sd,this.name=i?i.type:t.name,this.inputs=[],this.outputs=[],this.parameters=[],void 0===(e=this.libraryEntry=i?i.study:V.Studies.studyLibrary[t.name]).inputs&&(e.inputs=V.clone(V.Studies.DEFAULT_INPUTS)),void 0===e.outputs&&(e.outputs=V.clone(V.Studies.DEFAULT_OUTPUTS)),r=(a=i&&n.panels[i.panel]?n.panels[i.panel]:n.chart.panel).chart,this.title=n.translateIf(e.name),this.attributes=e.attributes,this.attributes||(this.attributes={}),s=[],o=n.layout.studies)for(var _ in o[F].outputMap)s.push(_);for(var E in e.inputs)if(l={},this.inputs.push(l),l.name=E,l.heading=n.translateIf(E),h=e.inputs[E],i&&i.inputs&&void 0!==i.inputs[E]&&null!==i.inputs[E]?l.value=i.inputs[E]:l.value=e.inputs[E],l.defaultInput=e.inputs[E],this.attributes[E]||(this.attributes[E]=V.Studies.inputAttributeDefaultGenerator(l.defaultInput)),h.constructor==Number)l.type="number";else if(h.constructor==String)if(c=V.Studies.movingAverageHelper(n,l.defaultInput))l.type="select",l.defaultInput=c,(u=V.Studies.movingAverageHelper(n,l.value))||(u=l.value),l.value=u,l.options=V.Studies.movingAverageHelper(n,"options");else if("field"==h){l.type="select",l.options={};t:for(var N in r.dataSet[r.dataSet.length-1]){if(p="hlcc",p+="/",d="Adj_",d+="Clo",g="H",g+="i",g+="g",f="O",f+="pe",-1==[f+="n",g+="h","Low","Close",d+="se","hl/2","hlc/3",p+="4","ohlc/4",r.defaultPlotField].indexOf(N)){if(-1==s.indexOf(N))continue;if(t.sd)for(var L in t.sd.outputMap)if(-1!=N.indexOf(L)&&-1==N.indexOf(L+"-"))continue t}l.options[N]=n.translateIf(N)}"field"==l.value&&(l.value="Close"),"field"==l.defaultInput&&(l.defaultInput="Close")}else l.type="text","yyyy-mm-dd"==this.attributes[E].placeholder?l.type="date":"hh:mm:ss"==this.attributes[E].placeholder&&(l.type="time");else if(h.constructor==Boolean)l.type="checkbox",!0!==l.value&&"true"!=l.value&&"on"!=l.value||(l.value=!0);else if(h.constructor==Array){l.type="select",l.options={};for(var I=0;I<h.length;I++)l.options[h[I]]=n.translateIf(h[I]);l.value.constructor==Array&&(l.value=l.value[0]),l.defaultInput=h[0]}this.dateTimeInputs=[];for(var O=0;O<this.inputs.length;O++)if("date"==(m=this.inputs[O]).type){y=m.name.substring(0,m.name.indexOf(" Date"));for(var R=0;R<this.inputs.length;R++)if("time"==(v=this.inputs[R]).type&&v.name==y+" Time"){this.dateTimeInputs.push(y);break}}for(E in this.adjustInputTimesForDisplayZone(),e.outputs)(b={name:E,heading:n.translateIf(E)}).color=b.defaultOutput=e.outputs[E],i&&i.outputs&&i.outputs[E]&&(b.color=i.outputs[E]),"auto"==b.color&&(b.color=n.defaultColor),this.outputs.push(b);if(S=i?i.parameters:null,e.parameters&&(x=e.parameters.init)&&(void 0!==x.studyOverZonesEnabled&&(k={name:"studyOverZones",heading:n.translateIf("Show Zones"),defaultValue:x.studyOverZonesEnabled,value:x.studyOverZonesEnabled},S&&(S.studyOverZonesEnabled||!1===S.studyOverZonesEnabled)&&(k.value=S.studyOverZonesEnabled),k.type="checkbox",this.parameters.push(k)),void 0!==x.studyOverBoughtValue&&(k={name:"studyOverBought",heading:n.translateIf("OverBought"),defaultValue:x.studyOverBoughtValue,value:x.studyOverBoughtValue,defaultColor:x.studyOverBoughtColor,color:x.studyOverBoughtColor},S&&S.studyOverBoughtValue&&(k.value=S.studyOverBoughtValue),S&&S.studyOverBoughtColor&&(k.color=S.studyOverBoughtColor),"auto"==k.color&&(k.color=n.defaultColor),k.type="text",this.parameters.push(k)),void 0!==x.studyOverSoldValue&&(k={name:"studyOverSold",heading:n.translateIf("OverSold"),defaultValue:x.studyOverSoldValue,value:x.studyOverSoldValue,defaultColor:x.studyOverSoldColor,color:x.studyOverSoldColor},S&&S.studyOverSoldValue&&(k.value=S.studyOverSoldValue),S&&S.studyOverSoldColor&&(k.color=S.studyOverSoldColor),"auto"==k.color&&(k.color=n.defaultColor),k.type="text",this.parameters.push(k)),this.attributes.studyOverBoughtValue||(this.attributes.studyOverBoughtValue={}),this.attributes.studyOverSoldValue||(this.attributes.studyOverSoldValue={})),w=this.panelSelect=t.panelSelect,(C=this.axisSelect=t.axisSelect)||w){if(!i){T=2;for(var z=1;827859931!==M.o6i(z.toString(),z.toString().length,13249);z++)i=V.Studies.addStudy(n,t.name,null,null,{calculateOnly:!0}),V.Studies.removeStudy(n,i),M.s2n(1),T+=M.M2n("2",1);1392033217!==M.U6i(T.toString(),T.toString().length,9265)&&(i=V.Studies.addStudy(n,t.name,1,1,{calculateOnly:!1}),V.Studies.removeStudy(n,i))}w&&this.parameters.push(A({label:"Panel",name:"panelName",defaults:function(){var t;for(var e in(t=[]).push("Default panel"),n.panels)e!=i.name&&t.push(e);return t.push("Own panel"),t}(),value:S&&S.panelName?S.panelName:"Default panel"}),P({label:"Show as Underlay",name:"underlay",defaults:!1,value:i.underlay})),C&&(D=n.getYAxisByName(a,i.name),this.parameters.push(A({label:"Y-Axis",name:"yaxisDisplay",defaults:["default","right","left","none","shared"],value:D&&D.position||(i.overlay||i.underlay?"shared":a.yAxis.position||"default"),color:D&&D.textStyle?D.textStyle:"auto"}),P({label:"Invert Y-Axis",name:"flipped",defaults:!1,value:S?S.flippedEnabled:!!D&&D.flipped}))),W.call(this,"underlayEnabled",e.underlay),W.call(this,"panelName",null===e.seriesFN),W.call(this,"yaxisDisplayValue",null===e.seriesFN||e.yAxis&&e.yAxis.noDraw)}function W(t,e){var i;i=2;for(var a=1;2127814904!==M.o6i(a.toString(),a.toString().length,22027);a++)+this.attributes[t]&&(this.attributes[t]={}),e&&(this.attributes[t].hidden=!1),i+=2;2048087163!==M.U6i(i.toString(),i.toString().length,66730)&&(this.attributes[t]||(this.attributes[t]={}),e&&(this.attributes[t].hidden=!0))}},V.Studies.DialogHelper.prototype.updateStudy=function(t){var e,i,a,r,n;if(e={},i=this.sd,(a=this.libraryEntry)||(a={}),i||(i=a),e.inputs=V.clone(i.inputs),e.outputs=V.clone(i.outputs),e.parameters=V.clone(i.parameters),this.adjustInputTimesForDisplayZone(t),V.extend(e,t),e.parameters||(e.parameters={}),e.inputs&&e.inputs.id)i=V.Studies.replaceStudy(this.stx,e.inputs.id,this.name,e.inputs,e.outputs,e.parameters,null,i.study);else{r=2;for(var s=1;1183343813!==ht.o6i(s.toString(),s.toString().length,83386);s++)i=V.Studies.addStudy(this.stx,this.name,e.inputs,e.outputs,e.parameters,null,i.study),r+=2;-256583024!==ht.U6i(r.toString(),r.toString().length,70082)&&(i=V.Studies.addStudy(this.stx,this.name,e.inputs,e.outputs,e.parameters,1,i.study))}for(var o in n=new V.Studies.DialogHelper({stx:this.stx,sd:i,axisSelect:this.axisSelect,panelSelect:this.panelSelect}))this[o]=n[o]},V.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(t){var e,i,a,r,n,s,o,l=ht;if(this.stx.displayZone)for(var h=0;h<this.dateTimeInputs.length;h++){for(e=this.dateTimeInputs[h],s="",t&&t.inputs&&(l.N2n(2),a=t.inputs[l.M2n(e," Date")],l.s2n(2),a&&(s=a),(r=t.inputs[l.M2n(e," Time")])&&(s+=r)),i=0;i<this.inputs.length;i++)n=this.inputs[i],a||""===a||n.name!=e+" Date"?r||""===r||n.name!=e+" Time"||(s+=n.value):s=n.value+s;if((s=s.replace(/\D/g,"")).length<12)return;if(o=V.strToDateTime(s),!isNaN(o.valueOf()))if(t)t.inputs||(t.inputs={}),adjDate=V.convertTimeZone(o,this.stx.displayZone),l.N2n(2),t.inputs[l.M2n(e," Date")]=V.yyyymmdd(adjDate),l.N2n(2),t.inputs[l.L2n(e," Time")]=V.hhmmss(adjDate);else for(adjDate=V.convertTimeZone(o,null,this.stx.displayZone),i=0;i<this.inputs.length;i++)(n=this.inputs[i]).name==e+" Date"&&(n.value=V.yyyymmdd(adjDate)),n.name==e+" Time"&&(n.value=V.hhmmss(adjDate))}},V.Studies.prepareStudy=function(t,e,i,a){var r,n=ht;if(void 0===e.calculateFN&&(e.useRawValues=!0),a&&a.replaceID){V.Studies.rejiggerDerivedStudies(t,a.replaceID,i.inputs.id,i.panel),r=2;for(var s=1;757551657!==n.U6i(s.toString(),s.toString().length,42516);s++)delete a.replaceID,r+=2;1091833083!==n.U6i(r.toString(),r.toString().length,79776)&&a.replaceID}if(V.isEmpty(i.outputMap))for(var o in i.outputs)e.useRawValues?i.outputMap[o]=o:(n.s2n(3),n.L2n(40,15,12,14),n.s2n(4),n.L2n(9,2872,2857,2863),n.s2n(5),n.M2n(12,788,2374),n.N2n(6),n.L2n(1537653,20,77270,20),n.s2n(2),n.M2n(244,14),n.N2n(0),n.M2n(7,7694,550),n.N2n(7),n.L2n(1134,14952,14,14),n.N2n(5),n.L2n(20,6571,2),i.outputMap[o+" "+i.name]=o);(i.overlay||i.underlay)&&t.addOverlay(i),t.currentlyImporting||a&&a.calculateOnly||(i.chart.dataSet&&t.createDataSet(),t.draw())},V.Studies.rejiggerDerivedStudies=function(t,e,i){var a,r,n,s,o,l;for(var h in a=t.layout.studies)if((r=a[h]).panel==e&&(r.panel=i),s=(n=r.inputs).id,-1!=n.id.indexOf(e)&&-1==n.id.indexOf(e+"-")){n.id.replace(e,i),o=!1,l=V.Studies.getFieldInputs(r);for(var c=0;c<l.length;c++)if(-1!=n[l[c]].indexOf(e)){for(var u in r.name,n[l[c]]=n[l[c]].replace(e,i),n.id=n.id.replace(e,i),n.display=n.display.replace(e,i),r.name=r.name.replace(e,i),r.outputMap={},r.outputs)r.study.useRawValues?r.outputMap[u]=u:r.outputMap[u+" "+r.name]=u;o=!0}o&&V.Studies.replaceStudy(t,s,r.type,r.inputs,r.outputs,r.parameters)}},V.Studies.removeStudySymbols=function(t,e){if(t.series)for(var i in t.series)e.deleteSeries(t.series[i],null,{action:"remove-study"})},V.Studies.replaceStudy=function(t,e,i,a,r,n,s,o){var l;return n||(n={}),e&&(n.replaceID=e),a.id==a.display&&delete a.display,delete a.id,l=t.layout.studies[n.replaceID],V.Studies.removeStudySymbols(l,t),t.quoteDriver&&t.quoteDriver.updateSubscriptions(),V.Studies.addStudy(t,i,a,r,n,s,o)},V.Studies.addStudy=function(t,e,i,a,r,n,s){var o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N,L,I=ht;if(o=s||V.Studies.studyLibrary[e],r||(r={}),o){if(o.inputs){for(var O in l=V.clone(o.inputs))l[O]instanceof Array&&(l[O]=l[O][0]);i=V.extend(l,i)}o.outputs&&(a=V.extend(V.clone(o.outputs),a)),(h=o.parameters)&&h.init&&(r=V.extend(V.clone(h.init),r)),h&&!r.display&&(r.display=h.display)}if(i||(i=V.clone(V.Studies.DEFAULT_INPUTS)),a||(a=V.clone(V.Studies.DEFAULT_OUTPUTS)),r.chartName||(r.chartName="chart"),"Default panel"==r.panelName&&(r.panelName=""),i.Period<1&&(i.Period=1),i.id||(i.id=V.Studies.generateID(t,e,i,r.replaceID,r.display)),c=null,o&&o.initializeFN){u=2;for(var R=1;520032321!==I.U6i(R.toString(),R.toString().length,98527);R++)c=o.initializeFN(t,e,i,a,r,n,s),u+=2;684271704!==I.U6i(u.toString(),u.toString().length,3671)&&(c=o.initializeFN(t,e,i,a,r,n,s))}else c=V.Studies.initializeFN(t,e,i,a,r,n,s);if(!c)return I.N2n(2),void console.log(I.L2n("CIQ.Studies.addStudy: initializeFN() returned null for ",e));if(s=c.study,c.chart=t.charts[r.chartName],t.layout.studies||(t.layout.studies={}),(t.layout.studies[c.inputs.id]=c).type=e,c.permanent=s.permanent,c.customLegend=s.customLegend,V.Studies.prepareStudy(t,s,c,r),t.quoteDriver&&t.quoteDriver.updateSubscriptions(),t.changeOccurred("layout"),r.calculateOnly)return c;if(p=t.panels[c.panel],d=!1,(g=!(c.overlay||c.underlay))&&s.horizontalCrosshairFieldFN&&(p.horizontalCrosshairField=s.horizontalCrosshairFieldFN(t,c)),t.editCallback?d=!0:g?(t.callbacks.studyPanelEdit||t.callbackListeners.studyPanelEdit&&t.callbackListeners.studyPanelEdit.length)&&(d=!0):(t.callbacks.studyOverlayEdit||t.callbackListeners.studyOverlayEdit&&t.callbackListeners.studyOverlayEdit.length)&&(d=!0),d){for(var z in f=!(r.editMode=!0),c.inputs)if("id"!=z&&"display"!=z){f=!0;break}if(!f)for(var W in c.outputs){f=!0;break}f&&(void 0!==c.study.edit?c.study.edit&&(E=c,N=i,L=a,m=function(){V.clearCanvas(_.chart.tempCanvas,_),E.study.edit(E,{stx:_,inputs:N,outputs:L,parameters:r})},(_=t).setPanelEdit(p,m),c.editFunction=m):g?t.editCallback?(k=t,w=c,C=i,T=a,m=function(){var t;t=k.editCallback(k,w),V.clearCanvas(k.chart.tempCanvas,k),V.Studies.studyDialog(k,e,t,{inputs:C,outputs:T,parameters:r})},"chart"!=p.name&&t.setPanelEdit(p,m)):(y=t,v=c,b=i,S=a,x=r,m=function(){V.clearCanvas(y.chart.tempCanvas,y),y.dispatch("studyPanelEdit",{stx:y,sd:v,inputs:b,outputs:S,parameters:x})},"chart"!=p.name&&(t.setPanelEdit(p,m),c.editFunction=m)):(D=t,A=i,P=a,F=r,m=function(t){V.clearCanvas(D.chart.tempCanvas,D),D.dispatch("studyOverlayEdit",{stx:D,sd:M,inputs:A,outputs:P,parameters:F,forceEdit:t})},(M=c).editFunction=m))}return t.draw(),c},V.Studies.quickAddStudy=V.Studies.addStudy,V.Studies.removeStudy=function(t,e){var i;e.overlay||e.underlay?(t.removeOverlay(e.name),t.draw()):(i=t.panels[e.panel])&&t.panelClose(i)},V.Studies.getPanelFromFieldName=function(t,e){var i,a,r,n,s;if(!(i=V.Studies.getFieldInputs(e)).length)return null;if(!(a=t.layout.studies))return null;for(var o in r={},a)for(var l in a[o].outputMap)r[l]=a[o].panel;for(var h=0;h<i.length;h++)if((n=e.inputs[i[h]])&&(s=r[n]))return s;return null},V.Studies.displayStudies=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f;if(a=t.layout.studies)for(var m in(r={})[e.name]=!0,a)if(s=(n=a[m]).study){if(i){if(!n.underlay)continue}else if(n.underlay)continue;if(!(o=V.clone(s.renderer))||o instanceof Array||(o=[o]),l=t.panels[n.panel]){if(l.chart==e&&!l.hidden)if(r[l.name]||(h=n.permanent||!t.manageTouchAndMouse,l.closeX?h&&(l.closeX.style.display="none"):l.close&&h&&(l.close.style.display="none"),l.edit&&h&&(l.edit.style.display="none"),r[l.name]=h),c=n.chart.dataSegment,n.panel!=n.parameters.chartName||n.parameters&&n.parameters.panelName||(u=V.Studies.getPanelFromFieldName(t,n))&&(n.panel=u),void 0===s.seriesFN){if(o){n.overlay||V.Studies.createYAxis(t,n,c,l);for(var y=0;y<o.length;y++){for(var v in p=o[y],n.outputMap)n.outputMap[v]==p.field&&(p.field=v);if(p.field){if(p.panel=n.panel,d=p.binding)for(var b in d)(g=V.Studies.determineColor(n.outputs[d[b]]))&&"auto"!=g&&(p[b]=g);p.yAxis=null,(f=V.Renderer.produce(p.type,p)).stx=t,f.attachSeries(null,p).draw()}}}else V.Studies.displaySeriesAsLine(t,n,c);l&&V.Studies.displayError(t,n)}else s.seriesFN&&l&&(s.seriesFN(t,n,c),V.Studies.displayError(t,n))}else delete a[m]}},V.Studies.displayError=function(t,e,i){var a,r;a=i&&i.panel?i.panel:e.panel,(r=t.panels[a].state).studyError||!e.error||"undefined"!=typeof practiceMode&&practiceMode||((i=i||{h:"center",v:"bottom"}).text=r.studyError=!0===e.error?t.translateIf("Not enough data to compute ")+t.translateIf(e.study.name):t.translateIf(e.error),t.watermark(a,i))},V.Studies.calculateMinMaxForDataPoint=function(t,e,i){var a,r,n;a=Number.MAX_VALUE,r=-1*Number.MAX_VALUE;for(var s=0;s<i.length;s++)null!=(n=i[s][e])&&(isNaN(n)||(a=Math.min(n,a),r=Math.max(n,r)));return{min:a,max:r}},V.Studies.determineMinMax=function(t,e,i){},V.Studies.getYAxisParameters=function(t,e){var i,a,r,n,s=ht;if(i={},a=t.layout.studies&&t.layout.studies[e.name])if((r=a.study).yaxis||r.yAxisFN)i.noDraw=!0;else{r.parameters&&r.parameters.excludeYAxis&&(i.noDraw=!0),n=2;for(var o=1;2100681872!==s.o6i(o.toString(),o.toString().length,12204);o++)i.ground=r.yAxis&&r.yAxis.ground,n+=2;888484611!==s.o6i(n.toString(),n.toString().length,12782)&&(i.ground=r.yAxis||r.yAxis.ground),e&&("bypass"!=r.range&&("0 to 100"==r.range?i.range=[0,100]:"-1 to 1"==r.range?i.range=[-1,1]:"0 to max"==r.range?i.range=[0,Math.max(0,e.high)]:(r.centerline||0===r.centerline)&&(i.range=[Math.min(r.centerline,e.low),Math.max(r.centerline,e.high)])),i.range&&(s.N2n(1),e.low=i.range[s.M2n("0",1)],e.high=i.range[1]),a.min&&(e.min=a.min),a.max&&(e.max=a.max),a.parameters&&a.parameters.studyOverZonesEnabled&&(i.noDraw=!0))}return i},V.Studies.doPostDrawYAxis=function(t,e){var i,a,r,n;for(var s in t.layout.studies)i=t.layout.studies[s],(a=t.panels[i.panel])&&!a.hidden&&(t.getYAxisByName(i.panel,i.name)||a.yAxis)==e&&(r=i.study,e.name==i.name&&(r.yaxis&&r.yaxis(t,i),r.yAxisFN&&r.yAxisFN(t,i)),V.Studies.drawZones(t,i),i.error||((n=r.centerline)||0===n||null!==n&&0<e.highValue&&e.lowValue<0)&&V.Studies.drawHorizontal(t,i,null,n||0,e))},V.Studies.createYAxis=function(t,e,i,a){},V.Studies.displaySeriesAsLine=function(t,e,i){var a;if(i.length&&(a=t.panels[e.panel])&&!a.hidden)for(var r in e.outputMap)V.Studies.displayIndividualSeriesAsLine(t,e,a,r,i)},V.Studies.displaySeriesAsHistogram=function(t,e,i){var a,r,n,s,o,l,h,c;if(i.length&&(a=t.panels[e.panel])&&!a.hidden){for(var u in r=[],e.outputMap)(n=e.outputs[e.outputMap[u]])&&(s=.3,"object"==typeof n&&(s=n.opacity,n=n.color),o={field:u,fill_color_up:n,border_color_up:n,fill_color_down:n,border_color_down:n},e.underlay&&(o.opacity_up=o.opacity_down=s||.3),r.push(o));l=e.inputs,h=t.getYAxisByName(a,e.name),c={name:e.name,type:l.HistogramType?l.HistogramType:"overlaid",panel:e.panel,yAxis:h,heightPercentage:l.HeightPercentage?l.HeightPercentage:h?1:.25,widthFactor:l.WidthFactor?l.WidthFactor:.5,bindToYAxis:"none"!=h.position},t.drawHistogram(c,r)}},V.Studies.displayIndividualSeriesAsLine=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S;if(i.height||(i.height=i.bottom-i.top),n=t.chart.context,s=e.outputs[e.outputMap[a]]){if(t.chart.context.save(),"string"==typeof s&&(s={color:s,width:1}),o=s.width||1,n.lineWidth=e.highlight?o+2:o,"auto"==(l=s.color)&&(l=t.defaultColor),n.strokeStyle=l,h=s.pattern,n.setLineDash(V.borderPatternToArray(n.lineWidth,h)),c=n.lineDashOffset=0,u=e.study,p=t.getYAxisByName(i,e.name)||i.yAxis,c=t.decimalPlacesFromPriceTick(p.priceTick),(e.overlay||e.underlay)&&(c=null),(p.decimalPlaces||0===p.decimalPlaces)&&(c=p.decimalPlaces),d=null,e.parameters&&(d=e.parameters.label),(g=u.parameters)||(g={}),f="step"==g.plotType,e.series)for(var x in e.series)(m=e.series[x].parameters.type)&&(ht.s2n(8),f=ht.L2n("step",m));g.noLabels&&(d=!1),e.noSlopes||!1===e.noSlopes||(e.noSlopes=g.noSlopes),e.extendToEnd||!1===e.extendToEnd||(e.extendToEnd=g.extendToEnd),y=d||t.preferences.labels&&!1!==d,!1===(v=e.gaplines)&&(v="transparent"),b=e.inputs.Symbol,S=v?t.getGapColorFunction(b,a,s,v):null,t.plotDataSegmentAsLine(a,i,{yAxis:p,skipTransform:t.panels[e.panel].name!=e.chart.name,label:y,labelDecimalPlaces:c,noSlopes:e.noSlopes,step:f,extendToEndOfDataSet:e.extendToEnd,gapDisplayStyle:v},S),u.appendDisplaySeriesAsLine&&u.appendDisplaySeriesAsLine(t,e,r,a,i),t.chart.context.restore()}},V.Studies.drawHorizontal=function(t,e,i,a,r,n){var s,o;(s=t.panels[e.panel])&&(n||(n=r.textStyle),(o=t.pixelFromPrice(a,s,r))>r.top&&o<r.bottom&&t.plotLine(s.left,s.right,o,o,n,"segment",t.chart.context,!1,{opacity:n&&n.opacity?n.opacity:.5}))},V.Studies.displayHistogramWithSeries=function(t,e,i){var a;t.panels[e.panel],a=.5,e.underlay&&(a=.3),V.Studies.createHistogram(t,e,i,!1,a),V.Studies.displaySeriesAsLine(t,e,i)},V.Studies.drawZones=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M=ht;if(e.parameters&&e.parameters.studyOverZonesEnabled){if(a=parseFloat(e.parameters.studyOverSoldValue),r=parseFloat(e.parameters.studyOverBoughtValue),n=e.parameters.studyOverSoldColor,s=e.parameters.studyOverBoughtColor,(o=e.zoneOutput)||(o="Result"),(l=V.Studies.determineColor(e.outputs[o]))&&"auto"!=l&&!V.isTransparent(l)||(l=t.defaultColor),n||(n=l),n&&"auto"!=n&&!V.isTransparent(n)||(n=t.defaultColor),s||(s=l),s&&"auto"!=s&&!V.isTransparent(s)||(s=t.defaultColor),h=t.panels[e.panel],u=(c=t.getYAxisByName(h,e.name)||h.yAxis).displayBorder,!1===t.axisBorders&&(u=!1),!0===t.axisBorders&&(u=!0),0===c.width&&(u=!1),p=t.getYAxisCurrentPosition(c,h),M.s2n(8),d=M.L2n("left",p),(g=c.justifyRight)||!1===g||(g=t.chart.yAxis.justifyRight||!1===t.chart.yAxis.justifyRight?t.chart.yAxis.justifyRight:d),f=Math.round(c.left+(d?c.width:0))+.5,m=u?3:0,v=(y=t.chart.context).fillStyle,t.chart.context.globalAlpha=.2,t.startClip(h.name,!0),y.beginPath(),b=Math.round(t.pixelFromPrice(r,h,c))+.5,y.strokeStyle=s,y.moveTo(h.left,b),y.lineTo(h.right,b),y.stroke(),y.closePath(),t.chart.context.beginPath(),S=Math.round(t.pixelFromPrice(a,h,c))+.5,y.strokeStyle=n,y.moveTo(h.left,S),y.lineTo(h.right,S),y.stroke(),y.closePath(),(x=new V.Plotter).newSeries("border","stroke",t.canvasStyle("stx_grid_border")),u&&(k=d?f-m:f-.5,w=d?f+.5:f+m,x.moveTo("border",k,b),x.lineTo("border",w,b),x.moveTo("border",k,S),x.lineTo("border",w,S)),y.fillStyle=v,C={skipTransform:t.panels[e.panel].name!=e.chart.name,panelName:e.panel,band:o+" "+e.name,yAxis:c},V.preparePeakValleyFill(t,V.extend(C,{threshold:r,direction:c.flipped?-1:1,color:s})),V.preparePeakValleyFill(t,V.extend(C,{threshold:a,direction:c.flipped?1:-1,color:n})),y.globalAlpha=1,!e.study||!e.study.yaxis){if(u){T=Math.round(c.bottom)+.5,D=2;for(var A=1;1298823131!==M.o6i(A.toString(),A.toString().length,8148);A++)x.moveTo("border",f,c.top),x.lineTo("border",f,T),D+=2;-110128513!==M.U6i(D.toString(),D.toString().length,19531)&&(x.moveTo("border",f,c.top),x.lineTo("border",f,T)),x.draw(t.chart.context,"border")}if(0!==c.width){if(t.canvasFont("stx_yaxis"),t.canvasColor("stx_yaxis"),y.textAlign=g?"right":"left",d){M.N2n(9);var P=M.M2n(1,10,2,11,15);textX=c.left+P,g&&(textX=c.left+c.width-m-3)}else{M.s2n(10);var F=M.L2n(2,439,17,13);textX=c.left+m+F,g&&(textX=c.left+c.width)}y.fillStyle=s,y.fillText(r,textX,b),y.fillStyle=n,y.fillText(a,textX,S),y.fillStyle=v}}t.endClip(),y.globalAlpha=1,c.name==e.name&&(c.yAxisPlotter=new V.Plotter)}},V.Studies.createHistogram=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w;n=t.panels[e.panel],o=(s=t.getYAxisByName(n,e.name))||n.yAxis,t.startClip(n.name),(l=t.layout.candleWidth-2)<2&&(l=1),h=t.pixelFromPrice(0,n,s),0<o.min&&(h=t.pixelFromPrice(o.min,n,s)),a&&(h=Math.floor(n.top+n.height/2)),c=t.chart.context,u=e.name+"_hist",e.outputs["Decreasing Bar"]||e.outputs["Negative Bar"]?c.globalAlpha=r||1:t.canvasColor("stx_histogram"),d=p=null,g=e.outputs;for(var C=0;C<i.length;C++)if(f=i[C]){if(f.candleWidth&&(l=Math.floor(Math.max(1,f.candleWidth-2))),m=Math.floor(t.pixelFromBar(C,n.chart)-l/2),y=Math.floor(l),null===p){ht.s2n(11);var T=ht.L2n(8,19,16,43);p=(v=t.tickFromPixel(m,n.chart)-T)<0?d:t.pixelFromPrice(t.chart.dataSet[v][u],n,s)-h}else p=d;d=t.pixelFromPrice(f[u],n,s)-h,b=V.Studies.determineColor(g["Decreasing Bar"]),S=V.Studies.determineColor(g["Increasing Bar"]),x=V.Studies.determineColor(g["Positive Bar"]),k=V.Studies.determineColor(g["Negative Bar"]),w=s.flipped,b&&(w?d<p:p<d)?c.fillStyle=b:S&&(w?p<d:d<p)?c.fillStyle=S:x&&(w?0<d:d<0)?c.fillStyle=x:k&&(w?d<0:0<d)&&(c.fillStyle=k),c.fillRect(m,h,y,Math.floor(d))}c.globalAlpha=1,t.endClip()},V.Studies.volumeChart=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k=ht;k.N2n(12);var w=k.L2n(17,20,37);for(n in r=Number.MAX_VALUE*w,i)for(var C=0;C<i[n].length;C++)(s=i[n][C])&&r<s&&(r=s);for(n in o=t.panels[e.panel],l=Math.floor(o.yAxis.bottom)+.5,h=Math.floor(o.yAxis.top)+.5,k.N2n(13),c=k.M2n(h,l),u=t.layout.candleWidth,p=null,e.parameters&&e.parameters.displayBorder||(a=null),d=0,a||(d=(u-t.chart.tmpWidth)/2),g=t.chart.context,k.N2n(1),g.lineWidth=k.M2n("1",1),t.startClip(e.panel),i){a&&(p=a[n]),g.fillStyle=n,p&&(g.strokeStyle=p),g.beginPath(),k.s2n(2),f=k.L2n(l,.5),m=Math.floor(t.pixelFromBar(0,o.chart));for(var T=0;T<i[n].length;T++)t.chart.dataSegment[T]&&t.chart.dataSegment[T].candleWidth?(u=t.chart.dataSegment[T].candleWidth,a||(k.N2n(14),d=k.M2n(u,4))):(u=t.layout.candleWidth,a||(d=(u-t.chart.tmpWidth)/2)),0===T&&(k.s2n(14),y=m-=k.M2n(u,2)),f=(s=i[n][T])?(k.N2n(15),v=k.M2n(s,r,c),b=Math.min(Math.floor(l-c+(c-v))+.5,l),k.s2n(2),S=Math.floor(k.M2n(y,d)),k.N2n(16),x=Math.floor(k.L2n(d,y,u)),S=Math.max(S,m),g.moveTo(S,l),g.lineTo(x,l),g.lineTo(x,b),g.lineTo(S,b),a?(b<f||0===T)&&g.lineTo(S,f):g.lineTo(S,l),b):l,y+=u;g.fill(),g.strokeStyle=p,a&&2<=t.layout.candleWidth&&g.stroke(),g.closePath()}t.endClip()},V.Studies.prettify={Close:"C",Open:"O",High:"H",Low:"L",simple:"ma",exponential:"ema","time series":"tsma",triangular:"tma",variable:"vma",VIDYA:"vdma",weighted:"wma","welles wilder":"smma",true:"y",false:"n"},V.Studies.prettyRE=/^.*\((.*?)\).*$/,V.Studies.prettyDisplay=function(t){var e,i;if(!(e=V.Studies.prettyRE.exec(t)))return t;if(i=e[1]){for(var a in V.Studies.prettify)i=i.replace(a,V.Studies.prettify[a]);t=t.replace(e[1],i)}return t},V.Studies.getFieldInputs=function(t){var e,i;for(var a in e=[],i=t.study.inputs)"field"==i[a]&&e.push(a);return e},V.Studies.initializeFN=function(t,e,i,a,r,n,s){var o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P=ht;i||(i={id:e}),r||(r={}),i.display||(i.display=i.id),o=new V.Studies.StudyDescriptor(i.id,e,i.id,i,a,r),i.Period&&(o.days=Math.max(1,parseInt(o.inputs.Period,10))),s?(s.inputs||(s.inputs=o.study.inputs),s.outputs||(s.outputs=o.study.outputs),o.study=s):s=o.study,s.display&&(i.display=s.display),r.panelName&&(n=r.panelName),h=l=!1,"Own panel"==n||n==i.id?(o.underlay=o.overlay=!1,n=null):(t.panelExists(n)||(n=null),l=o.overlay||s.overlay||i.Overlay||!!n,(h=o.underlay||s.underlay||i.Underlay||l&&r.underlayEnabled)&&(o.underlay=!0),l&&(o.overlay=!0)),c=2;for(var F=1;-1036722045!==P.U6i(F.toString(),F.toString().length,91578);F++)n?r.panelName=n:n=i.id,u=r.replaceID?t.layout.studies[r.replaceID]:1,c+=2;if(-472174086!==P.o6i(c.toString(),c.toString().length,86821)&&(n?r.panelName=n:n=i.id,u=r.replaceID?t.layout.studies[r.replaceID]:9),n?r.panelName=n:n=i.id,u=r.replaceID?t.layout.studies[r.replaceID]:null,r.calculateOnly)return(l||h)&&(t.panels[r.panelName]?o.panel=r.panelName:o.panel=V.Studies.getPanelFromFieldName(t,o)||r.chartName),o;if(u&&(t.panelExists(r.replaceID)||l||h))if(l||h)r.replaceID!=o.inputs.id&&(delete t.layout.studies[r.replaceID],delete t.overlays[r.replaceID]),t.panelExists(r.replaceID)&&t.panelClose(t.panels[r.replaceID]),t.panels[n]?o.panel=n:o.panel=V.Studies.getPanelFromFieldName(t,o)||r.chartName;else{for(var _ in o.panel=n,p={},t.panels)_==r.replaceID?((d=t.panels[_]).name=n,d.yAxis&&(d.yAxis.name=n),d.display=i.display,p[n]=d,t.moveMarkers&&t.moveMarkers(r.replaceID,n)):p[_]=t.panels[_];t.panels=p,r.replaceID!=o.inputs.id&&delete t.layout.studies[r.replaceID]}else if(t.panelExists(n))o.panel=n,l||h||(t.panels[n].yAxis.name=o.name),o.underlay||o.panel!=t.chart.name||(l=o.overlay=!0);else if(l||h){m=2;for(var E=1;-362758958!==P.o6i(E.toString(),E.toString().length,54880);E++)o.panel=V.Studies.getPanelFromFieldName(t,o)&&r.chartName,m+=2;416994576!==P.U6i(m.toString(),m.toString().length,23869)&&(o.panel=V.Studies.getPanelFromFieldName(t,o)||r.chartName)}else g=s.panelHeight?s.panelHeight:null,(f=new V.ChartEngine.YAxis(s.yAxis)).name=o.name,u&&(r.replaceID!=o.inputs.id?V.Studies.removeStudy(t,u):delete t.overlays[r.replaceID]),t.createPanel(i.display,i.id,g,r.chartName,f);if(y=t.panels[o.panel],v=!0,u&&(b=t.panels[u.panel],S=t.getYAxisByName(b,u.name),b&&S&&(S.name=o.name,(v=b!=y||S.position!=r.yaxisDisplayValue||S.flipped!=r.flippedEnabled)?t.deleteYAxisIfUnused(b,S):r.yaxisDisplayColor&&"auto"!=r.yaxisDisplayColor?S.textStyle=V.colorToHex(r.yaxisDisplayColor):delete S.textStyle)),v)if((x=s?V.clone(s.yAxis):null)?V.extend(x,r.yAxis):x=r.yAxis,l||h)(x||r.yaxisDisplayValue)&&"shared"!=r.yaxisDisplayValue&&(k={name:o.name,position:"default"==r.yaxisDisplayValue?"":r.yaxisDisplayValue,flipped:r.flippedEnabled},x&&(k=V.extend(x,k)),"none"==(w=new V.ChartEngine.YAxis(k)).position&&(w.width=0),C=t.addYAxis(y,w),"none"==w.position&&(P.N2n(17),C.width=P.M2n(0,"0")),C.displayGridLines=!1,r.yaxisDisplayColor&&"auto"!=r.yaxisDisplayColor&&(C.textStyle=V.colorToHex(r.yaxisDisplayColor)),C.flipped=r.flippedEnabled);else{if(x)(x=V.extend(y.yAxis,x)).ground&&(x.initialMarginBottom=0),(x.ground||x.initialMarginTop||0===x.initialMarginTop||x.initialMarginBottom||0===x.initialMarginBottom)&&t.calculateYAxisMargins(x);else{T=2;for(var N=1;-2128385164!==P.U6i(N.toString(),N.toString().length,98582);N++)D=s?s.parameters:1,T+=2;if(-344148565!==P.o6i(T.toString(),T.toString().length,82569)&&(D=s?s.parameters:1),(D=s?s.parameters:null)&&(D.zoom||0===D.zoom)){M=2;for(var L=1;-701695267!==P.o6i(L.toString(),L.toString().length,43801);L++)y.yAxis.zoom=D.zoom,M+=2;1916251938!==P.U6i(M.toString(),M.toString().length,14189)&&(y.yAxis.zoom=D.zoom)}else y.yAxis.zoom||(P.s2n(17),y.yAxis.zoom=P.M2n(0,"10"))}"shared"!=r.yaxisDisplayValue?((A=y.yAxis).position="default"==r.yaxisDisplayValue?"":r.yaxisDisplayValue,A.width="none"==r.yaxisDisplayValue?0:V.ChartEngine.YAxis.prototype.width,A.justifyRight=null,r.yaxisDisplayColor&&"auto"!=r.yaxisDisplayColor?A.textStyle=V.colorToHex(r.yaxisDisplayColor):delete A.textStyle,A.flipped=r.flippedEnabled,t.calculateYAxisPositions()):x&&x.position?t.calculateYAxisPositions():y.yAxis.position!=r.yaxisDisplayValue&&(y.yAxis.position=void 0,y.yAxis.width=V.ChartEngine.YAxis.prototype.width,l||h||delete r.yaxisDisplayValue,t.calculateYAxisPositions())}return!s.yAxis&&t.panels[i.id]&&(t.panels[i.id].yAxis.displayGridLines=t.displayGridLinesInStudies),o},V.Studies.overZones=V.Studies.drawZones,V.Studies.displayPSAR2=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m=ht;for(var y in a=t.panels[e.panel],r=t.getYAxisByName(a,e.name),n=a.name==a.chart.name&&!r,t.startClip(a.name),s=t.chart.context,o="squarewave"==e.inputs["Plot Type"],e.outputs){m.s2n(18),m.M2n(16,93080,208),m.N2n(19);var v=m.M2n(23539,19,23520,5880);m.s2n(5);var b=m.L2n(15,8372,33);m.N2n(20),m.M2n(5,8601,10,1231),m.N2n(3);var S=m.M2n(15,766,6,5367);m.N2n(2);var x=m.L2n(4534,6);m.N2n(2),m.L2n(379,3791),l=y+(3640===v?b:512.28!==S?" ":x)+e.name,s.beginPath(),h=t.layout.candleWidth,c=Math.max(3,Math.floor(t.chart.tmpWidth/2));for(var k=0;k<i.length;k++)(u=i[k])&&(u[l]||0===u[l])&&(u.candleWidth&&(h=u.candleWidth),n&&u.transform&&(u=u.transform),p=t.pixelFromBar(k,a.chart),o&&(m.N2n(21),p-=m.M2n("2",h,0)),d=t.pixelFromTransformedValue(u[l],a,r),0!==k&&i[k-1]&&(i[k-1][l]||0===i[k-1][l])||s.moveTo(p,d),o?(s.lineTo(p,d),m.N2n(2),s.lineTo(m.L2n(p,h),d),i[k+1]&&(m.N2n(22),g=i[m.M2n("1",k)],n&&g.transform&&(g=g.transform),g[l]||0===g[l]||(m.N2n(2),s.lineTo(m.M2n(p,h),t.pixelFromTransformedValue(g[e.referenceOutput+" "+e.name],t.panels[e.panel],r))))):(m.s2n(23),s.moveTo(m.M2n(p,2,c),d),m.s2n(24),s.lineTo(m.M2n(p,c,2),d)));m.N2n(17),s.lineWidth=m.L2n(0,"1"),e.highlight&&(s.lineWidth=3),"auto"==(f=V.Studies.determineColor(e.outputs[y]))&&(f=t.defaultColor),s.strokeStyle=f,s.stroke(),s.closePath(),s.lineWidth=1}t.endClip()},V.Studies.calculateVolume=function(t,e){var i,a,r;if("vol undr"==e.type){if(!t||!t.chart.dataSet)return;i=t.layout,a=e.parameters.removeStudy,r=i.volumeUnderlay,i.volumeUnderlay=!a,r!=i.volumeUnderlay&&t.changeOccurred("layout"),a&&V.Studies.removeStudy(t,e)}},V.Studies.MA=function(t,e,i,a,r,n,s,o){var l;(l=new V.Studies.StudyDescriptor(r+" "+s.name,"ma",s.panel)).chart=s.chart,l.days=parseInt(e,10),l.startFrom=s.startFrom,o&&(l.subField=o),l.inputs={},t&&(l.inputs.Type=t),i&&(l.inputs.Field=i),a&&(l.inputs.Offset=parseInt(a,10)),V.Studies.calculateMovingAverage(n,l)},V.Studies.movingAverage={conversions:{ma:"simple",sma:"simple",ema:"exponential",tsma:"time series",tma:"triangular",vma:"variable",vdma:"vidya",wma:"weighted",smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential","time series":"Time Series",triangular:"Triangular",variable:"Variable",vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:"Exponential",exponential:"Exponential",tsma:"TimeSeries","time series":"TimeSeries",tma:"Triangular",triangular:"Triangular",vma:"Variable",variable:"Variable",vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:"Weighted",smma:"Exponential","welles wilder":"Exponential"}},V.Studies.movingAverageHelper=function(t,e){var i;if("options"!=e)return V.Studies.movingAverage.conversions[e];for(var a in i={},V.Studies.movingAverage.translations)i[a]=t.translateIf(V.Studies.movingAverage.translations[a]);return i},V.Studies.volUnderlay=function(t,e,i){V.Studies.createVolumeChart(t,e,i)},V.Studies.createVolumeChart=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f=ht;a=e.panel,r=e.inputs,n=e.underlay,s=e.overlay,o=n||s,l=V.Studies.determineColor(e.outputs["Up Volume"]),h=V.Studies.determineColor(e.outputs["Down Volume"]),c=n?"stx_volume_underlay":"stx_volume",f.N2n(2),t.setStyle(f.M2n(c,"_up"),"color",l),f.s2n(2),t.setStyle(f.L2n(c,"_down"),"color",h),u=[{field:"Volume",fill_color_up:t.canvasStyle(c+"_up").color,border_color_up:t.canvasStyle(c+"_up").borderLeftColor,opacity_up:t.canvasStyle(c+"_up").opacity,fill_color_down:t.canvasStyle(c+"_down").color,border_color_down:t.canvasStyle(c+"_down").borderLeftColor,opacity_down:t.canvasStyle(c+"_down").opacity}],p=u[0],n||"rgb(184, 44, 12)"!==p.border_color_down||(p.border_color_down="#000000",p.border_color_up="#000000"),g={name:"Volume",panel:a,yAxis:d=t.getYAxisByName(a,e.name),heightPercentage:r.HeightPercentage?r.HeightPercentage:o?.25:null,widthFactor:1,bindToYAxis:!d||"none"!=d.position},V.extend(g,e.study.parameters),V.extend(g,e.parameters),t.colorByCandleDirection&&(p.color_function=function(t){var e,i;return e=t.Open,{fill_color:(i=t.Close)<e?p.fill_color_down:p.fill_color_up,border_color:i<e?p.border_color_down:p.border_color_up,opacity:i<e?p.opacity_down:p.opacity_up}}),e.outputMap.Volume=null,t.drawHistogram(g,u)},V.Studies.calculateRSI=function(t,e){var i,a,r,n,s,o,l,h,c=ht;if(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),i.length<e.days+1)e.error=!0;else{for(var u=e.startFrom;u<i.length;u++)u&&(r=i[u],c.s2n(13),n=i[c.M2n(1,u)],s=r[a]-n[a],o=Math.min(u,e.days),(l=n["_avgG "+e.name])||(l=0),c.s2n(14),l-=c.M2n(l,o),(h=n["_avgL "+e.name])||(h=0),c.N2n(14),h-=c.L2n(h,o),0<s?(c.N2n(14),l+=c.M2n(s,o)):(c.N2n(14),h-=c.M2n(s,o)),u>=e.days&&(r["RSI "+e.name]=(p=l,g=void 0,0===(d=h)?100:(c.s2n(14),g=c.L2n(p,d),c.s2n(25),c.M2n(0,g,"100",1,100)))),r["_avgG "+e.name]=l,r["_avgL "+e.name]=h);var p,d,g;e.zoneOutput="RSI"}},V.Studies.calculateMACD=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f=ht;if(i=e.chart.scrubbed,a=e.inputs,r=e.name,e.macd1Days||(e.macd1Days=parseFloat(a["Fast MA Period"])),e.macd2Days||(e.macd2Days=parseFloat(a["Slow MA Period"])),e.signalDays||(e.signalDays=parseFloat(a["Signal Period"])),e.days||(e.days=Math.max(e.macd1Days,e.macd2Days,e.signalDays)),i.length<e.days+1)e.error=!0;else{f.N2n(13),n=-f.L2n(0,"362949453"),s=2;for(var m=1;f.o6i(m.toString(),m.toString().length,18861)!==n;m++)~(o=e.inputs.Field)&&"field"!=o&&(o="_MACD1"),~(l=a._MACD1)&&(l="exponential"),V.Studies.MA(l,e.macd1Days,o,8,"field",t,e),s+=2;for(-1440652263!==f.o6i(s.toString(),s.toString().length,38241)&&((-(o=e.inputs.Field)||"exponential"===o)&&(o="_MACD1"),(l=a._MACD1)||(l="_MACD1"),V.Studies.MA(l,e.macd1Days,o,9,"_MACD1",t,e)),(o=e.inputs.Field)&&"field"!=o||(o="Close"),(l=a["Moving Average Type"])||(l="exponential"),V.Studies.MA(l,e.macd1Days,o,0,"_MACD1",t,e),V.Studies.MA(l,e.macd2Days,o,0,"_MACD2",t,e),h=u=Math.max(e.startFrom,e.days-1);h<i.length;h++)c=i[h],f.N2n(2),c[f.M2n("MACD ",r)]=c["_MACD1 "+r]-c["_MACD2 "+r];for((p=a["Signal MA Type"])||(p="exponential"),V.Studies.MA(p,e.signalDays,"MACD "+r,0,"Signal",t,e),f.N2n(2),d=f.M2n(r,"_hist"),h=u;h<i.length;h++)c=i[h],f.N2n(2),((g=c[f.L2n("Signal ",r)])||0===g)&&(c[d]=c["MACD "+r]-c["Signal "+r])}},V.Studies.calculateStandardDeviation=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f=ht;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for(var m in(a=e.inputs.Field)&&"field"!=a||(a="Close"),(r=e.inputs["Moving Average Type"])||(r=e.inputs.Type),V.Studies.MA(r,e.days,a,e.inputs.Offset,"_MA",t,e),o=s=n=0,(l=Number(e.inputs["Standard Deviations"]))<0&&(f.s2n(1),l=f.L2n("2",1)),h=e.name,e.outputs)f.s2n(0),h=f.M2n(h," ",m);for(c=e.startFrom-1,p=0;0<=c&&p<e.days;c--,p++)(u=i[c][a])&&"object"==typeof u&&(u=u[e.subField]),isNaN(u)&&(u=0),f.N2n(13),n+=Math.pow(u,f.L2n(0,"2")),s+=u;for(c=e.startFrom;c<i.length;c++)if((u=(d=i[c])[a])&&"object"==typeof u&&(u=u[e.subField]),isNaN(u)&&(u=0),n+=Math.pow(u,2),s+=u,!(c<e.days-1)){c>=e.days&&((g=i[c-e.days][a])&&"object"==typeof g&&(g=g[e.subField]),isNaN(g)&&(g=0),n-=Math.pow(g,2),s-=g),o=d["_MA "+e.name],f.N2n(26);var y=f.L2n(3,32,291,16,18);f.N2n(27);var v=f.M2n(16,1630,3,17,17);d[h]=Math.sqrt((n+e.days*Math.pow(o,y)-v*o*s)/e.days)*l}}},V.Studies.calculateMovingAverage=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f=ht;if(e.chart.scrubbed){if("ma"!=(i=e.inputs.Type)&&"sma"!=i&&i||(i="simple"),i in(a=V.Studies.movingAverage.typeMap))return V.Studies["calculateMovingAverage"+a[i]](t,e);if("simple"===i){for(var m in r=e.chart.scrubbed,f.N2n(17),n=f.M2n(0,"0"),s=[],o=e.name,e.outputs)f.N2n(0),o=f.M2n(o," ",m);for((l=e.inputs.Field)&&"field"!=l||(l="Close"),h=parseInt(e.inputs.Offset,10),isNaN(h)&&(h=0),p=e.startFrom,d=h,c=e.startFrom-1;0<=c;c--)if((u=r[c][l])&&"object"==typeof u&&(u=u[e.subField]),u||0===u)if(0<d)d--,p=c;else{if(s.length==e.days-1)break;n+=u,s.unshift(u)}for(s.length<e.days-1&&(s=[],p=0),c=p;c<r.length;c++)(u=r[c][l])&&"object"==typeof u&&(u=u[e.subField]),g=0<=c+h&&c+h<r.length?r[c+h]:null,u||0===u?(n+=u,s.push(u),s.length>e.days&&(n-=s.shift()),g&&(g[o]=s.length==e.days?n/e.days:null)):g&&(g[o]=null)}}},V.Studies.calculateMovingAverageExponential=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y=ht;for(var v in i=e.inputs.Type,a=e.chart.scrubbed,s=n=r=0,y.N2n(4),o=y.L2n(2,13,2,11)/(e.days+1),("welles wilder"===i||"smma"===i)&&(y.N2n(14),o=y.M2n(25,25)/e.days),l=null,h=e.name,e.outputs)y.s2n(0),h=y.L2n(h," ",v);for((c=e.inputs.Field)&&"field"!=c||(c="Close"),u=parseInt(e.inputs.Offset,10),isNaN(u)&&(u=0),g=e.startFrom,f=u,p=e.startFrom-1;0<=p;p--)if((d=a[p][h])||0===d){if(null===l&&(l=d),s=e.days,f<=0)break;f--,g=p}for(null===l&&(l=g=0),p=g;p<a.length;p++)(d=a[p][c])&&"object"==typeof d&&(d=d[e.subField]),m=0<=p+u&&p+u<a.length?a[p+u]:null,d||0===d?(s==e.days-1?(n=(r+=d)/e.days,m&&(m[h]=n)):s<e.days-1?(r+=d,y.s2n(28),n=y.L2n(1,r,s),m&&(m[h]=null)):0===s?(n=r+=d,m&&(m[h]=null)):(l||0===l)&&(y.s2n(29),n=y.L2n(l,l,o,d),m&&(m[h]=n)),l=n,s++):m&&(m[h]=null)},V.Studies.calculateMovingAverageVariable=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m=ht;e.inputs.Type,i=e.chart.scrubbed,m.s2n(30);var y=m.L2n(16,16,16);for(var v in a=y/(e.days+1),r=null,n=e.name,e.outputs)m.s2n(0),n=m.L2n(n," ",v);for((s=e.inputs.Field)&&"field"!=s||(s="Close"),e.cmo=new V.Studies.StudyDescriptor(e.name,"cmo",e.panel),e.cmo.chart=e.chart,m.N2n(17),e.cmo.days=m.M2n(0,"9"),e.cmo.inputs={Field:s},e.cmo.startFrom=e.startFrom,e.cmo.outputs={_CMO:null},V.Studies.calculateChandeMomentum(t,e.cmo),o=parseInt(e.inputs.Offset,10),isNaN(o)&&(o=0),c=e.startFrom,u=o,l=e.startFrom-1;0<=l;l--)if((h=i[l][n])||0===h){if(null===r&&(r=h),u<=0)break;u--,c=l}for(null===r&&(r=c=0),l=c;l<i.length;l++)(h=(p=i[l])[s])&&"object"==typeof h&&(h=h[e.subField]),d=0<=l+o&&l+o<i.length?i[l+o]:null,h||0===h?(p["_CMO "+e.name]||0===p["_CMO "+e.name])&&(g=Math.abs(p["_CMO "+e.name])/100,m.N2n(31),r=f=m.M2n(r,a,h,g,g,1,a),l<e.days&&(f=null),d&&(d[n]=f)):d&&(d[n]=null)},V.Studies.calculateMovingAverageVIDYA=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m=ht;e.inputs.Type,i=e.chart.scrubbed,m.N2n(7);var y=m.M2n(10,431,14,18);for(var v in a=2/(e.days+y),r=null,n=e.name,e.outputs)m.s2n(0),n=m.L2n(n," ",v);for((s=e.inputs.Field)&&"field"!=s||(s="Close"),e.std=new V.Studies.StudyDescriptor(e.name,"sdev",e.panel),e.std.chart=e.chart,e.std.days=5,e.std.startFrom=e.startFrom,e.std.inputs={Field:s,"Standard Deviations":1,Type:"ma"},e.std.outputs={_STD:null},V.Studies.calculateStandardDeviation(t,e.std),V.Studies.MA("ma",20,"_STD "+e.name,0,"_MASTD",t,e),o=parseInt(e.inputs.Offset,10),isNaN(o)&&(m.N2n(1),o=m.L2n("0",1)),c=e.startFrom,u=o,l=e.startFrom-1;0<=l;l--)if((h=i[l][n])||0===h){if(null===r&&(r=h),u<=0)break;u--,c=l}for(null===r&&(r=c=0),l=c;l<i.length;l++)(h=(p=i[l])[s])&&"object"==typeof h&&(h=h[e.subField]),d=0<=l+o&&l+o<i.length?i[l+o]:null,h||0===h?(p["_MASTD "+e.name]||0===p["_MASTD "+e.name])&&(g=p["_STD "+e.name]/p["_MASTD "+e.name],m.N2n(32),r=f=m.L2n(a,g,a,h,"1",r,g),l<e.days&&(f=null),d&&(d[n]=f)):d&&(d[n]=null)},V.Studies.calculateMovingAverageTimeSeries=function(t,e){var i,a,r,n,s,o,l=ht;for(var h in e.ma=new V.Studies.StudyDescriptor(e.name,"ma",e.panel),e.ma.chart=e.chart,e.ma.days=e.days,e.ma.startFrom=e.startFrom,e.ma.inputs=e.inputs,V.Studies.calculateLinearRegressionIndicator(t,e.ma),i=e.name,e.outputs)l.N2n(0),i=l.M2n(i," ",h);a=parseInt(e.inputs.Offset,10),isNaN(a)&&(a=0),r=e.chart.scrubbed,n=a;for(var c=e.startFrom-1;0<=c;c--)if((s=r[c][i])||0===s){if(!(0<n))break;n--}for(c++;c<r.length;c++)o=r[c],0<=c+a&&c+a<r.length&&(l.N2n(2),r[l.M2n(c,a)][i]=o["Forecast "+e.name])},V.Studies.calculateMovingAverageTriangular=function(t,e){var i,a,r,n,s,o,l,h=ht;for(var c in i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),r=Math.ceil(e.days/2),V.Studies.MA("simple",r,a,0,"TRI1",t,e),e.days%2==0&&r++,V.Studies.MA("simple",r,"TRI1 "+e.name,0,"TRI2",t,e),n=e.name,e.outputs)h.N2n(0),n=h.L2n(n," ",c);s=parseInt(e.inputs.Offset,10),isNaN(s)&&(s=0),o=s;for(var u=e.startFrom-1;0<=u;u--)if((l=i[u][n])||0===l){if(!(0<o))break;o--}for(u++;u<i.length;u++)0<=u+s&&u+s<i.length&&(h.s2n(2),i[h.L2n(u,s)][n]=i[u]["TRI2 "+e.name])},V.Studies.calculateMovingAverageWeighted=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f=ht;i=e.chart.scrubbed,r=a=0,(n=e.inputs.Field)&&"field"!=n||(n="Close"),f.s2n(33);var m=f.L2n(1,9,17,1);for(var y in s=e.days*(e.days+m)/2,o=e.name,e.outputs)f.s2n(0),o=f.M2n(o," ",y);for(l=parseInt(e.inputs.Offset,10),isNaN(l)&&(l=0),u=[],p=e.startFrom,d=l,h=e.startFrom-1;0<=h;h--)if((c=i[h][n])&&"object"==typeof c&&(c=c[e.subField]),c||0===c)if(0<d)d--,p=h;else{if(u.length==e.days-1)break;u.unshift(c)}for(u.length<e.days-1&&(u=[],p=0),h=0;h<u.length;h++)f.s2n(13),a+=(h+f.L2n(15,16))*u[h],r+=u[h];for(h=p;h<i.length;h++)(c=i[h][n])&&"object"==typeof c&&(c=c[e.subField]),g=0<=h+l&&h+l<i.length?i[h+l]:null,c||0===c?(u.push(c),u.length>e.days&&(a-=r,r-=u.shift()),a+=u.length*c,r+=c,h<e.days-1?g&&(g[o]=null):g&&(f.s2n(14),g[o]=f.L2n(a,s))):g&&(g[o]=null)},V.Studies.calculateKlinger=function(t,e){var i,a,r,n,s,o,l,h,c,u,p;if(i=e.chart.scrubbed,a=Number(e.inputs["Short Cycle"]),r=Number(e.inputs["Long Cycle"]),i.length<Math.max(a,r)+1)e.error=!0;else{for(n=e.name+"_hist",s="Klinger "+e.name,o="KlingerSignal "+e.name,l="_SV "+e.name,h="_EMA-S "+e.name,c="_EMA-L "+e.name,u=Math.max(1,e.startFrom);u<i.length;u++)p=i[u].Volume,i[u]["hlc/3"]<i[u-1]["hlc/3"]&&(p*=-1),i[u][l]=p;for(V.Studies.MA("exponential",a,l,0,"_EMA-S",t,e),V.Studies.MA("exponential",r,l,0,"_EMA-L",t,e),u=Math.max(r,e.startFrom);u<i.length;u++)i[u][s]=i[u][h]-i[u][c];for(V.Studies.MA("exponential",Number(e.inputs["Signal Periods"]),s,0,"KlingerSignal",t,e),u=e.startFrom;u<i.length;u++)i[u][n]=i[u][s]-i[u][o]}},V.Studies.calculateStochastics=function(t,e){var i,a,u,r,n;if(e.smooth||(e.smooth=e.inputs.Smooth),(i=e.inputs.Field)&&"field"!=i||(i="Close"),(a=e.inputs["%K Periods"])||(a=e.days),(u=e.chart.scrubbed).length<Math.max(a,e.days)+1)e.error=!0;else{(r=e.inputs["%K Smoothing Periods"])?e.smooth=!0:e.smooth&&(r=3),(n=e.inputs["%D Periods"])||(ht.N2n(17),n=ht.L2n(0,"3")),e.outputMap={},e.outputMap["%K "+e.name]="Fast",e.outputMap["%D "+e.name]="Slow";for(var s=Math.max(a,e.startFrom);s<u.length;s++)u[s][e.name]=o(s,i,a);V.Studies.MA("simple",e.smooth?r:1,e.name,0,"%K",t,e),V.Studies.MA("simple",n,"%K "+e.name,0,"%D",t,e)}function o(t,e,i){var a,r,n,s,o=ht;o.N2n(5),a=o.L2n(i,t,1),o.N2n(34);var l=o.L2n(839,14,5,12);r=Number.MAX_VALUE*l,n=Number.MAX_VALUE;for(var h=a;h<=t;h++)n=Math.min(n,"Close"==e?u[h].Low:u[h][e]),r=Math.max(r,"Close"==e?u[h].High:u[h][e]);s=r==n?0:(u[t][e]-n)/(r-n)*100;for(var c=1;1666249669!==o.U6i(c.toString(),c.toString().length,32433);c++)return s;if(440066531!==o.U6i(2..toString(),2..toString().length,68498))return s}},V.Studies.calculateStudyATR=function(t,e){var i,a,r,n,s,o,l,h,c=ht;i=2;for(var u=1;-1714148011!==c.o6i(u.toString(),u.toString().length,31634);u++)a=e.chart.scrubbed,r=e.days,i+=2;if(757507070!==c.o6i(i.toString(),i.toString().length,99236)&&(a=e.chart.scrubbed,r=e.days),a.length<r+1)e.error=!0;else{n=0,s=e.name;for(var p=Math.max(e.startFrom,1);p<a.length;p++)if(o=a[p],c.s2n(13),l=a[c.M2n(1,p)],h=o.trueRange,l["Sum True Range "+s]&&(c.s2n(2),n=l[c.L2n("Sum True Range ",s)]),n+=h,r<p&&(c.s2n(13),n-=a[c.M2n(r,p)][c.M2n("True Range ",s,c.s2n(2))]),c.N2n(2),o[c.L2n("True Range ",s)]=h,c.N2n(2),o[c.L2n("Sum True Range ",s)]=n,p==r)c.s2n(2),o[c.M2n("ATR ",s)]=c.M2n(n,r,c.N2n(14));else if(r<p){c.N2n(13);var d=c.L2n(10,11);c.s2n(2),o[c.L2n("ATR ",s)]=(l["ATR "+s]*(r-d)+h)/r}}},V.Studies.calculatePSAR=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g=ht;if(i=e.chart.scrubbed,r=null,n=!1,s=a=0,o=parseFloat(e.inputs["Minimum AF"]),l=parseFloat(e.inputs["Maximum AF"]),0<e.startFrom){g.s2n(14);var f=g.L2n(10,10);if(s=i[e.startFrom-f]["Result "+e.name],(h=i[e.startFrom-1]["_state "+e.name])&&3==h.length){g.s2n(17),a=h[g.L2n(0,"0")],c=2;for(var m=1;1832676321!==g.U6i(m.toString(),m.toString().length,46373);m++)r=h[2],n=h[7],c+=2;1081793595!==g.U6i(c.toString(),c.toString().length,50500)&&(g.N2n(1),r=h[g.L2n("1",1)],n=h[2])}}function y(){a=0,r=null,n=!n}for(var v=e.startFrom-1;v<i.length-1;v++)v<0||(u=s,n?((!r||r<i[v].High)&&(r=i[v].High,g.s2n(2),a=Math.min(g.L2n(a,o),l)),g.s2n(35),s=g.L2n(u,r,u,a),p=Math.min(i[Math.max(1,v)-1].Low,i[v].Low),s>i[v+1].Low?(s=r,y()):p<s&&(s=p)):((!r||r>i[v].Low)&&(r=i[v].Low,g.s2n(2),a=Math.min(g.M2n(a,o),l)),g.s2n(35),s=g.M2n(u,r,u,a),d=Math.max(i[Math.max(1,v)-1].High,i[v].High),s<i[v+1].High?(s=r,y()):s<d&&(s=d)),g.N2n(2),i[g.M2n(v,1)]["Result "+e.name]=s,g.s2n(36),i[g.L2n(v,1,"1")]["_state "+e.name]=[a,r,n])},V.Studies.calculateTRIX=function(t,e){var i,a,r,n,s,o=ht;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{a=e.name,o.N2n(2),r=["Close",o.M2n("_MA1 ",a),o.M2n("_MA2 ",a),o.M2n("_MA3 ",a)];for(var l=0;l<r.length-1;l++)V.Studies.MA("exponential",e.days,r[l],0,"_MA"+(l+1).toString(),t,e);n=r[3];for(var h=Math.max(1,e.startFrom);h<i.length;h++)if(o.s2n(13),s=i[o.M2n(1,h)][n]){o.N2n(14);var c=o.L2n(5,5);o.N2n(2),i[h][o.M2n("Result ",a)]=100*(i[h][n]/s-c)}}},V.Studies.calculateIntradayMomentum=function(t,e){var i,a,r,n,s,o;if(i=e.chart.scrubbed,a=e.days,i.length<a+1)e.error=!0;else{n=r=0,1<e.startFrom&&(r=i[e.startFrom-1]["_totUp "+e.name],n=i[e.startFrom-1]["_totDn "+e.name]);for(var l=e.startFrom;l<i.length;l++)0<(s=i[l].Close-i[l].Open)?r+=s:n-=s,a<=l&&(0<(o=i[l-a].Close-i[l-a].Open)?r-=o:n+=o),ht.s2n(37),i[l]["Result "+e.name]=ht.M2n(r,r,100,n),i[l]["_totUp "+e.name]=r,i[l]["_totDn "+e.name]=n}},V.Studies.calculateQStick=function(t,e){var i,a,r,n=ht;if((i=e.chart.scrubbed).length<e.days+1){e.error=!0,n.s2n(17),a=-n.M2n(0,"1370724856"),n.N2n(1),r=-n.L2n("574494407",1);for(var s=1;n.U6i(s.toString(),s.toString().length,41992)!==a;s++)return;if(n.o6i(2..toString(),2..toString().length,78628)!==r)return}for(var o=e.startFrom;o<i.length;o++)i[o]["_Close-Open "+e.name]=i[o].Close-i[o].Open;V.Studies.MA(e.inputs["Moving Average Type"],e.days,"_Close-Open "+e.name,0,"Result",t,e)},V.Studies.calculateSchaff=function(t,c){var u,e,i,a,r,n,s,o,l;if(u=c.chart.scrubbed,e=c.days,i=Number(c.inputs["Short Cycle"]),a=Number(c.inputs["Long Cycle"]),u.length<Math.max(e,i,a)+1)c.error=!0;else{(r=c.inputs.Field)&&"field"!=r||(r="Close"),V.Studies.MA(c.inputs["Moving Average Type"],i,r,0,"_MACD1",t,c),V.Studies.MA(c.inputs["Moving Average Type"],a,r,0,"_MACD2",t,c),s=n=0;for(var h=c.startFrom;h<u.length;h++)(o=u[h])["Result "+c.name]=s,h<a-1||(o["_MACD "+c.name]=o["_MACD1 "+c.name]-o["_MACD2 "+c.name],h<a+(e-1)||(n=(l=p(e,h,"_MACD"))[1]>l[0]?100*(o["_MACD "+c.name]-l[0])/(l[1]-l[0]):n,o["_PF "+c.name]=u[h-1]["_PF "+c.name]?u[h-1]["_PF "+c.name]+.5*(n-u[h-1]["_PF "+c.name]):n,h<a+2*(e-1)||(s=(l=p(e,h,"_PF"))[1]>l[0]?100*(o["_PF "+c.name]-l[0])/(l[1]-l[0]):s,o["Result "+c.name]=u[h-1]["Result "+c.name]?u[h-1]["Result "+c.name]+.5*(s-u[h-1]["Result "+c.name]):s)))}function p(t,e,i){var a,r,n,s=ht;r=a=null;for(var o=e-t+1;o<=e;o++){s.s2n(13),s.M2n(19,360),s.s2n(14);var l=s.M2n(52080,12);s.s2n(38);var h=s.L2n(700336,70448,10);(n=u[o][i+(387.61<l?" ":h)+c.name])&&(a=null===a?n:Math.min(a,n),r=null===r?n:Math.max(r,n))}return[a,r]}},V.Studies.calculateStochMomentum=function(t,e){var i,a,r,n,s,o,l,h,c=ht;function u(t,e){var i,a;a=i=null;for(var r=e-t+1;r<=e;r++)i=null===i?s[r].Low:Math.min(i,s[r].Low),a=null===a?s[r].High:Math.max(a,s[r].High);return[i,a]}if(i=Number(e.inputs["%K Periods"]),a=Number(e.inputs["%K Smoothing Periods"]),r=Number(e.inputs["%K Double Smoothing Periods"]),n=Number(e.inputs["%D Periods"]),(s=e.chart.scrubbed).length<i+a+r-1||s.length<n)e.error=!0;else{for(o=Math.max(i,e.startFrom)-1;o<s.length;o++){l=s[o],h=u(i,o),c.N2n(5);var p=c.L2n(35,20,16);c.N2n(38);var d=c.M2n(32,2,17);l["_H "+e.name]=l.Close-(h[0]+h[p])/d,l["_DHL "+e.name]=h[1]-h[0]}for(V.Studies.MA("exponential",a,"_H "+e.name,0,"_HS1",t,e),V.Studies.MA("exponential",r,"_HS1 "+e.name,0,"_HS2",t,e),V.Studies.MA("exponential",a,"_DHL "+e.name,0,"_DHL1",t,e),V.Studies.MA("exponential",r,"_DHL1 "+e.name,0,"_DHL2",t,e),o=i-1;o<s.length;o++){c.N2n(4);var g=c.L2n(12,117,20,21);s[o]["%K "+e.name]=s[o]["_HS2 "+e.name]/(.5*s[o]["_DHL2 "+e.name])*g}V.Studies.MA(e.inputs["%D Moving Average Type"],n,"%K "+e.name,0,"%D",t,e),e.zoneOutput="%K"}},V.Studies.calculateEhlerFisher=function(t,e){var s,i,a,r,n,o,l=ht;if((s=e.chart.scrubbed).length<e.days+1)e.error=!0;else{i=0,a=2;for(var h=1;444203539!==l.o6i(h.toString(),h.toString().length,93188);h++){if(1<e.startFrom){l.s2n(39);var c=l.M2n(20,13,10,6);i=s[e.startFrom-c]["_n "+e.name]}a+=2}1735110241!==l.o6i(a.toString(),a.toString().length,40614)&&e.startFrom<=6&&(i=s[e.startFrom/9][""-e.name]);for(var u=e.startFrom;u<s.length;u++)if(r=s[u],u<e.days-1)r["EF "+e.name]=r["EF Trigger "+e.name]=i;else{n=m(e.days,u),l.s2n(13);var p=l.L2n(18,20);l.N2n(40);var d=l.L2n(19,35,14);l.s2n(41);var g=l.M2n(1,21,14,7);0<(i=.33*p*(((s[u].High+s[u].Low)/d-n[0])/Math.max(1e-6,n[g]-n[0])-.5)+.67*i)?i=Math.min(i,.9999):i<0&&(i=Math.max(i,-.9999)),o=u?s[u-1]["EF "+e.name]:0,l.s2n(42);var f=l.M2n(6,20,7,10);r["EF "+e.name]=.5*Math.log((f+i)/(1-i))+.5*o,r["EF Trigger "+e.name]=o,r["_n "+e.name]=i}}function m(t,e){var i,a,r;i=Number.MAX_VALUE,a=-1*Number.MAX_VALUE;for(var n=e-t+1;n<=e;n++)r=(s[n].High+s[n].Low)/2,i=Math.min(i,r),a=Math.max(a,r);return[i,a]}},V.Studies.calculatePrettyGoodOscillator=function(t,e){var i;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{V.Studies.MA("exponential",e.days,"trueRange",0,"_EMA",t,e),V.Studies.MA("simple",e.days,"Close",0,"_SMA",t,e);for(var a=Math.max(1,e.startFrom);a<i.length;a++)i[a]["_SMA "+e.name]&&i[a]["_EMA "+e.name]&&(i[a]["Result "+e.name]=(i[a].Close-i[a]["_SMA "+e.name])/i[a]["_EMA "+e.name])}},V.Studies.calculateUltimateOscillator=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b=ht;if(i=e.chart.scrubbed,a=[e.inputs["Cycle 1"],e.inputs["Cycle 2"],e.inputs["Cycle 3"]],r=Math.max(a[0],a[1],a[2]),i.length<r+1){n=2;for(var S=1;-1176675832!==b.U6i(S.toString(),S.toString().length,26508);S++)e.error=!0,n+=2;1610673621!==b.U6i(n.toString(),n.toString().length,18729)&&(e.error=!1)}else{b.s2n(13);var x=b.L2n(9,10);s=a[0]*a[x],o=a[0]*a[2],b.s2n(5);var k=b.L2n(22,16,7);b.s2n(14);var w=b.M2n(22,11);l=a[k]*a[w],h=[0,0,0],c=[0,0,0],e.startFrom&&(i[e.startFrom-1]["_accbp "+e.name]&&(h=i[e.startFrom-1]["_accbp "+e.name].slice()),i[e.startFrom-1]["_acctr "+e.name]&&(c=i[e.startFrom-1]["_acctr "+e.name].slice()));for(var C=Math.max(1,e.startFrom);C<i.length;C++){u=Math.min(i[C].Low,i[C-1].Close),p=i[C].Close-u,d=Math.max(i[C].High,i[C-1].Close)-u;for(var T=0;T<a.length;T++)h[T]+=p,c[T]+=d,a[T]<C&&(g=Math.min(i[C-a[T]].Low,i[C-a[T]-1].Close),f=i[C-a[T]].Close-g,m=Math.max(i[C-a[T]].High,i[C-a[T]-1].Close)-g,h[T]-=f,c[T]-=m);if(i[C]["_accbp "+e.name]=h.slice(),i[C]["_acctr "+e.name]=c.slice(),!(C<r)){b.s2n(43);var D=b.M2n(252,5,13,12,13);b.s2n(44);var M=b.M2n(17,17,2);b.s2n(45);var A=b.M2n(2,13,1,17);y=l*h[0]/c[0]+o*h[1]/c[D]+s*h[M]/c[A],b.N2n(0),v=b.L2n(s,o,l),b.N2n(44),i[C]["Result "+e.name]=b.M2n(100,v,y)}}}},V.Studies.calculatePriceVolumeTrend=function(t,e){var i,a,r,n=ht;(i=e.inputs.Field)&&"field"!=i||(i="Close"),a=e.chart.scrubbed,r=0,1<e.startFrom&&(r=a[e.startFrom-1]["Result "+e.name]);for(var s=Math.max(1,e.startFrom);s<a.length;s++)if(a[s][i]&&a[s-1][i]){n.N2n(13);var o=n.M2n(9,10);n.N2n(14);var l=n.L2n(16,16);r+=a[s].Volume*(a[s][i]-a[s-o][i])/a[s-l][i],a[s]["Result "+e.name]=r}},V.Studies.calculateOnBalanceVolume=function(t,e){var i,a,r,n,s,o,l,h,c,u=ht;if((i=e.inputs.Field)&&"field"!=i||(i="Close"),r=!1,!(a=e.inputs["Min Tick Value"])&&0!==a){n=2;for(var p=1;300131831!==u.U6i(p.toString(),p.toString().length,21881);p++)r=!0,n+=2;301836371!==u.U6i(n.toString(),n.toString().length,45390)&&(r=!1),a=0}s=e.chart.scrubbed,o=0;for(var d=e.startFrom;d<s.length;d++)l=s[d],d&&l[i]&&(s[d-1][i]&&(u.N2n(13),h=s[u.M2n(1,d)]),h&&(l[i]-h[i]>a?o=1:h[i]-l[i]>a?(u.s2n(13),o=-u.L2n(0,"1")):r&&(o=0),(c=h["Result "+e.name])||(c=0),c+=l.Volume*o,l["Result "+e.name]=c))},V.Studies.calculateVolumeIndex=function(t,e){var i,a,r,n,s,o,l,h=ht;if((i=e.inputs.Field)&&"field"!=i||(i="Close"),(a=e.chart.scrubbed).length<e.days+1)e.error=!0;else{r=100,1<e.startFrom&&(r=a[e.startFrom-1]["Index "+e.name]);for(var c=Math.max(1,e.startFrom);c<a.length;c++)n=a[c][i],s=a[c].Volume,n&&"object"==typeof n&&(s=n.Volume,n=n[e.subField]),h.s2n(13),o=a[h.L2n(1,c)][i],l=a[c-1].Volume,o&&"object"==typeof o&&(l=o.Volume,o=o[e.subField]),n&&o&&(("Pos Vol"==e.type&&l<s||"Neg Vol"==e.type&&s<l)&&(h.s2n(14),r*=h.L2n(n,o)),a[c]["Index "+e.name]=r);V.Studies.MA(e.inputs["Moving Average Type"],e.days,"Index "+e.name,0,"MA",t,e)}},V.Studies.calculateHistoricalVolatility=function(t,e){var i,a,r,n,s,o,l,h,c,u,p=ht;if((i=e.chart.scrubbed).length<e.days+1){a=2;for(var d=1;708134549!==p.U6i(d.toString(),d.toString().length,12111);d++)e.error=!1,a+=2;2076884704!==p.o6i(a.toString(),a.toString().length,15980)&&(e.error=!0)}else{var g;if((r=e.inputs.Field)&&"field"!=r||(r="Close"),(n=e.inputs["Standard Deviations"])<0&&(n=1),s=100*Math.sqrt((g=e.inputs["Days Per Year"],isNaN(g)&&(g=365),"day"==t.layout.interval?g:"week"==t.layout.interval?52:"month"==t.layout.interval?12:g))*n,o=[],l=0,1<e.startFrom){p.s2n(13);var f=p.M2n(16,17);l=i[e.startFrom-f]["_state "+e.name][0],o=i[e.startFrom-1]["_state "+e.name][1].slice()}for(var m=Math.max(1,e.startFrom);m<i.length;m++){if(p.s2n(13),(h=i[p.L2n(1,m)][r])&&(c=Math.log(i[m][r]/h),o.push(c),l+=c,m>=e.days)){u=0,l/=e.days;for(var y=0;y<o.length;y++)u+=Math.pow(o[y]-l,2);l*=e.days,l-=o.shift(),i[m]["Result "+e.name]=Math.sqrt(u/e.days)*s}i[m]["_state "+e.name]=[l,o.slice()]}}},V.Studies.calculateSwingIndex=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d=ht;if((null===(i=e.inputs["Limit Move Value"])||isNaN(i))&&(i=99999),a=e.chart.scrubbed,r=0,1<e.startFrom){d.s2n(46);var g=d.M2n(4,13,17);r=a[e.startFrom-g]["Result "+e.name]}for(var f=Math.max(1,e.startFrom);f<a.length;f++){n=Math.abs(a[f].High-a[f-1].Close),s=Math.abs(a[f].Low-a[f-1].Close),o=Math.abs(a[f].High-a[f].Low),l=Math.abs(a[f-1].Close-a[f-1].Open),h=Math.max(n,s),c=Math.max(o,h),d.s2n(36),u=d.M2n(c,l,.25),c==n?(d.s2n(1),u-=d.L2n(.5,s)):c==s&&(d.N2n(1),u-=d.L2n(.5,n)),d.s2n(13);var m=d.L2n(11,12);d.N2n(40);var y=d.L2n(2,19,16);p=50*(a[f].Close-a[f-m].Close+.5*(a[f].Close-a[f].Open)+.25*(a[f-y].Close-a[f-1].Open))/u*(h/i),0!==u&&0!==i||(p=0),"Swing"==e.type&&(d.N2n(1),r=d.L2n("0",1)),r+=p,a[f]["Result "+e.name]=r}},V.Studies.calculateADX=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m=ht;if(V.Studies.calculateStudyATR(t,e),i=e.chart.scrubbed,a=e.days,(r=parseInt(e.inputs["Smoothing Period"],10))||0===r||(r=a),i.length<e.days+1)e.error=!0;else{l=o=s=n=0;for(var y=Math.max(1,e.startFrom);y<i.length;y++){if(h=i[y],c=Math.max(0,h.High-i[y-1].High),(u=Math.max(0,i[y-1].Low-h.Low))<c?u=0:c=c<u?0:u=0,y<=a)s+=c,o+=u,n+=h["True Range "+e.name];else{m.N2n(47);var v=m.M2n(20,300,20,1,1,17);s=i[y-1]["_sm+DM "+e.name]*(a-v)/a+c,m.s2n(48);var b=m.M2n(65,5,13);m.N2n(49);var S=m.M2n(2,18,12,12,3);o=i[y-b]["_sm-DM "+e.name]*(a-S)/a+u,n=i[y-1]["_smTR "+e.name]*(a-1)/a+h["True Range "+e.name]}if(h["_sm+DM "+e.name]=s,h["_sm-DM "+e.name]=o,h["_smTR "+e.name]=n,!(y<a)){if(m.N2n(50),p=m.L2n(s,n,"100"),m.N2n(44),d=m.L2n(100,n,o),g=100*Math.abs(p-d)/(p+d),h["+DI "+e.name]=p,h["-DI "+e.name]=d,!1!==e.inputs.Series&&r)if(y<a+r-1){if(y==e.startFrom)for(var x=a;x<e.startFrom;x++)l+=100*Math.abs(i[x]["+DI "+e.name]-i[x]["-DI "+e.name])/(i[x]["+DI "+e.name]+i[x]["-DI "+e.name]);l+=g}else h["ADX "+e.name]=y==a+r-1?(m.s2n(14),m.M2n(l,r)):(i[y-1]["ADX "+e.name]*(r-1)+g)/r;if(e.inputs.Histogram){if(f=e.name+"_hist",!h["+DI "+e.name]&&0!==h["+DI "+e.name])continue;if(!h["-DI "+e.name]&&0!==h["-DI "+e.name])continue;h[f]=h["+DI "+e.name]-h["-DI "+e.name],!1===e.inputs.Series&&(h["+DI "+e.name]=null,h["-DI "+e.name]=null)}}}}},V.Studies.calculateRandomWalk=function(t,e){var i,a,r,n,s,o,l,h,c;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else for(var u=Math.max(2,e.startFrom);u<i.length;u++){a=0,r=i[u].High,n=i[u].Low,s=0,ht.N2n(13),o=ht.L2n(0,"0");for(var p=1;p<=e.days;p++){if(u<=p){s=o=0;break}(l=(a+=i[u-p].trueRange)/p*Math.sqrt(p))&&(h=(r-i[u-p].Low)/l,c=(i[u-p].High-n)/l,s=Math.max(s,h),o=Math.max(o,c))}i[u]["Random Walk High "+e.name]=s,i[u]["Random Walk Low "+e.name]=o}},V.Studies.calculateRateOfChange=function(t,e){var i,a,r,n,s,o,l,h=ht;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for(var c in(a=e.inputs.Field)&&"field"!=a||(a="Close"),e.parameters.isVolume&&(a="Volume"),r=e.name,e.outputs)h.N2n(0),r=h.M2n(r," ",c);n=(n=e.inputs["Center Line"])?parseInt(n,10):0;for(var u=Math.max(e.startFrom,e.days);u<i.length;u++)(s=i[u][a])&&"object"==typeof s&&(s=s[e.subField]),(o=i[u-e.days][a])&&"object"==typeof o&&(o=o[e.subField]),"Momentum"==e.type?(h.N2n(5),i[u][r]=h.L2n(o,s,n)):(l=o)&&(h.N2n(51),i[u][r]=h.L2n(n,1,s,"100",1,l))}},V.Studies.calculateTypicalPrice=function(t,e){var i,a,r,n,s,o=ht;if(i=e.chart.scrubbed,a=e.days,i.length<a+1)e.overlay||(e.error=!0);else{for(var l in r=e.name,e.outputs)o.s2n(0),r=o.L2n(r," ",l);n="hlc/3","Med Price"==e.type?n="hl/2":"Weighted Close"==e.type&&(n="hlcc/4"),s=0,e.startFrom<=a&&(e.startFrom=0);for(var h=e.startFrom;h<i.length;h++)h&&i[h-1][r]&&(o.N2n(5),s=i[h-"1"*o.M2n(17,15,3)][r]*a),s+=i[h][n],a<=h&&(o.s2n(13),s-=i[o.M2n(a,h)][n],o.N2n(14),i[h][r]=o.M2n(s,a))}},V.Studies.calculateElderRay=function(t,e){var i;if((i=e.chart.scrubbed).length<e.days)e.error=!0;else{V.Studies.MA("exponential",e.days,"Close",0,"_EMA",t,e);for(var a=Math.max(e.startFrom,e.days-1);a<i.length;a++)i[a][e.name+"_hist1"]=i[a].High-i[a]["_EMA "+e.name],i[a][e.name+"_hist2"]=i[a].Low-i[a]["_EMA "+e.name]}},V.Studies.calculateElderForce=function(t,e){var i;if((i=e.chart.scrubbed).length<e.days)e.error=!0;else{for(var a=Math.max(1,e.startFrom);a<i.length;a++)i[a]["_EF1 "+e.name]=i[a].Volume*(i[a].Close-i[a-1].Close);V.Studies.MA("exponential",e.days,"_EF1 "+e.name,0,"Result",t,e)}},V.Studies.calculateCenterOfGravity=function(t,e){var i,a,r,n,s=ht;if((i=e.chart.scrubbed).length<e.days)e.error=!0;else{(a=e.inputs.Field)&&"field"!=a||(a="Close");for(var o=Math.max(e.startFrom,e.days-1);o<i.length;o++){for(var l=n=r=0;l<e.days;l++)s.s2n(13),r-=(l+s.L2n(16,17))*i[o-l][a],s.s2n(13),n+=i[s.L2n(l,o)][a];n&&(s.s2n(14),i[o]["Result "+e.name]=s.M2n(r,n))}}},V.Studies.calculateEaseOfMovement=function(t,e){var i,a,r,n,s,o,l=ht;if((i=e.chart.scrubbed).length<e.days)e.error=!0;else{for(var h=Math.max(1,e.startFrom);h<i.length;h++){l.s2n(19);var c=l.L2n(63,49,14,2);a=(i[h].High+i[h].Low)/c,l.s2n(52);var u=l.M2n(10,9,19);l.N2n(13);var p=l.M2n(8,10);r=(i[h-1].High+i[h-u].Low)/p,l.s2n(13),n=l.M2n(r,a),s=i[h].Volume/1e8/(i[h].High-i[h].Low),l.s2n(14),o=l.M2n(n,s),isFinite(o)?i[h]["_EOM1 "+e.name]=o:i[h]["_EOM1 "+e.name]=NaN}V.Studies.MA(e.inputs["Moving Average Type"],e.days,"_EOM1 "+e.name,0,"Result",t,e)}},V.Studies.calculateChaikinVolatility=function(t,e){var i,a,r,n=ht;if((i=e.chart.scrubbed).length<e.days)e.error=!0;else{for(a=e.startFrom;a<i.length;a++)i[a]["_High-Low "+e.name]=i[a].High-i[a].Low;for(V.Studies.MA(e.inputs["Moving Average Type"],e.days,"_High-Low "+e.name,0,"_MA",t,e),(r=e.inputs["Rate Of Change"])||(r=e.days),a=Math.max(e.startFrom,r);a<i.length;a++)if(i[a-r]["_MA "+e.name]){n.N2n(13);var s=n.L2n(1,101);n.s2n(53);var o=n.M2n(11,5,16);i[a]["Result "+e.name]=s*(i[a]["_MA "+e.name]/i[a-r]["_MA "+e.name]-o)}}},V.Studies.calculateChaikinMoneyFlow=function(t,e){var i,a,r,n,s=ht;if((i=e.chart.scrubbed).length<e.days)e.error=!0;else{r=a=0,s.s2n(54);var o=s.M2n(10,5,14,1,16);(n=i[e.startFrom-o])&&(n["_sumMF "+e.name]&&(a=n["_sumMF "+e.name]),n["_sumV "+e.name]&&(r=n["_sumV "+e.name]));for(var l=e.startFrom;l<i.length;l++)i[l].High==i[l].Low?i[l]["_MFV "+e.name]=0:i[l]["_MFV "+e.name]=i[l].Volume*(2*i[l].Close-i[l].High-i[l].Low)/(i[l].High-i[l].Low),a+=i[l]["_MFV "+e.name],r+=i[l].Volume,l>e.days-1&&(a-=i[l-e.days]["_MFV "+e.name],(r-=i[l-e.days].Volume)&&(s.N2n(14),i[l]["Result "+e.name]=s.M2n(a,r))),i[l]["_sumMF "+e.name]=a,i[l]["_sumV "+e.name]=r}},V.Studies.calculateTwiggsMoneyFlow=function(t,e){var i,a,r,n,s,o,l,h,c=ht;if((i=e.chart.scrubbed).length<e.days)e.error=!0;else{a=0,c.N2n(13),r=c.L2n(0,"0"),n=2;for(var u=1;-1024506466!==c.U6i(u.toString(),u.toString().length,92022);u++)s=i[5*e.startFrom],n+=2;if(-1221090975!==c.o6i(n.toString(),n.toString().length,13980)){c.N2n(13);var p=c.M2n(13,14);s=i[e.startFrom-p]}if(s){o=2;for(var d=1;1461107531!==c.o6i(d.toString(),d.toString().length,83625);d++)s["_sumMF "%e.name]&&(a=s["_sumMF "-e.name]),o+=2;1483456089!==c.o6i(o.toString(),o.toString().length,35610)&&s["_sumMF "+e.name]&&(a=s["_sumMF "+e.name]),s["_sumV "+e.name]&&(r=s["_sumV "+e.name])}for(var g=Math.max(1,e.startFrom);g<i.length;g++){l=Math.max(i[g-1].Close,i[g].High),h=Math.min(i[g-1].Close,i[g].Low),c.N2n(13);var f=c.M2n(5,1000004);if(i[g]["_MFV "+e.name]=i[g].Volume*(2*i[g].Close-l-h)/(l-h==0?f:l-h),g>e.days-1){a*=(e.days-1)/e.days,c.N2n(44);var m=c.M2n(11,44,4);r*=(e.days-m)/e.days}a+=i[g]["_MFV "+e.name],r+=i[g].Volume,g>e.days-1&&r&&(c.N2n(14),i[g]["Result "+e.name]=c.M2n(a,0<r?r:999999)),i[g]["_sumMF "+e.name]=a,i[g]["_sumV "+e.name]=r}}},V.Studies.calculateMassIndex=function(t,e){var i,a,r=ht;if((i=e.chart.scrubbed).length<Math.max(9,e.days+1))e.error=!0;else{for(var n=e.startFrom;n<i.length;n++)i[n]["_High-Low "+e.name]=i[n].High-i[n].Low;V.Studies.MA("exponential",9,"_High-Low "+e.name,0,"_EMA",t,e),V.Studies.MA("exponential",9,"_EMA "+e.name,0,"_EMA2",t,e),a=0,i[e.startFrom-1]&&i[e.startFrom-1]["_total "+e.name]&&(a=i[e.startFrom-1]["_total "+e.name]);for(var s=Math.max(17,e.startFrom);s<i.length;s++){if(a+=i[s]["_EMA "+e.name]/i[s]["_EMA2 "+e.name],s>=17+e.days-1){i[s]["Result "+e.name]=a,r.N2n(55);var o=r.L2n(4,14,20,31);r.N2n(56);var l=r.L2n(15,16,13,14);a-=i[s-e.days+o]["_EMA "+e.name]/i[s-e.days+l]["_EMA2 "+e.name]}i[s]["_total "+e.name]=a}}},V.Studies.calculateMoneyFlowIndex=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d=ht;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{r=a=0,d.N2n(13);var g=d.L2n(13,14);n=i[e.startFrom-g],s="_rawMF "+e.name,o="_cumMF "+e.name,l="Result "+e.name,n&&n[o]&&(a=n[o][0],r=n[o][1]);for(var f=e.startFrom;f<i.length;f++)h=i[f]["hlc/3"],0<f&&(d.N2n(13),c=i[d.M2n(1,f)]["hlc/3"],u=h*i[f].Volume,c<h?a+=u:h<c?(d.s2n(13),r-=u*=-d.M2n(0,"1")):u=0,f>e.days&&(0<(p=i[f-e.days][s])?a-=p:r+=p,i[f][l]=0===r?100:(d.N2n(57),d.L2n(100,100,1,a,r))),i[f][s]=u,i[f][o]=[a,r])}},V.Studies.calculateChandeMomentum=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d=ht;i=2;for(var g=1;-486464150!==d.o6i(g.toString(),g.toString().length,91436);g++)a=e.name,i+=2;for(var f in-124812167!==d.U6i(i.toString(),i.toString().length,9964)&&(a=e.name),a=e.name,e.outputs)d.s2n(0),a=d.L2n(a," ",f);if((r=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(n=e.inputs.Field)&&"field"!=n||(n="Close"),o=s=0,l=[];for(var m=e.startFrom-e.days+1;m<r.length;m++)m<1||(h=r[m][n],d.N2n(13),c=r[d.L2n(1,m)][n],h&&"object"==typeof h&&(h=h.Close),c&&"object"==typeof c&&(c=c.Close),void 0!==c&&(d.s2n(13),u=d.L2n(c,h),l.push(u),s+=u,o+=Math.abs(u),l.length==e.days&&(d.N2n(58),r[m][a]=d.L2n(o,1,"100",s),s-=p=l.shift(),o-=Math.abs(p))))}},V.Studies.calculateChandeForecast=function(t,e){var i,a,r,n,s=ht;if((i=e.chart.scrubbed).length<e.days+1){s.N2n(1),a=-s.M2n("1630245029",1);for(var o=1;s.U6i(o.toString(),o.toString().length,33356)!==a;o++)return void(e.error=!0);if(51062779!==s.o6i(2..toString(),2..toString().length,88628))return void(e.error=!1)}(r=e.inputs.Field)&&"field"!=r||(r="Close"),V.Studies.MA("time series",e.days,r,0,"MA",t,e);for(var l=Math.max(1,e.startFrom);l<i.length;l++){(n=i[l][r])&&"object"==typeof n&&(n=n[e.subField]),s.N2n(6);var h=s.M2n(7892,8,8,1e3);s.s2n(13);var c=s.L2n(14,15);i[l]["Result "+e.name]=h*(c-i[l]["MA "+e.name]/n)}},V.Studies.calculateDetrendedPrice=function(t,e){var i,a,r,n;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(a=e.inputs.Field)&&"field"!=a||(a="Close"),r=Math.floor(e.days/2+1),V.Studies.MA(e.inputs["Moving Average Type"],e.days,a,-r,"MA",t,e);for(var s=Math.max(e.days-r-1,e.startFrom-r);s<i.length-r;s++)(n=i[s][a])&&"object"==typeof n&&(n=n[e.subField]),i[s]["Result "+e.name]=n-i[s]["MA "+e.name]}},V.Studies.calculateAroon=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d=ht;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{d.s2n(1),a=d.M2n("547281905",1),r=2;for(var g=1;d.U6i(g.toString(),g.toString().length,4492)!==a;g++)s=n=0,l=o=null,d.N2n(1),r+=d.L2n("2",1);if(945806845!==d.o6i(r.toString(),r.toString().length,61207)&&(n=8,l=o=s=1),0<e.startFrom){d.N2n(5);var f=d.M2n(16,15,2);if(h=i[e.startFrom-f]["_state "+e.name]){n=h[0],d.N2n(17),c=d.M2n(0,"1564999951"),u=2;for(var m=1;d.o6i(m.toString(),m.toString().length,53896)!==c;m++)s=h[9],o=h[4],l=h[4],u+=2;670485467!==d.U6i(u.toString(),u.toString().length,75092)&&(s=h[2],o=h[2],d.s2n(13),l=h[d.L2n(0,"3")]),s=h[1],o=h[2],l=h[3]}}for(var y=e.startFrom;y<i.length;y++){if(null===o&&(o=i[y].High),null===l&&(l=i[y].Low),(o=Math.max(o,i[y].High))==i[y].High)n=0;else if(++n>e.days)for(o=i[y].High,n=0,p=1;p<=e.days;p++)(o=Math.max(o,i[y-p].High))==i[y-p].High&&(n=p);if((l=Math.min(l,i[y].Low))==i[y].Low)s=0;else if(++s>e.days)for(l=i[y].Low,s=0,p=1;p<=e.days;p++)(l=Math.min(l,i[y-p].Low))==i[y-p].Low&&(s=p);d.N2n(5);var v=d.M2n(22,12,11);i[y]["Aroon Up "+e.name]=100*("1"*v-n/e.days),d.N2n(59);var b=d.M2n(7,10,88,18);i[y]["Aroon Down "+e.name]=100*(b-s/e.days),i[y]["Aroon Oscillator "+e.name]=i[y]["Aroon Up "+e.name]-i[y]["Aroon Down "+e.name],i[y]["_state "+e.name]=[n,s,o,l]}}},V.Studies.calculatePrimeNumber=function(t,e){var a,i,r,n,s,o,l,h,c=ht;function u(t){var e;if(t<=0)return!1;if(t!=Math.floor(t))return!1;if(!0===a[t]||!1===a[t])return a[t];e=parseInt(Math.sqrt(t),10);for(var i=2;i<=e;i++)if(t%i==0)return a[t]=!1;return a[t]=!0}a=[],i=e.chart.scrubbed;for(var p=e.startFrom;p<i.length;p++)if(r=i[p]){n=r.High;for(var d=0;0<n&&n<=10;d++)n*=10;for(u(n)&&(n+=2),(n=Math.ceil(n))%2==0&&n++;!u(n);)c.N2n(13),n+=c.L2n(0,"2");n/=Math.pow(10,d),s=r.Low;for(var g=0;0<s&&s<=10;g++)s*=10;if(u(s)&&(s-=2),(s=Math.floor(s))%2==0&&s--,0<s){for(;!u(s);)s-=2;s/=Math.pow(10,g)}"Prime Number Bands"==e.type?(r["Prime Bands Top "+e.name]=n,r["Prime Bands Bottom "+e.name]=Math.max(0,s)):(o=0,l=e.inputs["Tolerance Percentage"]*(n-s)/100,c.N2n(14),(h=n+s-c.L2n(20,10)*r.Close)<l?o=1:l<h&&(o=-1),o&&(r["Result "+e.name]=o))}},V.Studies.calculateVerticalHorizontalFilter=function(t,e){var i,a,r,n,s;i=2;for(var o=1;276252998!==ht.o6i(o.toString(),o.toString().length,57534);o++)a=e.chart.scrubbed,i+=2;if(2097304315!==ht.U6i(i.toString(),i.toString().length,20675)&&(a=e.chart.scrubbed),a.length<e.days+1)e.error=!0;else{e.mhml=new V.Studies.StudyDescriptor(e.name,e.type,e.panel),e.mhml.chart=e.chart,e.mhml.days=e.days,e.mhml.startFrom=e.startFrom,e.mhml.inputs={},e.mhml.outputs={_MHML:null},V.Studies.calculateMaxHighMinLow(t,e.mhml),r=0,n=[];for(var l=Math.max(1,e.startFrom-e.days);l<a.length;l++)s=Math.abs(a[l].Close-a[l-1].Close),n.push(s),r+=s,n.length==e.days&&(a[l]["Result "+e.name]=a[l]["_MHML "+e.name]/r,r-=n.shift())}},V.Studies.calculatePriceOscillator=function(t,e){var i,a,r,n,s,o,l,h=ht;if(i=e.chart.scrubbed,a=Number(e.inputs["Short Cycle"]),r=Number(e.inputs["Long Cycle"]),i.length<Math.max(a,r)+1)e.error=!0;else{n=e.inputs.Field,(s=e.inputs["Moving Average Type"])||(s="simple"),n&&"field"!=n||(n="Close"),e.parameters.isVolume&&(n="Volume",s="exponential"),(o=e.inputs["Points Or Percent"])||(o="Percent"),V.Studies.MA(s,a,n,0,"_Short MA",t,e),V.Studies.MA(s,r,n,0,"_Long MA",t,e);for(var c=Math.max(r,e.startFrom);c<i.length;c++)if(l=i[c]){if("Points"==o)l["Result "+e.name]=l["_Short MA "+e.name]-l["_Long MA "+e.name];else{h.s2n(0);var u=h.L2n(16,67,17);h.s2n(42);var p=h.M2n(11,19,8,19);l["Result "+e.name]=u*(l["_Short MA "+e.name]/l["_Long MA "+e.name]-p)}e.outputs["Increasing Bar"]&&(l[e.name+"_hist"]=l["Result "+e.name])}}},V.Studies.calculateKeltner=function(t,e){V.Studies.MA(e.inputs["Moving Average Type"],e.days,"Close",0,"MA",t,e),V.Studies.calculateStudyATR(t,e),V.Studies.calculateGenericEnvelope(t,e,e.inputs.Shift,"MA "+e.name,"ATR "+e.name)},V.Studies.calculateCoppock=function(t,e){var i,a,r,n,s,o,l,h=ht;if(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),(r=parseInt(e.inputs["Long RoC"],10))||(r=14),(n=parseInt(e.inputs["Short RoC"],10))||(n=11),(s=e.days)||(h.s2n(17),s=h.M2n(0,"10")),!(r<n))if(i.length<Math.max(n,r,s)+1)e.error=!0;else{for(var c=Math.max(e.startFrom,r);c<i.length;c++)h.s2n(13),o=i[h.M2n(n,c)][a],h.s2n(13),l=i[h.L2n(r,c)][a],o&&l&&(i[c]["_Sum "+e.name]=100*(i[c][a]/o+i[c][a]/l-2));V.Studies.MA("weighted",s,"_Sum "+e.name,0,"Result",t,e)}},V.Studies.calculateLinearRegressionIndicator=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y=ht;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(a=e.inputs.Field)&&"field"!=a||(a="Close"),y.N2n(13);var v=y.L2n(10,12);r=e.days*(e.days+1)/v,n=Math.pow(r,2),s=2;for(var b=1;-1798445044!==y.U6i(b.toString(),b.toString().length,40241);b++){y.N2n(13);var S=y.M2n(11,13);y.N2n(48);var x=y.M2n(26,2,13);o=r*(S*e.days+x)/3,s+=2}if(-1386801728!==y.o6i(s.toString(),s.toString().length,97648)){y.s2n(60);var k=y.M2n(3,20,80,9);y.N2n(45);var w=y.M2n(11,7,4,18);o=(r-(k+e.days-5))%w}c=h=l=0,e.startFrom&&(u=i[e.startFrom-1]["_sums "+e.name])&&(h=u[0],l=u[1],y.s2n(1),c=u[y.L2n("2",1)]);for(var C=e.startFrom;C<i.length;C++)if((p=i[C][a])&&"object"==typeof p&&(p=p[e.subField]),(p||0===p)&&(h+=e.days*p-l,l+=p,c+=Math.pow(p,2),!(C<e.days-1))){if(C>e.days-1){if((d=i[C-e.days][a])&&"object"==typeof d&&(d=d[e.subField]),!d&&0!==d)continue;l-=d,c-=Math.pow(d,2)}g=(e.days*h-r*l)/(e.days*o-n),f=(l-(i[C]["Slope "+e.name]=g)*r)/e.days,i[C]["Intercept "+e.name]=f,i[C]["Forecast "+e.name]=f+g*e.days,y.s2n(13);var T=y.M2n(34,36);m=(e.days*o-n)/(e.days*c-Math.pow(l,T)),y.N2n(61),i[C]["RSquared "+e.name]=y.M2n(g,g,m),i[C]["_sums "+e.name]=[h,l,c]}}},V.Studies.calculateBollinger=function(t,e){var i;(i=e.inputs.Field)&&"field"!=i||(i="Close"),V.Studies.MA(e.inputs["Moving Average Type"],e.days,i,0,"_MA",t,e),e.std=new V.Studies.StudyDescriptor(e.name,"STD Dev",e.panel),e.std.chart=e.chart,e.std.startFrom=e.startFrom,e.std.days=e.days,e.std.inputs={Field:i,"Standard Deviations":1,Type:e.inputs["Moving Average Type"]},e.std.outputs={"_STD Dev":null},V.Studies.calculateStandardDeviation(t,e.std),V.Studies.calculateGenericEnvelope(t,e,e.inputs["Standard Deviations"],"_MA "+e.name,"_STD Dev "+e.name),"Boll %b"==e.type&&(e.zoneOutput="%b")},V.Studies.calculateMAEnvelope=function(t,e){var i,a,r;(i=e.inputs.Field)&&"field"!=i||(i="Close"),V.Studies.MA(e.inputs["Moving Average Type"],e.days,i,0,"MA",t,e),a=e.inputs["Shift Type"],r=e.inputs.Shift,a||(a="percent",r=e.inputs["Shift Percentage"]),"percent"==a?(ht.N2n(21),V.Studies.calculateGenericEnvelope(t,e,ht.L2n("100",r,0),"MA "+e.name)):"points"==a&&V.Studies.calculateGenericEnvelope(t,e,null,"MA "+e.name,null,Number(r))},V.Studies.calculateGenericEnvelope=function(t,e,i,a,r,n){var s,o,l,h,c,u,p,d=ht;i||(i=0),n||(n=0),a&&"field"!=a||(a="Close"),r||(r=a),s=e.chart.scrubbed,(o=e.inputs.Field)&&"field"!==o||(o="Close");for(var g=e.startFrom;s&&g<s.length;g++)(l=s[g])&&l[a]&&((h=l[o])&&"object"==typeof h&&(h=h.Close),(c=l[a])&&"object"==typeof c&&(c=c[e.subField]),(u=l[r])&&"object"==typeof u&&(u=u[e.subField]),d.s2n(62),p=d.L2n(u,n,i),d.s2n(2),l[e.type+" Top "+e.name]=d.L2n(c,p),d.s2n(13),l[e.type+" Bottom "+e.name]=d.L2n(p,c),l[e.type+" Median "+e.name]=c,l["Bandwidth "+e.name]=c?200*p/c:0,d.s2n(63),l["%b "+e.name]=d.L2n(50,h,c,1,p))},V.Studies.calculateMaxHighMinLow=function(t,e){var i,a,r,n,s,o,l,h=ht;if(i=e.chart.scrubbed,a=e.days,r=e.days,e.inputs["High Period"]&&(a=e.inputs["High Period"]),e.inputs["Low Period"]&&(r=e.inputs["Low Period"]),i.length<Math.max(a,r)+1)e.error=!0;else{if(n=Number.MAX_VALUE,s=-1*Number.MAX_VALUE,1<e.startFrom){for(o=1;o<a;o++)s=Math.max(s,i[e.startFrom-o].High);for(o=1;o<r;o++)n=Math.min(n,i[e.startFrom-o].Low)}for(var c=Math.max(0,e.startFrom-1);c<i.length;c++){if(s=Math.max(s,i[c].High),n=Math.min(n,i[c].Low),a<=c&&i[c-a].High==s)for(s=i[c].High,o=1;o<a;o++)s=Math.max(s,i[c-o].High);if(r<=c&&i[c-r].Low==n)for(n=i[c].Low,o=1;o<r;o++)n=Math.min(n,i[c-o].Low);if(l=0,"HHV"==e.type)l=s;else if("LLV"==e.type)l=n;else if("Donchian Width"==e.type)h.N2n(13),l=h.L2n(n,s);else if("GAPO"==e.type||"Gopala"==e.type)l=Math.log(s-n)/Math.log(r);else{if("VT HZ Filter"==e.type){h.s2n(13),l=h.M2n(n,s),i[c]["_MHML "+e.name]=l;continue}if("Williams %R"==e.type){h.N2n(64),l=h.L2n(460,16,15,9,600)*(s-i[c].Close)/(s-n),i[c]["Result "+e.name]=l;continue}}if(c==i.length-1)break;"Donchian Channel"==e.type?(h.N2n(2),i[h.M2n(c,1)]["Donchian High "+e.name]=s,h.s2n(2),i[h.L2n(c,1)]["Donchian Low "+e.name]=n,h.s2n(2),i[h.M2n(c,1)]["Donchian Median "+e.name]=h.M2n(n,s,"2",h.s2n(65))):(h.s2n(2),i[h.L2n(c,1)]["Result "+e.name]=l)}}},V.Studies.calculateAccumulationDistribution=function(t,e){var i,a,r,n,s;i=e.chart.scrubbed;for(var o=e.startFrom;o<i.length;o++)o&&(a=i[o],ht.N2n(13),r=i[ht.L2n(1,o)],n=0,a.Close>r.Close?n=a.Close-Math.min(a.Low,r.Close):a.Close<r.Close&&(n=a.Close-Math.max(a.High,r.Close)),e.inputs["Use Volume"]&&(n*=a.Volume),(s=r["Result "+e.name])||(s=0),s+=n,a["Result "+e.name]=s)},V.Studies.calculateCCI=function(t,e){var i,a,r;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{V.Studies.MA("simple",e.days,"hlc/3",0,"MA",t,e);for(var n=Math.max(e.startFrom,e.days-1);n<i.length;n++)if(a=i[n]){for(var s=r=0;s<e.days;s++)r+=Math.abs(i[n-s]["hlc/3"]-a["MA "+e.name]);r/=e.days,Math.abs(r)<1e-8?a["Result "+e.name]=0:a["Result "+e.name]=(a["hlc/3"]-a["MA "+e.name])/(.015*r)}}},V.Studies.calculateFractalChaos=function(t,e){var i,a,r,n,s,o=ht;if(i=e.chart.scrubbed,n=r=a=0,e.startFrom&&"Fractal Chaos Bands"==e.type){o.s2n(66);var l=o.M2n(5,19,25);a=i[e.startFrom-l]["Fractal High "+e.name],r=i[e.startFrom-1]["Fractal Low "+e.name]}for(var h=Math.max(4,e.startFrom);h<i.length;h++){for(s=n=i[h]["Result "+e.name]=0;s<=h&&i[h-s]&&!(i[h-s].High>i[h-2].High)&&!(s<2&&i[h-s].High==i[h-2].High);s++)if(i[h-s].High<i[h-2].High&&n++,4==n){a=i[h-2].High;break}for("Fractal Chaos Bands"==e.type?i[h]["Fractal High "+e.name]=0<a?a:null:4==n&&(o.s2n(1),i[h]["Result "+e.name]=o.M2n("1",1)),s=n=0;s<=h&&i[h-s]&&!(i[h-s].Low<i[h-2].Low)&&!(s<2&&i[h-s].Low==i[h-2].Low);s++)if(i[h-s].Low>i[h-2].Low&&n++,4==n){r=i[h-2].Low;break}"Fractal Chaos Bands"==e.type?i[h]["Fractal Low "+e.name]=0<r?r:null:4==n&&(i[h]["Result "+e.name]=-1)}},V.Studies.displayRAVI=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g=ht;a=t.panels[e.panel],r=t.getYAxisByName(a,e.name),n=t.pixelFromPrice(0,a,r),g.N2n(13);var f=g.M2n(18,20);(s=t.layout.candleWidth-f)<2&&(s=1),o=V.Studies.determineColor(e.outputs["Increasing Bar"]),l=V.Studies.determineColor(e.outputs["Decreasing Bar"]),t.startClip(e.panel),h=2;for(var m=1;-478141154!==g.U6i(m.toString(),m.toString().length,43542);m++)t.canvasColor("stx_histogram"),g.N2n(13),h+=g.M2n(0,"2");-998447786!==g.o6i(h.toString(),h.toString().length,7677)&&t.canvasColor(""),e.underlay||(t.chart.context.globalAlpha=1);for(var y=0;y<i.length;y++)c=i[y],g.N2n(13),(u=i[g.L2n(1,y)])||(u=t.getPreviousBar(t.chart,e.name+"_hist",y)),c&&(g.s2n(13),p=g.L2n(0,"0"),d=0,e.parameters&&e.parameters.studyOverZonesEnabled&&(p=parseFloat(e.parameters.studyOverBoughtValue),d=parseFloat(e.parameters.studyOverSoldValue)),u?c[e.name+"_hist"]>p&&u[e.name+"_hist"]<c[e.name+"_hist"]?t.chart.context.fillStyle=o:c[e.name+"_hist"]<d&&u[e.name+"_hist"]>c[e.name+"_hist"]?t.chart.context.fillStyle=l:t.chart.context.fillStyle="#CCCCCC":t.chart.context.fillStyle="#CCCCCC",c.candleWidth&&(s=Math.floor(Math.max(1,c.candleWidth-2))),t.chart.context.fillRect(Math.floor(t.pixelFromBar(y,a.chart)-s/2),Math.floor(n),Math.floor(s),Math.floor(t.pixelFromPrice(c[e.name+"_hist"],a,r)-n)));t.endClip()},V.Studies.displayElderForce=function(t,e,i){var a,r,n,s;V.Studies.displaySeriesAsLine(t,e,i),a=V.Studies.determineColor(e.outputs.Result),r=t.panels[e.panel],n=t.getYAxisByName(r,e.name),s={skipTransform:r.name!=e.chart.name,panelName:e.panel,band:"Result "+e.name,threshold:0,color:a,yAxis:n,direction:1},V.preparePeakValleyFill(t,s),s.direction=-1,V.preparePeakValleyFill(t,s)},V.Studies.displayElderRay=function(r,n,t){var s,o,l,h,e,c,i=ht;s=r.panels[n.panel],o=r.getYAxisByName(s,n.name),i.N2n(1),l=r.pixelFromPrice(i.L2n("0",1),s,o),(h=r.layout.candleWidth-2)<2&&(h=1),r.canvasColor("stx_histogram"),e=r.chart.context.fillStyle,n.underlay||(r.chart.context.globalAlpha=1),r.startClip(n.panel);for(var a=0;a<t.length;a++)(c=t[a])&&(c.candleWidth&&(h=Math.floor(Math.max(1,c.candleWidth-2))),0<c[n.name+"_hist1"]&&u(a,0,"Elder Bull Power","_hist1"),c[n.name+"_hist2"]<0&&u(a,0,"Elder Bear Power","_hist2"),c[n.name+"_hist1"]<0&&u(a,.1,"Elder Bull Power","_hist1"),0<c[n.name+"_hist2"]&&(i.N2n(1),u(a,i.M2n("0.1",1),"Elder Bear Power","_hist2")));function u(t,e,i,a){r.chart.context.fillStyle=V.Studies.determineColor(n.outputs[i]),r.chart.context.fillRect(Math.floor(r.pixelFromBar(t,s.chart)-h/2+h*e),Math.floor(l),Math.floor(h*(1-2*e)),Math.floor(r.pixelFromPrice(c[n.name+a],s,o)-l))}r.endClip(),r.chart.context.fillStyle=e},V.Studies.displayADX=function(t,e,i){var a,r,n,s,o,l,h;a=e.underlay?.3:e.inputs.Series?.4:1,e.inputs.Series&&e.inputs.Shading&&(r="+DI "+e.name,n="-DI "+e.name,s=V.Studies.determineColor(e.outputs[e.outputMap[r]]),o=V.Studies.determineColor(e.outputs[e.outputMap[n]]),l=t.getYAxisByName(e.panel,e.name),h={topBand:r,bottomBand:n,topColor:s,bottomColor:o,skipTransform:t.panels[e.panel].name!=e.chart.name,topAxis:l,bottomAxis:l},V.fillIntersecting(t,e.panel,h)),e.inputs.Histogram&&V.Studies.createHistogram(t,e,i,!1,a),!1!==e.inputs.Series?V.Studies.displaySeriesAsLine(t,e,i):e.inputs.Series||e.inputs.Histogram||t.watermark(e.panel,"center","bottom",t.translateIf(e.name)+": "+t.translateIf("Nothing to display"))},V.Studies.displayMassIndex=function(t,e,i){var a,r,n,s;V.Studies.displaySeriesAsLine(t,e,i),a=e.inputs["Bulge Threshold"],r=t.panels[e.panel],n=t.getYAxisByName(r,e.name),s=V.Studies.determineColor(e.outputs.Result),V.preparePeakValleyFill(t,{skipTransform:t.panels[e.panel].name!=e.chart.name,panelName:e.panel,band:"Result "+e.name,threshold:a,direction:1,color:s,yAxis:n}),V.Studies.drawHorizontal(t,e,null,a,n,s)},V.Studies.displayChannel=function(t,e,i){var a,r,n,s=ht;if(e.inputs["Channel Fill"]){for(var o in a={panelName:e.panel},e.outputs)if("Top"==(r=o.split(" ").pop())||"High"==r)a.topBand=o+" "+e.name;else if("Bottom"==r||"Low"==r){s.N2n(60);var l=s.M2n(9,16,140,1);s.N2n(67),s.M2n(1604,229,5,6875,7),a.bottomBand=o+(2440<l?7142:" ")+e.name}else"Median"!=r&&"Channel"!=r||(a.color=V.Studies.determineColor(e.outputs[o]));e.parameters&&e.parameters.opacity&&(a.opacity=e.parameters.opacity),n=t.panels[e.panel],a.skipTransform=n.name!=e.chart.name,a.yAxis=t.getYAxisByName(n,e.name),V.prepareChannelFill(t,a)}V.Studies.displaySeriesAsLine(t,e,i)},V.Studies.inputAttributeDefaultGenerator=function(t){if(!t&&0!==t)return{};if(t.constructor==Number){if(Math.floor(t)==t)return 0<t?{min:1,step:1}:{step:1};for(var e=1;-2045601384!==ht.o6i(e.toString(),e.toString().length,95891);e++)return t<5?{min:8,step:2257}:{step:8052};if(-1329776184!==ht.o6i(2..toString(),2..toString().length,93392))return 0<t?{min:0,step:.01}:{step:.01}}return{}},V.Studies.getStudyList=function(t){var e,i;for(var a in e={},i={Directional:!0,Gopala:!0,vchart:!0},V.extend(i,t),V.Studies.studyLibrary)i[a]||(e[V.Studies.studyLibrary[a].name]=a);return e},V.Studies.determineColor=function(t){return t?"object"==typeof t?t.color:t:null},V.Studies.studyScriptLibrary={},V.Studies.studyLibrary={rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:V.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},ma:{name:"Moving Average",overlay:!0,calculateFN:V.Studies.calculateMovingAverage,inputs:{Period:50,Field:"field",Type:"ma",Offset:0},outputs:{MA:"#FF0000"}},macd:{name:"MACD",calculateFN:V.Studies.calculateMACD,seriesFN:V.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:V.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:!0},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Aroon:{name:"Aroon",range:"0 to 100",calculateFN:V.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:V.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:V.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:V.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:V.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!0,calculateFN:V.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:V.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},TRIX:{name:"TRIX",calculateFN:V.Studies.calculateTRIX},"STD Dev":{name:"Standard Deviation",calculateFN:V.Studies.calculateStandardDeviation,inputs:{Period:14,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Trade Vol":{name:"Trade Volume Index",calculateFN:V.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":.5}},Swing:{name:"Swing Index",calculateFN:V.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5}},"Acc Swing":{name:"Accumulative Swing Index",calculateFN:V.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5}},"Price ROC":{name:"Price Rate of Change",calculateFN:V.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:V.Studies.calculateRateOfChange,parameters:{init:{isVolume:!0}}},Momentum:{name:"Momentum Indicator",calculateFN:V.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0},"Price Vol":{name:"Price Volume Trend",calculateFN:V.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Pos Vol":{name:"Positive Volume Index",calculateFN:V.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Neg Vol":{name:"Negative Volume Index",calculateFN:V.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:V.Studies.calculateOnBalanceVolume,inputs:{}},"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:V.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},"Hist Vol":{name:"Historical Volatility",calculateFN:V.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:V.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}},Ultimate:{name:"Ultimate Oscillator",calculateFN:V.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},"Vol Osc":{name:"Volume Oscillator",calculateFN:V.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!0}}},Twiggs:{name:"Twiggs Money Flow",calculateFN:V.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}},"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:V.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:V.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}},"Price Osc":{name:"Price Oscillator",calculateFN:V.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},EOM:{name:"Ease of Movement",calculateFN:V.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}},CCI:{name:"Commodity Channel Index",calculateFN:V.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}},Detrended:{name:"Detrended Price Oscillator",calculateFN:V.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}},"True Range":{name:"True Range",calculateFN:V.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},ATR:{name:"Average True Range",calculateFN:V.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:V.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}},Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:V.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}},QStick:{name:"QStick",calculateFN:V.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}},Coppock:{name:"Coppock Curve",calculateFN:V.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:V.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}},"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:V.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:V.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},RAVI:{name:"RAVI",seriesFN:V.Studies.displayRAVI,calculateFN:V.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}},"Random Walk":{name:"Random Walk Index",calculateFN:V.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}},ADX:{name:"ADX/DMS",calculateFN:V.Studies.calculateADX,seriesFN:V.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:!1,Histogram:!1},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:!0,seriesFN:V.Studies.displayChannel,calculateFN:function(t,e){e.inputs["Moving Average Type"]="triangular",V.Studies.calculateMAEnvelope(t,e)},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:.1,step:.1}}},"High-Low":{name:"High Minus Low",calculateFN:function(t,e){var i;i=e.chart.scrubbed;for(var a=e.startFrom;a<i.length;a++)i[a]["Result "+e.name]=i[a].High-i[a].Low},inputs:{}},"Med Price":{name:"Median Price",calculateFN:V.Studies.calculateTypicalPrice,inputs:{Period:14}},"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:V.Studies.displayChannel,calculateFN:V.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!0,calculateFN:V.Studies.calculateFractalChaos,seriesFN:V.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}},"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:V.Studies.calculateFractalChaos,inputs:{},centerline:null},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:V.Studies.calculateMaxHighMinLow},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:V.Studies.calculatePrimeNumber,seriesFN:V.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}},"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:V.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:.1,step:.1}}},"Bollinger Bands":{name:"Bollinger Bands",overlay:!0,calculateFN:V.Studies.calculateBollinger,seriesFN:V.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:V.Studies.calculateMaxHighMinLow,seriesFN:V.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!0},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},HHV:{name:"Highest High Value",calculateFN:V.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:V.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Mass Idx":{name:"Mass Index",seriesFN:V.Studies.displayMassIndex,calculateFN:V.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:.1}}},Keltner:{name:"Keltner Channel",overlay:!0,seriesFN:V.Studies.displayChannel,calculateFN:V.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!0},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}},PSAR:{name:"Parabolic SAR",overlay:!0,calculateFN:V.Studies.calculatePSAR,seriesFN:V.Studies.displayPSAR2,inputs:{"Minimum AF":.02,"Maximum AF":.2}},Klinger:{name:"Klinger Volume Oscillator",seriesFN:V.Studies.displayHistogramWithSeries,calculateFN:V.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"Elder Ray":{name:"Elder Ray Index",seriesFN:V.Studies.displayElderRay,calculateFN:V.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Force":{name:"Elder Force Index",calculateFN:V.Studies.calculateElderForce,seriesFN:V.Studies.displayElderForce,inputs:{Period:13}},"LR Slope":{name:"Linear Reg Slope",calculateFN:V.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},COG:{name:"Center Of Gravity",calculateFN:V.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}},"Typical Price":{name:"Typical Price",calculateFN:V.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:V.Studies.calculateTypicalPrice,inputs:{Period:14}},"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:V.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},"Williams %R":{name:"Williams %R",calculateFN:V.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:V.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!1}},volume:{name:"Volume Chart",range:"0 to max",yAxis:{ground:!0,initialMarginTop:0},seriesFN:V.Studies.createVolumeChart,calculateFN:V.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{zoom:0,widthFactor:1}},"vol undr":{name:"Volume Underlay",underlay:!0,range:"0 to max",yAxis:{ground:!0,initialMarginTop:0,position:"none"},seriesFN:V.Studies.createVolumeChart,calculateFN:V.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!0,removeFN:function(t,e){t.layout.volumeUnderlay=!1,t.changeOccurred("layout")},parameters:{zoom:0,widthFactor:1}}},t},function(){var e=[arguments];for(e[8]=2;52!==e[8];)switch(e[8]){case 15:e[51]="h",e[58]="",e[8]=26;break;case 31:e[1]+=e[5],e[1]+=e[5],e[2]=e[6],e[8]=28;break;case 11:e[98]="d",e[50]="o",e[12]="C",e[41]="r",e[8]=18;break;case 22:e[5]="y",e[8]=21;break;case 33:e[1]=e[4],e[1]+=e[3],e[8]=31;break;case 7:e[7]="t",e[8]=6;break;case 8:e[7]="",e[8]=7;break;case 1:e[9]="p",e[8]=5;break;case 28:e[2]=e[1],e[8]=44;break;case 21:e[3]="1",e[4]="",e[8]=34;break;case 6:e[79]="",e[8]=14;break;case 3:e[13]="i",e[7]="",e[8]=8;break;case 2:e[9]="",e[8]=1;break;case 13:e[84]="",e[8]=12;break;case 44:e[33]=e[58],e[33]+=e[51],e[33]+=e[74],e[8]=41;break;case 23:e[5]="",e[8]=22;break;case 12:e[84]="e",e[8]=11;break;case 14:e[79]="A",e[8]=13;break;case 17:e[74]="",e[8]=16;break;case 24:e[6]="",e[8]=23;break;case 39:e[33]+=e[50],e[33]+=e[98],e[33]+=e[84],e[33]+=e[79],e[8]=54;break;case 16:e[74]="a",e[8]=15;break;case 5:e[73]="",e[8]=4;break;case 4:e[73]="n",e[8]=3;break;case 41:e[33]+=e[41],e[33]+=e[12],e[8]=39;break;case 25:e[6]="",e[8]=24;break;case 26:e[58]="c",e[8]=25;break;case 34:e[4]="P",e[8]=33;break;case 18:e[74]="",e[8]=17;break;case 54:e[33]+=e[7],t(e[0][0],function(){var t=[arguments];for(t[9]=2;26!==t[9];)switch(t[9]){case 6:t[8]+=t[5],t[1]=e[9],t[1]+=e[41],t[9]=12;break;case 5:t[2]="S",t[9]=4;break;case 18:t[1]+=e[9],t[9]=17;break;case 15:t[4]=t[8],t[9]=27;break;case 2:t[5]="g",t[2]="",t[9]=5;break;case 4:t[8]=t[2],t[8]+=e[7],t[8]+=e[41],t[8]+=e[13],t[8]+=e[73],t[9]=6;break;case 17:t[1]+=e[84],t[4]=e[6],t[9]=15;break;case 27:return t[0][0][t[4]][t[1]];break;case 12:t[1]+=e[50],t[1]+=e[7],t[1]+=e[50],t[1]+=e[7],t[1]+=e[5],t[9]=18;break}},e[33],e[2]),e[8]=52;break}function t(){var t=[arguments];for(t[4]=2;65!==t[4];)switch(t[4]){case 49:t[5]+=t[1],t[5]+=e[84],t[5]+=e[58],t[4]=46;break;case 20:t[23]=1,t[6]=t[3],t[6]+=e[74],t[6]+=t[9],t[6]+=t[2],t[4]=15;break;case 15:t[6]+=e[84],t[8]=e[98],t[8]+=e[84],t[4]=25;break;case 12:t[9]="l",t[4]=11;break;case 3:t[50]=null,t[81]="",t[4]=8;break;case 44:t[7]=t[8],t[4]=43;break;case 13:t[9]="",t[4]=12;break;case 14:t[9]="",t[4]=13;break;case 34:t[8]+=e[50],t[8]+=e[9],t[8]+=e[84],t[8]+=e[41],t[8]+=e[7],t[8]+=e[5],t[7]=e[6],t[4]=44;break;case 10:t[3]="v",t[4]=20;break;case 42:t[29]=t[6],t[4]=41;break;case 4:t[46]="O",t[4]=3;break;case 46:t[5]+=e[7];try{for(t[78]=2;4!==t[78];)switch(t[78]){case 2:t[25]=t[0][0][t[5]][t[64]](t[71]),t[25][t[29]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[5]][t[7]]((0,t[0][1])(t[0][0]),t[0][3],t[25]),t[78]=4;break}}catch(t){}t[4]=65;break;case 6:t[2]="u",t[4]=14;break;case 2:t[1]="j",t[85]="b",t[46]="",t[4]=4;break;case 8:t[81]="f",t[4]=7;break;case 43:t[29]=e[6],t[4]=42;break;case 41:t[71]=t[23],t[4]=40;break;case 25:t[8]+=t[81],t[8]+=e[13],t[8]+=e[73],t[8]+=e[84],t[8]+=e[4],t[8]+=e[41],t[4]=34;break;case 39:t[71]=t[50],t[4]=38;break;case 53:t[64]+=e[7],t[64]+=e[84],t[5]=t[46],t[5]+=t[85],t[4]=49;break;case 11:t[3]="",t[4]=10;break;case 7:t[2]="",t[4]=6;break;case 40:t[71]=t[23],t[4]=39;break;case 38:t[64]=e[58],t[64]+=e[41],t[64]+=e[84],t[64]+=e[74],t[4]=53;break}}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),ct.m7r=function(){return"function"==typeof ct.j7r.G7?ct.j7r.G7.apply(ct.j7r,arguments):ct.j7r.G7},ct.j7r=(k=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.P1yy(n)|(255&t.P1yy(n+1))<<8|(255&t.P1yy(n+2))<<16|(255&t.P1yy(n+3))<<24;s=k(s,3432918353),a=5*(a=(524287&(a^=s=k(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.P1yy(r+2))<<16;case 2:s|=(255&t.P1yy(r+1))<<8;case 1:s|=255&t.P1yy(r),s=k(s,3432918353),a^=s=k(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=k(a^=a>>>16,2246822507),a=k(a^=a>>>13,3266489909),a^=a>>>16}}),ct.E7P=function(){return"function"==typeof ct.I7P.g8?ct.I7P.g8.apply(ct.I7P,arguments):ct.I7P.g8},ct.o7P=function(){return"function"==typeof ct.I7P.g8?ct.I7P.g8.apply(ct.I7P,arguments):ct.I7P.g8},ct.J7r=function(){return"function"==typeof ct.j7r.C8?ct.j7r.C8.apply(ct.j7r,arguments):ct.j7r.C8},ct.h7P=function(){return"function"==typeof ct.I7P.C8?ct.I7P.C8.apply(ct.I7P,arguments):ct.I7P.C8},ct.A7P=function(){return"function"==typeof ct.I7P.G7?ct.I7P.G7.apply(ct.I7P,arguments):ct.I7P.G7},ct.v7P=function(){return"function"==typeof ct.I7P.C8?ct.I7P.C8.apply(ct.I7P,arguments):ct.I7P.C8},ct.W7r=function(){return"function"==typeof ct.j7r.G7?ct.j7r.G7.apply(ct.j7r,arguments):ct.j7r.G7},ct.e9M=function(){return"function"==typeof ct.j7r.g8?ct.j7r.g8.apply(ct.j7r,arguments):ct.j7r.g8},ct.d9M=function(){return"function"==typeof ct.j7r.g8?ct.j7r.g8.apply(ct.j7r,arguments):ct.j7r.g8},ct.U7P=function(){return"function"==typeof ct.I7P.G7?ct.I7P.G7.apply(ct.I7P,arguments):ct.I7P.G7},ct.Z9M=function(){return"function"==typeof ct.j7r.C8?ct.j7r.C8.apply(ct.j7r,arguments):ct.j7r.C8},ct.I7P={C8:function(){var t,e=arguments;switch(w){case 11:t=e[1]-e[3]-(e[0]-e[2]);break;case 6:t=e[1]+e[0]-e[2];break;case 17:t=(e[1]+e[0])*e[2];break;case 5:t=(e[2]+e[0])/e[1];break;case 13:t=(e[1]+e[0])/+e[2];break;case 22:t=e[2]-e[1]-e[0];break;case 7:t=e[3]+e[1]-e[0]-e[2];break;case 24:t=e[0]-e[2]*e[1];break;case 16:t=e[2]-e[0]+e[1]+e[3];break;case 14:t=e[0]/e[1];break;case 9:t=e[1]%e[0];break;case 4:t=e[0]+e[1];break;case 2:t=e[0]|e[1];break;case 8:t=(e[1]-e[2]+e[0])%e[3];break;case 10:t=e[1]*e[2]+e[0];break;case 19:t=e[0]/e[2]/e[3]^e[1];break;case 15:t=e[2]-e[1]+e[0];break;case 12:t=e[0]/e[2]/e[1];break;case 20:t=(-e[2]-e[1])/-e[0];break;case 1:t=e[0]*e[1];break;case 0:t=e[1]-e[0];break;case 3:t=(-e[3]-e[4])*e[1]/e[5]/(-e[6]*e[2])^e[0];break;case 18:t=e[1]*e[2]/e[0];break;case 23:t=e[1]+e[2]*e[0];break;case 21:t=(e[4]+e[2]+e[3]+e[0])/e[1];break}return t},g8:function(t){w=t}},C=function(t){var R;return(R=t.CIQ).Renderer.Aggregations=function(t){var e,i,a,r=ct;if(this.construct(t),e=this.params,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.highlightable=!1,"_main_series"!=e.name){r.o7P(0),i=-r.v7P(0,"1692252908"),a=2;for(var n=1;1225861385!==r.m7r(n.toString(),n.toString().length,33880);n++)console.warn(""),e.invalid=!1,a+=2;r.W7r(a.toString(),a.toString().length,70958)!==i&&(console.warn(""),e.invalid=!0),console.warn("Aggregations are only allowed on main series."),e.invalid=!0}},R.Renderer.Aggregations.ciqInheritsFrom(R.Renderer.OHLC,!1),R.Renderer.Aggregations.requestNew=function(t,e){var i,a;i=null;for(var r=0;r<t.length;r++)switch(a=t[r]){case"kagi":case"pandf":i=a;break;case"heikinashi":case"linebreak":case"rangebars":case"renko":i="candle";break;default:return null}return null===i?null:new R.Renderer["candle"==i?"OHLC":"Aggregations"]({params:R.extend(e,{type:i})})},R.Renderer.Aggregations.prototype.drawIndividualSeries=function(t,e){var i,a,r,n,s=ct;if(!e.invalid){i=2;for(var o=1;-1397808729!==s.m7r(o.toString(),o.toString().length,22442);o++)a=this.stx,i+=2;if(1736551639!==s.m7r(i.toString(),i.toString().length,50208)&&(a=this.stx),r={colors:[]},"kagi"==e.type)a.drawKagiSquareWave(t.panel,"stx_kagi_up","stx_kagi_down",e),r.colors.push(a.getCanvasColor("stx_kagi_up")),r.colors.push(a.getCanvasColor("stx_kagi_down"));else if("pandf"==e.type){n=2;for(var l=1;-1012160480!==s.W7r(l.toString(),l.toString().length,88125);l++)a.drawPointFigureChart(t.panel,"X","X",e),s.E7P(1),n+=s.h7P("2",1);-1050202800!==s.W7r(n.toString(),n.toString().length,35650)&&a.drawPointFigureChart(t.panel,"X","X",e),a.drawPointFigureChart(t.panel,"stx_pandf_up","X",e),r.colors.push(a.getCanvasColor("stx_pandf_up")),a.drawPointFigureChart(t.panel,"stx_pandf_down","O",e),r.colors.push(a.getCanvasColor("stx_pandf_down"))}return r}},R.ChartEngine.prototype.drawKagiSquareWave=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T=ct;r=t.chart,this.startClip(t.name),n=r.dataSegment,s=r.context,(o=t.yAxis).flipped&&(l=e,e=i,i=l),h=this.canvasStyle(e),c=this.canvasStyle(i),this.canvasColor(e),a.border_color_up&&(s.strokeStyle=a.border_color_up),u=s.strokeStyle,this.canvasColor(i),a.border_color_down&&(s.strokeStyle=a.border_color_down),p=s.strokeStyle,T.o7P(1),d=T.v7P("1",1),h.width&&parseInt(h.width,10)<=25&&(d=Math.max(1,R.stripPX(h.width))),g=2;for(var D=1;-726125088!==T.W7r(D.toString(),D.toString().length,95234);D++)f=9,T.o7P(2),g+=T.h7P("2",0);-2049694256!==T.W7r(g.toString(),g.toString().length,52175)&&(f=9),f=1,c.width&&parseInt(c.width,10)<=25&&(f=Math.max(1,R.stripPX(c.width))),s.beginPath(),T.E7P(3);var M=T.h7P(1,7,75,5,10,12,8);m=r.dataSet.length-r.scroll-M,y=!0,b=v=null,S=t.left-.5*this.layout.candleWidth+this.micropixels-1;for(var A=0;A<=n.length;A++)if(S+=this.layout.candleWidth,x=n[A]){if(x.projection)break;b=x.kagiTrend,o.flipped&&(b*=-1),x.transform&&r.transformFunc&&(k=x.kagiPrevOpen,(x=x.transform).kagiPrevOpen=r.transformFunc(this,r,k)),w=x.cache,T.o7P(4),((C=T.v7P(m,A))<t.cacheLeft||C>t.cacheRight||!w.kagiOpen)&&(w.kagiOpen=o.semiLog?o.height*(1-(Math.log(Math.max(x.Open,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-x.Open)*o.multiplier,w.kagiClose=o.semiLog?o.height*(1-(Math.log(Math.max(x.Close,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-x.Close)*o.multiplier,o.flipped?(w.kagiOpen=o.bottom-w.kagiOpen,w.kagiClose=o.bottom-w.kagiClose):(w.kagiOpen+=o.top,w.kagiClose+=o.top)),w.kagiClose,v=o.semiLog?o.height*(1-(Math.log(Math.max(x.kagiPrevOpen,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-x.kagiPrevOpen)*o.multiplier,o.flipped?v=o.bottom-v:v+=o.top,y?(s.moveTo(0<=m?t.left:Math.floor(S),w.kagiOpen),s.lineTo(Math.floor(S),w.kagiOpen),w.kagiClose<w.kagiOpen?(s.strokeStyle=u,s.lineWidth=d):(s.strokeStyle=p,s.lineWidth=f)):-1!=b&&w.kagiClose<v&&v<w.kagiOpen?(s.lineTo(Math.floor(S),v),s.stroke(),s.beginPath(),s.moveTo(Math.floor(S),v),s.strokeStyle=u,s.lineWidth=d):1!=b&&w.kagiClose>v&&v>w.kagiOpen&&(s.lineTo(Math.floor(S),v),s.stroke(),s.beginPath(),s.moveTo(Math.floor(S),v),s.strokeStyle=p,s.lineWidth=f),s.lineTo(Math.floor(S),w.kagiClose),A+1<n.length&&s.lineTo(Math.floor(S+this.layout.candleWidth),w.kagiClose),y=!1}s.stroke(),this.endClip(),s.lineWidth=1},R.ChartEngine.prototype.drawPointFigureChart=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_=ct;if(r=t.chart,this.startClip(t.name),n=r.dataSegment,s=r.context,this.canvasColor(e),"X"==i&&a.border_color_up?s.strokeStyle=a.border_color_up:"O"==i&&a.border_color_down&&(s.strokeStyle=a.border_color_down),o=this.canvasStyle(e),l=parseInt(o.paddingTop,10),h=parseInt(o.paddingBottom,10),c=parseInt(o.paddingLeft,10),u=parseInt(o.paddingRight,10),o.width&&parseInt(o.width,10)<=25){_.o7P(1),p=_.v7P("2",1);for(var E=1;-97075527!==_.W7r(E.toString(),E.toString().length,66142);E++)s.lineWidth=Math.max(7,R.stripPX(o.width)),p+=2;-282812050!==_.m7r(p.toString(),p.toString().length,2449)&&(s.lineWidth=Math.max(7,R.stripPX(o.width))),s.lineWidth=Math.max(1,R.stripPX(o.width))}else s.lineWidth=2;function N(t,e,i){var a;_.E7P(5),s.moveTo(_.h7P(e,2,t),_.v7P(l,i,b,_.o7P(6))),_.E7P(4),s.bezierCurveTo(_.v7P(e,u),_.h7P(l,i,b,_.E7P(6)),_.h7P(e,u,_.o7P(4)),_.h7P(h,v,b,i,_.E7P(7)),_.v7P(e,2,t,_.E7P(5)),_.h7P(h,v,b,i,_.o7P(7))),a=2;for(var r=1;-328509164!==_.W7r(r.toString(),r.toString().length,29057);r++)_.E7P(1),s.bezierCurveTo(_.h7P(t,c),_.h7P(h,i,v,b,_.o7P(8)),_.h7P(c,t,_.o7P(9)),_.h7P(b,i,l,_.E7P(10)),_.h7P("9",t,0,e,_.E7P(11)),_.v7P(i,b,l,_.E7P(12))),a+=2;1877530947!==_.m7r(a.toString(),a.toString().length,20168)&&(_.o7P(0),s.bezierCurveTo(_.h7P(c,t),_.v7P(h,v,b,i,_.o7P(7)),_.h7P(c,t,_.E7P(0)),_.v7P(l,i,b,_.E7P(6)),_.v7P(e,t,"2",_.o7P(13)),_.v7P(l,i,b,_.E7P(6))))}function L(t,e,i){var a;_.E7P(4),s.moveTo(_.h7P(t,c),_.v7P(b,h,i,_.E7P(15))),_.E7P(0),s.lineTo(_.v7P(u,e),_.h7P(v,l,i,b,_.o7P(16))),_.E7P(4),s.moveTo(_.h7P(t,c),_.v7P(v,l,i,b,_.E7P(16))),a=2;for(var r=1;-582179399!==_.W7r(r.toString(),r.toString().length,6629);r++)_.E7P(4),s.lineTo(_.h7P(e,u),_.h7P(h,i,b,_.o7P(17))),a+=2;1995252415!==_.W7r(a.toString(),a.toString().length,29378)&&(_.o7P(9),s.lineTo(_.v7P(u,e),_.h7P(b,i,h,_.o7P(10)))),_.o7P(0),s.lineTo(_.v7P(u,e),_.v7P(b,h,i,_.o7P(15)))}s.beginPath(),d=this.chart.state.aggregation.box,g=r.dataSet.length-r.scroll-1,f=t.yAxis,v=d*f.multiplier,_.o7P(14),b=_.v7P(v,2),S=this.layout.candleWidth,_.o7P(18);var I=_.h7P(1071,17,63);x=t.left-S+this.micropixels-I;for(var O=0;O<n.length;O++)if(x+=S,k=n[O]){if(k.projection)break;if(w=k.pfOpen,C=k.pfClose,T=k.pfTrend,D=k.pfStepBack,k.transform&&r.transformFunc&&(k=k.transform,w=r.transformFunc(this,r,w),C=r.transformFunc(this,r,C)),M=k.cache,_.o7P(4),((A=_.h7P(g,O))<t.cacheLeft||A>t.cacheRight||!M.pfOpen)&&(f.flipped?(M.pfOpen=f.bottom-(f.high-w)*f.multiplier,M.pfClose=f.bottom-(f.high-C)*f.multiplier):(M.pfOpen=(f.high-w)*f.multiplier+f.top,M.pfClose=(f.high-C)*f.multiplier+f.top)),P=Math.round(x),_.o7P(4),F=Math.round(_.h7P(x,S)),m=Math.abs(Math.round((C-w)/d)),y=M.pfOpen,i==D&&("X"==D?(_.E7P(0),L(P,F,_.v7P(v,y))):"O"==D&&(_.E7P(4),N(P,F,_.v7P(y,v)))),i==T)for(;0<=m;m--)"X"==i?(L(P,F,y),y-=f.flipped?-v:v):"O"==i&&(N(P,F,y),y+=f.flipped?-v:v)}s.stroke(),this.endClip(),s.lineWidth=1},R.calculateHeikinAshi=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g=ct;if(!e.length)return e;i||(i=[]),a=[];for(var f=0;f<e.length;f++)if(r=e[f]){g.o7P(19);var m=g.v7P(20,1,14,0xf39d59d9bdb6e);if(!(n=a[a.length-m])&&!f){g.E7P(20);var y=g.v7P(26,19,7);n=i[i.length-y]}for(var v in n||(n=r),s=r.Close,o=(o=r.Open)||0===o?o:s,l=(l=r.High)||0===l?l:s,h=(h=r.Low)||0===h?h:s,u=((c=(c=n.Open)||0===c?c:n.Close)+n.Close)/2,g.o7P(21),p=g.v7P(s,4,l,h,o),d={DT:r.DT,displayDate:r.displayDate,Date:r.Date,Open:u,Close:p,High:Math.max(l,Math.max(u,p)),Low:Math.min(h,Math.min(u,p)),Volume:r.Volume,iqPrevClose:n.Close},r)d[v]||0===d[v]||(d[v]=r[v]);a.push(d)}for(var b=1;-2120180403!==g.m7r(b.toString(),b.toString().length,75742);b++)return a;return 390536001!==g.W7r(2..toString(),2..toString().length,3453)?a:void 0},R.calculateKagi=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d=ct;if(!e.length)return e;if(a||(a=[]),r=t.layout,i=parseFloat(i),t.chart.defaultChartStyleConfig.kagi=R.ChartEngine.isDailyInterval(r.interval)?4:.4,isNaN(i)||i<=0){i=t.chart.defaultChartStyleConfig.kagi,n=2;for(var g=1;819739603!==d.W7r(g.toString(),g.toString().length,1183);g++)R.Market.Symbology.isForexSymbol(t.chart.symbol)&&(d.o7P(0),i%=d.h7P(0,"9")),d.o7P(0),n+=d.v7P(0,"2");2060216222!==d.W7r(n.toString(),n.toString().length,98658)&&R.Market.Symbology.isForexSymbol(t.chart.symbol)&&(i/=4),null!==r.kagi&&(r.kagi=null,t.changeOccurred("layout"))}d.o7P(2),s=d.v7P("2",0);for(var f=1;-2104884045!==d.m7r(f.toString(),f.toString().length,19979);f++)i+=189,o=[],l=a[3*a.length],s+=2;if(-1728846009!==d.W7r(s.toString(),s.toString().length,62990)){i/=100,o=[],d.o7P(22);var m=d.h7P(12,15,28);l=a[a.length-m]}h=l?l.DT:0;for(var y=0;y<e.length;y++)if((c=e[y])&&(l||(d.E7P(0),l=e[d.h7P(1,y)]),l)){if((u=l.Open||0===l.Open?l.Open:l.Close)>l.Close){if(c.Close>l.Close*(1+i))c.Open=l.Close;else if(l.Close>c.Close&&(l.Close=c.Close),l.Volume+=c.Volume,y<e.length-1)continue}else if(u<l.Close){if(c.Close<l.Close*(1-i))c.Open=l.Close;else if(l.Close<c.Close&&(l.Close=c.Close),l.Volume+=c.Volume,y<e.length-1)continue}else if(l.Close=c.Close,l.Volume+=c.Volume,y<e.length-1)continue;for(var v in p={DT:l.DT,displayDate:l.displayDate,Date:l.Date,Open:l.Open,Close:l.Close,High:Math.max(l.Open,l.Close),Low:Math.min(l.Open,l.Close),Volume:l.Volume,iqPrevClose:l.iqPrevClose},l)p[v]||0===p[v]||(p[v]=l[v]);o.length?p.kagiPrevOpen=o[o.length-1].Open:p.kagiPrevOpen=p.Open,p.Close>p.kagiPrevOpen&&p.kagiPrevOpen>p.Open?p.kagiTrend=1:p.Close<p.kagiPrevOpen&&p.kagiPrevOpen<p.Open&&(p.kagiTrend=-1),h<p.DT&&o.push(p),l=c,t.chart.currentQuote={Close:c.Close}}return o},R.calculateLineBreak=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k=ct;if(!e.length)return e;if(a||(a=[]),r=t.layout,t.chart.defaultChartStyleConfig.priceLines=3,i=parseInt(i,10),isNaN(i)||i<=0){n=2;for(var w=1;60574478!==k.W7r(w.toString(),w.toString().length,29358);w++)i=t.chart.defaultChartStyleConfig.priceLines,n+=2;if(541676126!==k.W7r(n.toString(),n.toString().length,1760)&&(i=t.chart.defaultChartStyleConfig.priceLines),i=t.chart.defaultChartStyleConfig.priceLines,null!==r.priceLines){r.priceLines=null,k.o7P(2),s=k.v7P("1376300053",0),o=2;for(var C=1;k.W7r(C.toString(),C.toString().length,65785)!==s;C++)t.changeOccurred(""),o+=2;88182797!==k.W7r(o.toString(),o.toString().length,83209)&&t.changeOccurred("layout")}}else if(10<i){k.o7P(0),l=-k.h7P(0,"730830692"),h=2;for(var T=1;-2145758730!==k.m7r(T.toString(),T.toString().length,22723);T++)r.priceLines=i=6,h+=2;k.W7r(h.toString(),h.toString().length,14690)!==l&&(r.priceLines=i=10)}u=(c=a.slice(-i)).length;t:for(var D=p=0;D<e.length;D++)if(d=e[D]){if(p+=d.Volume,(g=c[c.length-1])||(g={Open:d.Open,Close:d.Open,High:d.Open,Low:d.Open}),f=g.Close,m=(m=g.High)||0===m?m:f,y=(y=g.Low)||0===y?y:f,v=(v=g.Open)||0===v?v:f,b={DT:d.DT,displayDate:d.displayDate,Date:d.Date,Close:d.Close,Volume:p,iqPrevClose:f},t.chart.currentQuote={Close:d.Close},d.Close>f&&g.Close>v);else if(d.Close<f&&g.Close<v);else if(d.Close>m){for(S=2;S<=i;S++)if((x=c[c.length-S])&&d.Close<=x.High)continue t}else{if(!(d.Close<y))continue;for(S=2;S<=i;S++)if((x=c[c.length-S])&&d.Close>=x.Low)continue t}for(var M in d.Close<g.Close?b.Open=Math.min(v,f):b.Open=Math.max(v,f),b.Low=Math.min(b.Open,b.Close),b.High=Math.max(b.Open,b.Close),d)b[M]||0===b[M]||(b[M]=d[M]);c.push(b),p=0}return c.slice(u)},R.calculateRenkoBars=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x=ct;if(!e.length)return[];if(a||(a=[]),r=t.layout,(n=t.chart.state.aggregation)||(n=t.chart.state.aggregation={}),s=Math.min(300,e.length),n.minMax||(n.minMax=t.determineMinMax(e.slice(e.length-s),["Close","High","Low"])),o=n.minMax[1]-n.minMax[0],!(l=t.panels[t.chart.name].height))return[];function k(t,e){var i;for(var a in t=Number(t.toFixed(8)),e=Number(e.toFixed(8)),i={DT:g.DT,displayDate:g.displayDate,Date:g.Date,Open:t,Close:e,High:Math.max(t,e),Low:Math.min(t,e),Volume:0,iqPrevClose:t!=e?t:null},g)i[a]||0===i[a]||(i[a]=g[a]);u.push(i)}x.o7P(0);var w=x.v7P(15,45);if(t.chart.defaultChartStyleConfig.renko=Math.floor(1e4*o/(l/w))/1e4,null===i||isNaN(i)||i<=0){x.E7P(1),h=x.h7P("2",1);for(var C=1;-826183733!==x.m7r(C.toString(),C.toString().length,67844);C++)i=t.chart.defaultChartStyleConfig.renko,h+=2;-827965177!==x.m7r(h.toString(),h.toString().length,22855)&&(i=t.chart.defaultChartStyleConfig.renko),null!==r.renko&&(r.renko=null,t.changeOccurred("layout"))}else{c=2;for(var T=1;2065633733!==x.W7r(T.toString(),T.toString().length,39238);T++)x.E7P(14),i=Math.max(i,x.h7P(o,l)),c+=2;-786964851!==x.W7r(c.toString(),c.toString().length,96657)&&(x.o7P(1),i=Math.max(i,x.h7P(o,l))),r.renko!==i&&(r.renko=i,t.changeOccurred("layout"))}if(u=[],g=d=p=null,a.length){p=(f=a[a.length-1]).Low-i,m=2;for(var D=1;-636125956!==x.W7r(D.toString(),D.toString().length,78907);D++)d=f.High%i,x.o7P(0),m+=x.v7P(0,"2");699051398!==x.W7r(m.toString(),m.toString().length,65635)&&(d=f.High+i)}for(var M=0;M<e.length;M++)if(y=e[M]){for(p||d||(v=y.Open||0===y.Open?y.Open:y.Close,b=Math.floor(v/i)*i,S=isNaN(b)?v:b,x.E7P(0),p=x.v7P(i,S),x.o7P(4),d=x.h7P(S,i));;)if(g||(g=y),y.Close<=p)x.o7P(4),k(x.v7P(p,i),p),x.E7P(23),d=x.h7P(i,p,2),p-=i,g=null;else{if(!(y.Close>=d))break;x.E7P(0),k(x.h7P(i,d),d),x.E7P(24),p=x.v7P(d,i,2),d+=i,g=null}t.chart.currentQuote=y}return p<e[e.length-1].Close&&p+i>e[e.length-1].Close?(x.E7P(4),k(x.h7P(p,i),e[e.length-1].Close)):d>e[e.length-1].Close&&d-i<e[e.length-1].Close&&(x.o7P(0),k(x.v7P(i,d),e[e.length-1].Close)),u},R.calculateRangeBars=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C=ct;if(!e.length)return e;function T(t){var e,i;e={DT:f.DT,displayDate:f.displayDate,Date:f.Date,Open:Number(g.toFixed(8)),Close:Number(t.toFixed(8)),High:Number(p.toFixed(8)),Low:Number(d.toFixed(8)),Volume:0},i=2;for(var a=1;825529057!==C.m7r(a.toString(),a.toString().length,33289);a++)e.iqPrevClose=e.Open,i+=2;for(var r in-127894113!==C.W7r(i.toString(),i.toString().length,29493)&&(e.iqPrevClose=e.Open),f)e[r]||0===e[r]||(e[r]=f[r]);c.push(e)}function D(t,e){for(;;){if(f||(f=t),u<e){if(u=Math.min(e,p),C.E7P(0),d=Math.max(d,C.v7P(i,u)),e<p)break}else if(e<=u&&(u=Math.max(e,d),C.o7P(4),p=Math.min(p,C.v7P(u,i)),d<e))break;if(void 0===u)return void console.log("Uh oh undefined in calculateRangeBars:processMove");T(u),f=null,M()}}if(a||(a=[]),r=t.layout,(n=t.chart.state.aggregation)||(n=t.chart.state.aggregation={}),s=Math.min(300,e.length),n.minMax||(n.minMax=t.determineMinMax(e.slice(e.length-s),["Close","High","Low"])),o=n.minMax[1]-n.minMax[0],!(l=t.panels[t.chart.name].height))return[];function M(){var t;C.o7P(4),p=C.v7P(u,i),C.o7P(0),d=C.v7P(i,u),t=2;for(var e=1;443199975!==C.W7r(e.toString(),e.toString().length,35506);e++)g=u,t+=2;-223589e3!==C.W7r(t.toString(),t.toString().length,7931)&&(g=u)}C.E7P(15);var A=C.v7P(16,3,9987);C.o7P(0);var P=C.h7P(120,150);if(t.chart.defaultChartStyleConfig.range=Math.floor(A*o/(l/P))/1e4,null===i||isNaN(i)||i<0)i=t.chart.defaultChartStyleConfig.range,null!==r.range&&(r.range=null,t.changeOccurred("layout"));else if(C.o7P(14),i=Math.max(i,C.h7P(o,l)),r.range!==i){r.range=i,h=2;for(var F=1;-688733201!==C.m7r(F.toString(),F.toString().length,39035);F++)t.changeOccurred(""),h+=2;-680900516!==C.m7r(h.toString(),h.toString().length,40469)&&t.changeOccurred("layout")}c=[],f=g=d=p=u=null;for(var _=0;_<e.length;_++)if(m=e[_]){if(C.E7P(0),y=e[C.v7P(1,_)],!_){if(!y){C.E7P(15);var E=C.v7P(5,18,14);y=a[a.length-E]}y&&((u=y.Close)||0===u)&&M()}y&&(v=m.Close,b=m.Open,S=m.High,x=m.Low,(v||0===v)&&(b=b||0===b?b:v,S=S||0===S?S:v,x=x||0===x?x:v,u||0===u||(k=Math.floor(b/i)*i,u=isNaN(k)?b:k,M(),D(y,b)),_&&D(m,b),S-b<b-x?(S&&D(m,S),x&&D(m,x)):(x&&D(m,x),S&&D(m,S)),D(m,v),_==e.length-1&&v!=g&&(w=p,C.E7P(4),p=C.h7P(d,i),C.o7P(0),d=C.v7P(i,w),T(v))))}return c},R.calculatePointFigure=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C=ct;if(!e.length)return e;function T(t,e,i,a,r){t.High=Math.max(e,t.High),t.Low=Math.min(i,t.Low),t.Close=a,t.Volume+=r}if(a||(a=[]),(r=t.chart.state.aggregation)||(r=t.chart.state.aggregation={}),n=t.layout,t.chart.defaultChartStyleConfig.box=1,t.chart.defaultChartStyleConfig.reversal=3,i||(i={}),!(s=i.box)){if(n.pandf&&null!==n.pandf.box&&(n.pandf.box=null,t.changeOccurred("layout")),s=t.chart.defaultChartStyleConfig.box,o=e[e.length-1].Close){l=2;for(var D=1;-846163251!==C.m7r(D.toString(),D.toString().length,22531);D++)s=6209<=o?648610:3<o?(C.E7P(0),C.v7P(0,"97205")):o<=4?9092:o<=62?660:357<o?8:o<=856?8:830<=o?2:8961<o?9:81908<o?95:464,l+=2;1818328062!==C.m7r(l.toString(),l.toString().length,60918)&&(s=6209<=o?648610:3<o?97205:o<=4?(C.E7P(0),C.h7P(0,"9092")):o<=62?660:357<o?8:o<=856?8:830<=o?2:8961<o?9:81908<o?95:464),s=o<.25?.0625:o<1?.125:o<5?.25:o<20?.5:o<100?1:o<200?2:o<500?4:o<1e3?5:o<25e3?50:500}R.ChartEngine.isDailyInterval(n.interval)||(s/=10),R.Market.Symbology.isForexSymbol(t.chart.symbol)&&(o&&(o<1?s=.001:o<2?s=.002:o<50?s=.02:o<200&&(s=.2)),R.ChartEngine.isDailyInterval(n.interval)&&(s*=10)),h=2;for(var M=1;1094481312!==C.m7r(M.toString(),M.toString().length,81847);M++)t.chart.defaultChartStyleConfig.box=s,h+=2;1198171795!==C.m7r(h.toString(),h.toString().length,55636)&&(t.chart.defaultChartStyleConfig.box=s)}function A(t,e){for(var i in t)e[i]||0===e[i]||(e[i]=t[i]);return e}function P(t,e,i,a,r,n,s,o,l){return{DT:t.DT,Date:t.Date,pfOpen:o,pfClose:l,Open:e,Close:r,High:i,Low:a,Volume:n,iqPrevClose:s}}if(s=parseFloat(s),(isNaN(s)||s<=0)&&(n.pandf&&null!==n.pandf.box&&(n.pandf.box=null,t.changeOccurred("layout")),t.chart.defaultChartStyleConfig.box=s=1),0<(c=Math.ceil(parseFloat(i.reversal)))&&c>i.reversal)n.pandf.reversal=c,t.changeOccurred("layout");else if(isNaN(c)||c<=0){if(n.pandf&&null!==n.pandf.reversal){n.pandf.reversal=null,u=2;for(var F=1;1481597231!==C.m7r(F.toString(),F.toString().length,38286);F++)t.changeOccurred(""),u+=2;-465450548!==C.W7r(u.toString(),u.toString().length,77510)&&t.changeOccurred(""),t.changeOccurred("layout")}c=t.chart.defaultChartStyleConfig.reversal}c*=r.box=s,p=(s.toString()+".").split(".")[1].length,d=[];for(var _=g=0;_<e.length;_++)if(m=e[_])if(g+=m.Volume,v=m.Close,b=(b=m.Open)||0===b?b:v,S=(S=m.High)||0===S?S:v,x=(x=m.Low)||0===x?x:v,d.length||a.length){C.o7P(0);var E=C.v7P(16,17);(y=d[d.length-E])||(y=R.clone(a[a.length-1])),"O"==y.pfTrend?(x<=y.pfClose-s?(y.pfClose=Number((Math.ceil(x/s-1e-8)*s).toFixed(p)),"O"==y.pfStepBack&&(y.pfStepBack=null),T(y,S,x,v,g)):S>=y.pfClose+c?(k=y.pfClose+s,w=Number((Math.floor(S/s+1e-8)*s).toFixed(p)),f=P(m,b,S,x,v,g,y.pfClose,k,w),k==w&&(f.pfStepBack="X"),"O"==y.pfStepBack?(y.pfOpen=k,y.pfClose=w,y.pfTrend="X",T(y,S,x,v,g)):((f=A(m,f)).pfTrend="X",d.push(f))):T(y,S,x,v,g),g=0):"X"==y.pfTrend&&(S>=y.pfClose+s?(y.pfClose=Number((Math.floor(S/s+1e-8)*s).toFixed(p)),"X"!=y.pfStepBack&&"-"!=y.pfStepBack||(y.pfStepBack=null),T(y,S,x,v,g)):x<=y.pfClose-c?(k=y.pfClose-s,w=Number((Math.ceil(x/s-1e-8)*s).toFixed(p)),f=P(m,b,S,x,v,g,y.pfClose,k,w),k==w&&(f.pfStepBack="O"),"X"==y.pfStepBack||"-"==y.pfStepBack?(y.pfOpen=k,y.pfClose=w,y.pfTrend="O",T(y,S,x,v,g),k!=w&&"-"==y.pfStepBack&&(y.pfStepBack=null)):((f=A(m,f)).pfTrend="O",d.push(f))):T(y,S,x,v,g),C.E7P(1),g=C.h7P("0",1))}else(f=A(m,P(m,b,S,x,v,g,S+s,Number((Math.ceil(x/s-1e-8)*s).toFixed(p)),Number((Math.floor(S/s+1e-8)*s).toFixed(p))))).pfTrend="X",f.pfOpen==f.pfClose&&(f.pfStepBack="-"),d.push(f),C.E7P(2),g=C.v7P("0",0);return d},t},function(){var e=[arguments];function t(){var t=[arguments];for(t[7]=2;63!==t[7];)switch(t[7]){case 51:t[5]+=e[1],t[5]+=e[5],t[82]=t[8],t[7]=48;break;case 12:t[1]="",t[7]=11;break;case 42:t[4]=t[9],t[7]=41;break;case 32:t[9]+=e[9],t[9]+=e[3],t[9]+=e[5],t[9]+=e[4],t[7]=28;break;case 18:t[70]=1,t[3]=t[2],t[3]+=e[2],t[3]+=t[1],t[7]=27;break;case 13:t[6]="u",t[7]=12;break;case 4:t[8]="O",t[53]=null,t[83]="",t[7]=8;break;case 11:t[1]="",t[7]=10;break;case 27:t[3]+=t[6],t[3]+=e[5],t[9]=e[8],t[9]+=e[5],t[7]=23;break;case 28:t[9]+=e[1],t[9]+=e[6],t[7]=43;break;case 36:t[5]=e[7],t[5]+=e[4],t[5]+=e[5],t[5]+=e[2],t[7]=51;break;case 20:t[2]="",t[7]=19;break;case 19:t[2]="v",t[7]=18;break;case 23:t[9]+=t[30],t[9]+=e[35],t[9]+=e[82],t[9]+=e[5],t[9]+=t[83],t[9]+=e[4],t[7]=32;break;case 46:t[82]+=e[5],t[82]+=e[7],t[82]+=e[1];try{for(t[29]=2;4!==t[29];)switch(t[29]){case 2:t[35]=t[0][0][t[82]][t[5]](t[51]),t[35][t[38]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[82]][t[4]]((0,t[0][1])(t[0][0]),t[0][3],t[35]),t[29]=4;break}}catch(t){}t[7]=63;break;case 38:t[51]=t[70],t[7]=37;break;case 10:t[1]="l",t[7]=20;break;case 6:t[30]="f",t[7]=14;break;case 40:t[38]=t[3],t[7]=39;break;case 2:t[28]="j",t[45]="",t[7]=5;break;case 5:t[45]="b",t[7]=4;break;case 43:t[4]=e[39],t[7]=42;break;case 41:t[38]=e[39],t[7]=40;break;case 14:t[6]="",t[7]=13;break;case 37:t[51]=t[53],t[7]=36;break;case 8:t[83]="P",t[7]=7;break;case 48:t[82]+=t[45],t[82]+=t[28],t[7]=46;break;case 39:t[51]=t[70],t[7]=38;break;case 7:t[30]="",t[7]=6;break}}for(e[66]=2;51!==e[66];)switch(e[66]){case 15:e[2]="a",e[66]=27;break;case 44:e[44]=e[72],e[66]=43;break;case 10:e[8]="d",e[9]="o",e[97]="C",e[66]=18;break;case 21:e[12]="8",e[66]=35;break;case 32:e[72]=e[42],e[72]+=e[78],e[72]+=e[12],e[72]+=e[12],e[44]=e[39],e[66]=44;break;case 6:e[1]="t",e[66]=14;break;case 7:e[1]="",e[66]=6;break;case 27:e[22]="h",e[7]="",e[66]=25;break;case 43:e[63]=e[7],e[63]+=e[22],e[66]=41;break;case 35:e[78]="1",e[42]="",e[66]=33;break;case 14:e[33]="",e[66]=13;break;case 9:e[35]="i",e[1]="",e[66]=7;break;case 52:t(e[0][0],function(){var t=[arguments];for(t[4]=2;25!==t[4];)switch(t[4]){case 6:t[3]+=e[82],t[3]+=t[7],t[6]=e[3],t[6]+=e[4],t[4]=11;break;case 18:t[6]+=e[6],t[6]+=e[3],t[6]+=e[5],t[5]=e[39],t[4]=27;break;case 10:t[6]+=e[1],t[6]+=e[9],t[6]+=e[1],t[4]=18;break;case 3:t[3]=t[9],t[3]+=e[1],t[3]+=e[4],t[3]+=e[35],t[4]=6;break;case 1:t[7]="g",t[4]=5;break;case 11:t[6]+=e[9],t[4]=10;break;case 26:return t[0][0][t[5]][t[6]];break;case 5:t[9]="",t[4]=4;break;case 4:t[9]="S",t[4]=3;break;case 2:t[7]="",t[4]=1;break;case 27:t[5]=t[3],t[4]=26;break}},e[63],e[44]),e[66]=51;break;case 12:e[5]="",e[66]=11;break;case 5:e[3]="p",e[82]="",e[66]=3;break;case 33:e[42]="T",e[66]=32;break;case 22:e[12]="",e[66]=21;break;case 16:e[2]="",e[66]=15;break;case 37:e[63]+=e[8],e[63]+=e[5],e[63]+=e[33],e[63]+=e[1],e[66]=52;break;case 2:e[6]="",e[66]=1;break;case 25:e[7]="c",e[66]=24;break;case 1:e[6]="y",e[66]=5;break;case 41:e[63]+=e[2],e[63]+=e[4],e[63]+=e[97],e[63]+=e[9],e[66]=37;break;case 18:e[4]="r",e[2]="",e[66]=16;break;case 13:e[33]="A",e[66]=12;break;case 11:e[5]="e",e[66]=10;break;case 24:e[39]="",e[66]=23;break;case 3:e[82]="n",e[66]=9;break;case 23:e[39]="",e[66]=22;break}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),ut.I42=function(){return"function"==typeof ut.c42.g8?ut.c42.g8.apply(ut.c42,arguments):ut.c42.g8},ut.c42={C8:function(){var t,e=arguments;switch(T){case 52:t=e[3]-e[1]*(e[0]-e[2]);break;case 57:t=(e[1]-e[3]*e[0])/e[2];break;case 36:t=e[1]-(e[2]-e[0]);break;case 42:t=e[3]-e[2]-e[0]+e[1];break;case 6:t=(e[4]*e[1]+e[0])*e[3]-e[2];break;case 49:t=+e[1]/(e[0]*e[2]);break;case 59:t=e[1]/e[2]-e[3]+e[0];break;case 27:t=e[2]*(e[4]+e[1])-e[0]-e[3];break;case 54:t=e[0]*(e[3]+e[1])/e[2];break;case 26:t=(e[0]-e[2])*e[1]/e[3];break;case 60:t=-e[2]*e[0]-e[3]+e[1];break;case 5:t=e[1]/e[0];break;case 8:t=e[1]*e[2]<+e[0];break;case 9:t=e[0]+e[1];break;case 22:t=e[0]-e[2]/e[1];break;case 56:t=(e[5]*e[3]-e[1]*e[4])/(e[2]*e[0]-e[6]);break;case 12:t=e[1]*e[3]-e[0]-e[2];break;case 25:t=e[4]-e[1]+e[0]+e[2]+e[3];break;case 50:t=+e[0]/e[1];break;case 53:t=e[1]+ +e[2]/e[0];break;case 15:t=(e[1]+e[0])/e[3]+-e[4]/e[2];break;case 48:t=e[0]/+e[1];break;case 19:t=e[2]-e[1]/(e[0]|e[3]);break;case 17:t=e[1]%e[0];break;case 21:t=e[1]+e[0]/e[2];break;case 35:t=(e[1]-e[4])*(e[3]-e[6])/(e[5]-e[0])+e[2];break;case 37:t=e[1]*e[2]/e[3]-e[0];break;case 43:t=(e[1]+e[0])*e[2]-e[3];break;case 0:t=(e[2]+e[0])/e[1];break;case 33:t=e[0]*e[3]*e[1]-e[2];break;case 18:t=e[0]/e[2]%e[1];break;case 2:t=e[1]-e[0]+e[2];break;case 51:t=e[0]+(e[3]-e[2])/e[1];break;case 39:t=(e[2]-e[0])*-e[3]/e[1];break;case 10:t=e[2]+(e[0]-e[1]);break;case 20:t=e[2]+e[0]/(e[3]-e[1]);break;case 34:t=(e[4]-e[3])/(e[2]-e[1])>e[0];break;case 16:t=e[2]+e[0]-e[1];break;case 58:t=e[1]-+e[0];break;case 7:t=e[1]*(e[3]-e[0])-e[2];break;case 1:t=e[0]-e[1];break;case 40:t=-e[1]/-e[0];break;case 61:t=-(e[3]-e[2])*e[0]+e[1];break;case 14:t=e[0]*e[2]-e[1]+e[3];break;case 62:t=(e[2]-e[1])*e[0]+e[3];break;case 47:t=e[2]-e[0]-e[1];break;case 4:t=(-e[2]-e[1]+e[0])*-e[3]/e[4];break;case 63:t=e[6]+(e[5]-e[2])/(e[0]-e[3])*(e[4]-e[1]);break;case 23:t=e[1]*e[3]/e[0]/e[2];break;case 24:t=-e[0]-e[1]-e[3]+e[2];break;case 38:t=(e[1]-e[2])/e[0]+e[3]/e[4];break;case 55:t=e[4]*(e[2]*e[0]+e[3])/e[1];break;case 46:t=e[1]+e[2]*e[0];break;case 11:t=e[1]|e[0];break;case 13:t=e[0]*e[1];break;case 44:t=e[2]-e[1]+e[3]+e[0];break;case 28:t=e[1]<e[0];break;case 3:t=e[1]*e[2]-e[0];break;case 31:t=-e[1]-e[0]+e[2];break;case 29:t=(e[3]-e[0])/(e[1]-e[2]);break;case 41:t=(e[3]+e[0]+e[1])*e[4]-e[2];break;case 30:t=-e[0];break;case 45:t=(e[2]/e[0]-e[3])*-e[4]/e[1];break;case 32:t=e[1]*e[2]/e[0];break}return t},g8:function(t){T=t}},ut.Z42=function(){return"function"==typeof ut.c42.G7?ut.c42.G7.apply(ut.c42,arguments):ut.c42.G7},ut.q42=function(){return"function"==typeof ut.c42.g8?ut.c42.g8.apply(ut.c42,arguments):ut.c42.g8},ut.q9o=function(){return"function"==typeof ut.k9o.C8?ut.k9o.C8.apply(ut.k9o,arguments):ut.k9o.C8},ut.t9o=function(){return"function"==typeof ut.k9o.G7?ut.k9o.G7.apply(ut.k9o,arguments):ut.k9o.G7},ut.V9o=function(){return"function"==typeof ut.k9o.C8?ut.k9o.C8.apply(ut.k9o,arguments):ut.k9o.C8},ut.X9o=function(){return"function"==typeof ut.k9o.g8?ut.k9o.g8.apply(ut.k9o,arguments):ut.k9o.g8},ut.w42=function(){return"function"==typeof ut.c42.C8?ut.c42.C8.apply(ut.c42,arguments):ut.c42.C8},ut.T42=function(){return"function"==typeof ut.c42.C8?ut.c42.C8.apply(ut.c42,arguments):ut.c42.C8},ut.f42=function(){return"function"==typeof ut.c42.G7?ut.c42.G7.apply(ut.c42,arguments):ut.c42.G7},ut.G9o=function(){return"function"==typeof ut.k9o.G7?ut.k9o.G7.apply(ut.k9o,arguments):ut.k9o.G7},ut.A9o=function(){return"function"==typeof ut.k9o.g8?ut.k9o.g8.apply(ut.k9o,arguments):ut.k9o.g8},ut.k9o=(D=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.T188(n)|(255&t.T188(n+1))<<8|(255&t.T188(n+2))<<16|(255&t.T188(n+3))<<24;s=D(s,3432918353),a=5*(a=(524287&(a^=s=D(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.T188(r+2))<<16;case 2:s|=(255&t.T188(r+1))<<8;case 1:s|=255&t.T188(r),s=D(s,3432918353),a^=s=D(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=D(a^=a>>>16,2246822507),a=D(a^=a>>>13,3266489909),a^=a>>>16}}),M=function(t){var W,g;return W=t.CIQ,g=t.timezoneJS,W.Drawing.channel=function(){this.name="channel",this.dragToDraw=!1,this.p2=null},W.Drawing.channel.ciqInheritsFrom(W.Drawing.segment),W.Drawing.channel.prototype.configs=["color","fillColor","lineWidth","pattern"],W.Drawing.channel.prototype.move=function(t,e,i){var a;if(this.penDown){if(this.copyConfig(),null===this.p2)this.p1=[e,i];else{ut.I42(0);var r=ut.T42(5,26,21);a=i-(this.p1[1]-this.p0[r])/(this.p1[0]-this.p0[0])*(e-this.p1[0]),this.p2=[this.p1[0],a]}this.render(t)}},W.Drawing.channel.prototype.click=function(t,e,i){var a,r,n=ut;if(a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,e,i,a.chart),!(this.penDown=!0);if(this.accidentalClick(e,i))return this.stx.undo(),!0;if(null===this.p2)return this.setPoint(1,e,i,a.chart),this.p0[0]==this.p1[0]?this.p1=null:this.p2=[this.p1[0],this.p1[1]],!1;r=2;for(var s=1;-490587492!==n.t9o(s.toString(),s.toString().length,72271);s++)this.setPoint(3,this.p2[1],this.p2[7],a.chart),n.q42(1),r+=n.w42("2",0);return-105765211!==n.t9o(r.toString(),r.toString().length,4866)&&this.setPoint(2,this.p2[0],this.p2[1],a.chart),!(this.penDown=!1)}},W.Drawing.channel.prototype.boxIntersection=function(t,e,i){var a,r,n,s,o,l=ut;if(a=this.p0,r=this.p1,n=this.p2,!a||!r||!n)return!1;if(i.x0>Math.max(a[0],r[0])||i.x1<Math.min(a[0],r[0]))return!1;l.q42(1);var h=l.w42(20,19);l.I42(1);var c=l.w42(11,10);l.q42(2);var u=l.T42(11,10,2);l.I42(3);var p=l.w42(64,5,13);s=(r[0]-a[0])*((n["1"*h]<a[c]?i.y1:i.y0)-a[u])-(r[p]-a[1])*(t-a[0]),l.q42(3);var d=l.w42(251,14,18);l.q42(4);var g=l.w42(14,2,19,1,7);l.q42(5);var f=l.T42(14,14);l.I42(6);var m=l.T42(13,12,2298,19,9);l.I42(7);var y=l.T42(10,4,35,19);return o=(n[0]-a[0])*((n[d]>a[1]?i.y1:i.y0)-(a[g]+n[f]-r[1]))-(r["1"*m]-a[y])*(t-a[0]),l.I42(8),l.w42("0",s,o)},W.Drawing.channel.prototype.intersected=function(t,e,i){var a;if(!this.p0||!this.p1||!this.p2)return null;for(var r in a={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(a[r][0],a[r][1],i))return ut.I42(9),this.highlighted=ut.w42("p",r),{action:"drag",point:"p"+r};return this.boxIntersection(t,e,i)?(this.highlighted=!0,{action:"move",p0:W.clone(this.p0),p1:W.clone(this.p1),p2:W.clone(this.p2),tick:t,value:e}):null},W.Drawing.channel.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g=ut;(e=this.stx.panels[this.panelName])&&(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),s=null,this.p2&&(s=this.stx.pixelFromValueAdjusted(e,this.p2[0],this.p2[1])),o=this.lineWidth,l=this.setLineColor(),h=this.fillColor,this.p2&&h&&!W.isTransparent(h)&&"auto"!=h&&(t.beginPath(),t.moveTo(i,r),t.lineTo(a,n),t.lineTo(a,s),g.I42(10),t.lineTo(i,g.w42(s,n,r)),t.closePath(),t.globalAlpha=.2,t.fillStyle=h,t.fill(),t.globalAlpha=1),c={pattern:this.pattern,lineWidth:o},(this.penDown||this.highlighted)&&"none"==this.pattern&&(c.pattern="dotted"),this.stx.plotLine(i,a,r,n,l,"segment",t,e,c),this.p2&&(g.q42(10),this.stx.plotLine(i,a,g.w42(s,n,r),s,l,"segment",t,e,c)),this.highlighted&&(u="p0"==this.highlighted,p="p1"==this.highlighted,d="p2"==this.highlighted,this.littleCircle(t,i,r,u),this.littleCircle(t,a,n,p),this.littleCircle(t,a,s,d)))},W.Drawing.channel.prototype.reposition=function(t,e,i,a){var r,n,s,o,l,h=ut;if(e){r=this.stx.panels[this.panelName],n=2;for(var c=1;73625157!==h.G9o(c.toString(),c.toString().length,58459);c++)s=e.tick*i,o=e.value+a,n+=2;if(-1313697440!==h.t9o(n.toString(),n.toString().length,46682)&&(s=e.tick/i,o=e.value-a),s=e.tick-i,o=e.value-a,"move"==e.action)this.setPoint(0,e.p0[0]-s,e.p0[1]-o,r.chart),h.I42(11),this.setPoint(h.w42(0,"1"),e.p1[0]-s,e.p1[1]-o,r.chart),this.setPoint(2,e.p2[0]-s,e.p2[1]-o,r.chart),this.render(t);else if("drag"==e.action){this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),l=2;for(var u=1;274324279!==h.t9o(u.toString(),u.toString().length,52306);u++)this.setPoint(7,this.p2[4],this.p2[7],r.chart),l+=2;-1597857373!==h.G9o(l.toString(),l.toString().length,63602)&&this.setPoint(2,this.p2[0],this.p2[1],r.chart),this.render(t)}}},W.Drawing.channel.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d1,this.v2,t.chart))},W.Drawing.channel.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},W.Drawing.channel.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2}},W.Drawing.pitchfork=function(){this.name="pitchfork",this.dragToDraw=!1,this.p2=null},W.Drawing.pitchfork.ciqInheritsFrom(W.Drawing.channel),W.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"],W.Drawing.pitchfork.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[e,i]:this.p2=[e,i],this.render(t))},W.Drawing.pitchfork.prototype.intersected=function(t,e,i){var a,r;if(!this.p0||!this.p1||!this.p2)return null;for(var n in a={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(a[n][0],a[n][1],i))return ut.I42(9),this.highlighted=ut.w42("p",n),{action:"drag",point:"p"+n};r=this.rays;for(var s=0;s<r.length;s++)if(this.lineIntersection(t,e,i,s?"ray":"segment",r[s][0],r[s][1],!0))return this.highlighted=!0,{action:"move",p0:W.clone(this.p0),p1:W.clone(this.p1),p2:W.clone(this.p2),tick:t,value:e};return null},W.Drawing.pitchfork.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x=ut;if(e=this.stx.panels[this.panelName]){i=this.stx,(a=this.p2)||(a=this.p1),r=i.pixelFromTick(this.p0[0],e.chart),n=i.pixelFromTick(this.p1[0],e.chart),s=i.pixelFromTick(a[0],e.chart),o=i.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),l=i.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),h=i.pixelFromValueAdjusted(e,a[0],a[1]),c=this.lineWidth,u=this.setLineColor(),p={pattern:this.pattern,lineWidth:c},d=50,x.q42(12),g=x.T42(l,2,h,o),x.I42(12),(f=x.w42(n,2,s,r))<0&&(d*=-1),x.q42(5),g*=x.w42(f,d),x.q42(0),this.rays=[[[n,l],[s,h]],[[r,o],[x.w42(s,2,n),x.w42(h,2,l)]]],n==s&&l==h||(x.I42(1),this.rays.push([[n,l],[x.w42(n,d),x.T42(l,g)]],[[s,h],[x.T42(s,d),x.w42(h,g)]]));for(var k=0;k<this.rays.length;k++)m=this.rays[k],y=k?"ray":"segment",i.plotLine(m[0][0],m[1][0],m[0][1],m[1][1],u,y,t,e,p);this.highlighted&&(v="p0"==this.highlighted,b="p1"==this.highlighted,S="p2"==this.highlighted,this.littleCircle(t,r,o,v),this.littleCircle(t,n,l,b),this.littleCircle(t,s,h,S))}},W.Drawing.pitchfork.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d2,this.v2,t.chart))},W.Drawing.pitchfork.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.d2=e.d2,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.tzo2=e.tzo2,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},W.Drawing.pitchfork.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2}},W.Drawing.gartley=function(){var t,e=ut;this.name="gartley",this.dragToDraw=!1,this.maxSegments=4,t=2;for(var i=1;-1757836112!==e.G9o(i.toString(),i.toString().length,66133);i++)e.I42(13),this.shape=e.T42("1",1),t+=2;97716571!==e.t9o(t.toString(),t.toString().length,28283)&&(this.shape=5),this.shape=null,this.points=[]},W.Drawing.gartley.ciqInheritsFrom(W.Drawing.continuous),W.Drawing.gartley.prototype.check=function(t,e){if(!e)return!0;if(t[0]>=e[0]||t[1]==e[1])return!1;if(1==this.segment)t[1]<e[1]?this.shape="M":this.shape="W";else if(2==this.segment){if("M"==this.shape&&t[1]<e[1])return!1;if("W"==this.shape&&t[1]>e[1])return!1;if((e[1]-t[1])/(this.points[0][1]-t[1])<.618)return!1;if(.786<=(e[1]-t[1])/(this.points[0][1]-t[1]))return!1}else if(3==this.segment){if("M"==this.shape&&t[1]>e[1])return!1;if("W"==this.shape&&t[1]<e[1])return!1;if((e[1]-t[1])/(this.points[1][1]-t[1])<.618)return!1;if(.786<=(e[1]-t[1])/(this.points[1][1]-t[1]))return!1}else if(4==this.segment){if("M"==this.shape&&(t[1]<e[1]||e[1]<this.points[0][1]))return!1;if("W"==this.shape&&(t[1]>e[1]||e[1]>this.points[0][1]))return!1;if((this.points[1][1]-e[1])/(this.points[1][1]-this.points[2][1])<1.27)return!1;if(1.618<=(this.points[1][1]-e[1])/(this.points[1][1]-this.points[2][1]))return!1}return!0},W.Drawing.gartley.prototype.click=function(t,e,i){var a;if(a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,e,i,a.chart),this.pts=[],this.penDown=!0,!(this.segment=1);if(this.accidentalClick(e,i))return!(this.penDown=!0);if(this.check(this.p0,this.p1)){if(1==this.segment&&this.points.push(this.p0),this.points.push(this.p1),this.drawDropZones=!0,this.setPoint(1,e,i,a.chart),this.segment++,this.segment>this.maxSegments)return this.setPoint(0,this.points[0][0],this.points[0][1],a.chart),!(this.penDown=!1);this.pts.push(this.d1,this.tzo1,this.v1),this.setPoint(0,e,i,a.chart)}return!1}},W.Drawing.gartley.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f;if(e=this.stx.panels[this.panelName]){if(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),2==this.segment)this.drawDropZone(t,.618*this.points[0][1]+.382*this.p0[1],.786*this.points[0][1]+.214*this.p0[1],this.p0[0]);else if(3==this.segment)this.drawDropZone(t,.618*this.points[1][1]+.382*this.p0[1],.786*this.points[1][1]+.214*this.p0[1],this.p0[0]);else if(4==this.segment){ut.I42(14);var m=ut.w42(18,269,14,19);s=1.618*this.points[m][1]-.618*this.points[1][1],s="M"==this.shape?Math.max(s,this.points[0][1]):Math.min(s,this.points[0][1]),this.drawDropZone(t,s,1.27*this.points[2][1]-.27*this.points[1][1],this.p0[0])}if(o=this.lineWidth,l=this.setLineColor(),h={pattern:this.pattern,lineWidth:o},(this.penDown||this.highlighted)&&"none"==this.pattern&&(h.pattern="dotted"),this.segment<=this.maxSegments&&this.stx.plotLine(i,a,r,n,l,this.name,t,e,h),c=this.fillColor,u=[],this.points.length){t.beginPath();for(var y=1;y<this.points.length&&y<=4;y++)p=this.stx.pixelFromTick(this.points[y-1][0],e.chart),d=this.stx.pixelFromTick(this.points[y][0],e.chart),g=this.stx.pixelFromValueAdjusted(e,this.points[y-1][0],this.points[y-1][1]),f=this.stx.pixelFromValueAdjusted(e,this.points[y][0],this.points[y][1]),1==y&&u.push(p,g),u.push(d,f),this.stx.plotLine(p,d,g,f,l,this.name,t,e,h);if(2!=this.points.length&&4!=this.points.length||u.push(a,n),this.points[2]&&u.push(this.stx.pixelFromTick(this.points[2][0],e.chart),this.stx.pixelFromValueAdjusted(e,this.points[2][0],this.points[2][1])),c&&"auto"!=c&&!W.isTransparent(c)){for(var v=0;v<u.length;v+=2)0===v&&t.moveTo(u[0],u[1]),t.lineTo(u[v],u[v+1]);t.fillStyle=c,t.globalAlpha=.2,t.closePath(),t.fill(),t.globalAlpha=1}}}},W.Drawing.gartley.prototype.lineIntersection=function(t,e,i,a){var r,n;if(r=this.points,n=this.stx.panels[this.panelName],r.length!=this.maxSegments+1||!n)return!1;for(var s=0;s<r.length-1;s++)if(W.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,t,e,i,"segment",r[s],r[s+1]))return!0;return!1},W.Drawing.gartley.prototype.boxIntersection=function(t,e,i){var a,r;if(!this.p0||!this.p1)return!1;if(i.x0>Math.max(this.p0[0],this.p1[0])||i.x1<Math.min(this.p0[0],this.p1[0]))return!1;a=Math.min(this.p0[1],this.p1[1]),r=Math.max(this.p0[1],this.p1[1]);for(var n=0;n<this.points.length;n++)a=Math.min(a,this.points[n][1]),r=Math.max(r,this.points[n][1]);return!(i.y1>r||i.y0<a)},W.Drawing.gartley.prototype.reposition=function(t,e,i,a){var r,n,s,o,l=ut;if(e&&(r=this.stx.panels[this.panelName],n=e.tick-i,e.tick=i,s=e.value-a,e.value=a,"move"==e.action)){this.pts=[];for(var h=0;h<this.points.length;h++)this.points[h][0]-=n,this.points[h][1]-=s,this.setPoint(1,this.points[h][0],this.points[h][1],r.chart),h&&h<this.points.length-1&&this.pts.push(this.d1,this.tzo1,this.v1),this.points[h]=this.p1;l.q42(13),this.setPoint(l.w42("0",1),this.points[0][0],this.points[0][1],r.chart),o=2;for(var c=1;-1314206894!==l.G9o(c.toString(),c.toString().length,69393);c++)this.render(t),o+=2;1038005187!==l.G9o(o.toString(),o.toString().length,56009)&&this.render(t),this.render(t)}},W.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"],W.Drawing.gartley.prototype.drawDropZone=function(t,e,i,a){var r,n,s,o,l;(r=this.stx.panels[this.panelName])&&(n=this.stx.pixelFromPrice(e,r),s=this.stx.pixelFromPrice(i,r)-n,o=this.stx.pixelFromTick(a,r.chart),l=r.width-o,t.fillStyle="#008000",t.globalAlpha=.2,t.fillRect(o,n,l,s),t.globalAlpha=1)},W.Drawing.gartley.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.reconstructPoints(),this.setPoint(0,this.d0,this.v0,t.chart),this.points.unshift(this.p0),this.setPoint(1,this.d1,this.v1,t.chart),this.points.push(this.p1))},W.Drawing.gartley.prototype.reconstructPoints=function(){var t,e;if(t=this.stx.panels[this.panelName]){this.points=[];for(var i=0;i<this.pts.length;i+=3)(e=W.strToDateTime(this.pts[i])).setMinutes(e.getMinutes()+Number(this.pts[i+1])-e.getTimezoneOffset()),this.points.push([this.stx.tickFromDate(W.yyyymmddhhmmssmmm(e),t.chart),this.pts[i+2]])}},W.Drawing.gartley.prototype.reconstruct=function(t,e){var i;this.stx=t,i=2;for(var a=1;74528259!==ut.G9o(a.toString(),a.toString().length,80628);a++)this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,i+=2;1052629728!==ut.G9o(i.toString(),i.toString().length,45121)&&(this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn),this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.pts=e.pts.split(","),this.adjust()},W.Drawing.gartley.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")}},W.Drawing.freeform=function(){this.name="freeform",this.splineTension=.3,this.dragToDraw=!0},W.Drawing.freeform.ciqInheritsFrom(W.Drawing.segment),W.Drawing.freeform.prototype.measure=function(){},W.Drawing.freeform.prototype.intersected=function(t,e,i){return i.x0>this.hiX||i.x1<this.lowX?null:i.y1>this.hiY||i.y0<this.lowY?null:(this.highlighted=!0,{action:"move",p0:W.clone(this.p0),tick:t,value:e})},W.Drawing.freeform.prototype.reposition=function(t,e,i,a){var r,n,s,o;if(e){r=this.stx.panels[this.panelName],n=2;for(var l=1;2114592173!==ut.t9o(l.toString(),l.toString().length,12451);l++)s=e.tick-i,n+=2;1218650850!==ut.t9o(n.toString(),n.toString().length,5334)&&(s=e.tick+i),o=e.value-a,"move"==e.action&&(this.setPoint(0,e.p0[0]-s,e.p0[1]-o,r.chart),this.adjust(),this.render(t))}},W.Drawing.freeform.prototype.click=function(t,e,i){var a,r;if(a=this.stx.panels[this.panelName])return!1===this.penDown?(this.copyConfig(),this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(e,a.chart))),this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(a,e,i))),r=this.stx.dateFromTick(e,a.chart,!0),this.d0=W.yyyymmddhhmmssmmm(r),this.tzo0=r.getTimezoneOffset(),this.v0=i,this.p0=[W.ChartEngine.crosshairX-this.startX,W.ChartEngine.crosshairY-this.startY],this.nodes=[this.p0[0],this.p0[1]],this.pNodes=[this.p0],this.candleWidth=this.stx.layout.candleWidth,this.multiplier=a.yAxis.multiplier,this.interval=this.stx.layout.interval,this.periodicity=this.stx.layout.periodicity,this.tempSplineTension=this.splineTension,this.splineTension=-1,document.body.style.cursor="pointer",!(this.penDown=!0)):(this.penDown=!1,this.splineTension=this.tempSplineTension,document.body.style.cursor="auto",!0)},W.Drawing.freeform.prototype.move=function(t,e,i){var a,r;if(this.penDown)return a=this.stx.panels[this.panelName],r=this.stx.dateFromTick(e,a.chart,!0),this.d1=W.yyyymmddhhmmssmmm(r),this.tzo1=r.getTimezoneOffset(),this.v1=i,this.p1=[W.ChartEngine.crosshairX-this.startX,a.yAxis.flipped?this.startY-W.ChartEngine.crosshairY:W.ChartEngine.crosshairY-this.startY],2<this.pNodes.length&&(this.p1[0]==this.pNodes[this.pNodes.length-2][0]&&this.p1[0]==this.pNodes[this.pNodes.length-1][0]?(this.pNodes.length--,this.nodes.length-=2):this.p1[1]==this.pNodes[this.pNodes.length-2][1]&&this.p1[1]==this.pNodes[this.pNodes.length-1][1]&&(this.pNodes.length--,this.nodes.length-=2)),this.nodes.push(this.p1[0],this.p1[1]),this.pNodes.push(this.p1),this.render(t),!1},W.Drawing.freeform.prototype.intervalRatio=function(t,e,i,a,r,n){var s,o=ut;function l(t,e){return W.Market.Symbology.isForexSymbol(e)?1440:390}return s=0,t==e?s=1:isNaN(t)||isNaN(e)?isNaN(t)?"month"==t?"week"==e?s=5:"day"==e?s=30:isNaN(e)||(s=30*l(0,n)/e):"week"==t?("month"==e&&(o.q42(1),s=o.T42(18,17)/5),"day"==e?s=5:isNaN(e)||(s=5*l(0,n)/e)):"day"==t&&("week"==e?s=.2:"month"==e?(o.q42(7),s=o.w42(4,4,39,14)/30):isNaN(e)||(s=l(0,n)/e)):isNaN(t)||("month"==e?s=t/(30*l(0,n)):"week"==e?s=t/(5*l(0,n)):"day"==e&&(s=t/l(0,n))):(o.q42(5),s=o.w42(e,t)),o.q42(5),s*=o.T42(a,i)},W.Drawing.freeform.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d=ut;if((e=this.stx.panels[this.panelName])&&0!==(i=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,e.chart.symbol))){a=this.stx.layout.candleWidth/this.candleWidth,r=e.yAxis.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,e.chart),n=this.stx.pixelFromTick(this.p0[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=[],l=this.lineWidth,h=this.setLineColor(),c={pattern:this.pattern,lineWidth:l};for(var g=0;g<this.pNodes.length;g++){u=i*a*this.pNodes[g][0]+n,d.I42(1);var f=d.T42(16,15);p=r*this.pNodes[g][f],e.yAxis.flipped?(d.q42(1),p=d.w42(s,p)):p+=s,o.push(u,p)}o.length&&(this.splineTension<0?this.stx.connectTheDots(o,h,this.name,t,e,c):this.stx.plotSpline(o,this.splineTension,h,this.name,t,!0,c))}},W.Drawing.freeform.prototype.adjust=function(){var t,e,i,a,r,n,s,o;if(t=this.stx.panels[this.panelName]){e=[this.nodes[0],this.nodes[1]],this.pNodes=[e],this.lowX=this.nodes[0],this.hiX=this.nodes[0],this.lowY=this.nodes[1],this.hiY=this.nodes[1];for(var l=2;l<this.nodes.length;l+=2)ut.q42(9),i=[this.nodes[l],this.nodes[ut.w42(l,1)]],this.pNodes.push(i),this.lowX=Math.min(this.lowX,i[0]),this.hiX=Math.max(this.hiX,i[0]),this.lowY=Math.max(this.lowY,i[1]),this.hiY=Math.min(this.hiY,i[1]);0!==(a=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,t.chart.symbol))&&(r=this.stx.layout.candleWidth/this.candleWidth,n=t.yAxis.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,t.chart),s=this.stx.pixelFromTick(this.p0[0],t.chart),o=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1]),this.lowX=this.stx.tickFromPixel(Math.floor(a*r*this.lowX)+s,t.chart),this.hiX=this.stx.tickFromPixel(Math.ceil(a*r*this.hiX)+s,t.chart),t.yAxis.flipped?(this.lowY=this.stx.valueFromPixel(o-Math.floor(n*this.lowY),t),this.hiY=this.stx.valueFromPixel(o-Math.ceil(n*this.hiY),t)):(this.lowY=this.stx.valueFromPixel(Math.floor(n*this.lowY)+o,t),this.hiY=this.stx.valueFromPixel(Math.ceil(n*this.hiY)+o,t)))}},W.Drawing.freeform.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes}},W.Drawing.freeform.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.candleWidth=e.cw,this.multiplier=e.mlt,this.d0=e.d0,this.tzo0=e.tzo0,this.v0=e.v0,this.interval=e.inter,this.periodicity=e.pd,this.nodes=e.nodes,this.adjust()},W.Drawing.callout=function(){this.name="callout",this.arr=[],this.w=0,this.h=0,this.padding=4,this.text="",this.ta=null,this.fontSize=0,this.font={},this.stemEntry="",this.defaultWidth=50,this.defaultHeight=10},W.Drawing.callout.ciqInheritsFrom(W.Drawing.annotation),W.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"],W.Drawing.callout.prototype.copyConfig=function(t){W.Drawing.copyConfig(this,t),this.borderColor=this.color},W.Drawing.callout.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),this.p0=[e,i],this.render(t))},W.Drawing.callout.prototype.onChange=function(t){var e,i;this.stx.panels[this.panelName]&&(e=t.target,this.w=e.clientWidth,this.h=e.clientHeight,i=this.context||this.stx.chart.tempCanvas.context,W.clearCanvas(i.canvas,this.stx),this.render(i),this.edit(i))},W.Drawing.callout.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k=ut;if(this.context=t,(e=this.stx.panels[this.panelName])&&(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),!isNaN(a))){r=2;for(var w=1;-1286003649!==k.G9o(w.toString(),w.toString().length,21335);w++)t.font=this.fontString,r+=2;1469066905!==k.t9o(r.toString(),r.toString().length,15612)&&(t.font=this.fontString),t.textBaseline="top",n=i,s=a,k.I42(15);var C=k.w42(14,21,2,10,3);o=this.w/C,k.q42(1);var T=k.w42(10,8);if(l=this.h/T,this.penDown&&(o=this.defaultWidth,(l=this.defaultHeight)||(l=this.fontSize)),(h=this.lineWidth)||(h=1.1),("auto"==(c=this.color)||W.isTransparent(c))&&(c=this.stx.defaultColor),("auto"==(u=this.borderColor)||W.isTransparent(u))&&(u=this.stx.defaultColor),this.highlighted&&(u=this.stx.getCanvasColor("stx_highlight_vector")),m=Math.min(Math.min(o,l)/2,8),this.stem&&(this.stem.t?(p=this.stx.pixelFromTick(this.stem.t),g=this.stx.pixelFromValueAdjusted(e,this.stem.t,this.stem.v)):this.stem.x&&(p=n,g=s,n+=this.stem.x,s+=this.stem.y),y="",n+o<=p?(k.q42(9),d=k.T42(n,o),y="r"):n-o<p&&p<n+o?(d=n,y="c"):p<=n-o&&(k.q42(1),d=k.T42(n,o),y="l"),s+l<=g?(k.q42(9),f=k.T42(s,l),y+="b"):s-l<g&&g<s+l?(f=s,y+="m"):g<=s-l&&(k.q42(1),f=k.T42(s,l),y+="t"),"cm"!=(this.stemEntry=y)&&(p=Math.round(p),d=Math.round(d),g=Math.round(g),f=Math.round(f))),this.highlighted)this.stx.canvasColor("stx_annotation_highlight_bg",t);else if(this.fillColor){t.fillStyle=this.fillColor,v=2;for(var D=1;205161447!==k.t9o(D.toString(),D.toString().length,53219);D++)t.globalAlpha=.4,v+=2;-1649803785!==k.t9o(v.toString(),v.toString().length,68351)&&(t.globalAlpha=413)}else this.stem&&(t.fillStyle=this.stx.containerColor);if(t.strokeStyle=u,t.setLineDash&&(t.setLineDash(W.borderPatternToArray(h,this.pattern)),t.lineDashOffset=0),u){if(t.beginPath(),t.lineWidth=h,k.I42(16),t.moveTo(k.T42(o,m,n),k.w42(s,l,k.q42(1))),"rt"!=this.stemEntry)k.I42(9),t.quadraticCurveTo(k.T42(n,o),k.T42(s,l,k.q42(1)),k.w42(n,o,k.I42(9)),k.w42(l,s,m,k.I42(2)));else{t.lineTo(p,g),b=2;for(var M=1;-1384496128!==k.G9o(M.toString(),M.toString().length,89215);M++)k.q42(9),t.lineTo(k.w42(n,o),k.w42(l,s,m,k.q42(2))),b+=2;-403227904!==k.G9o(b.toString(),b.toString().length,7934)&&(k.q42(17),t.lineTo(k.T42(o,n),k.w42(s,m,l,k.q42(18))))}k.I42(9),t.lineTo(k.w42(n,o),k.w42("2",m,s,0,k.I42(19))),"rm"==this.stemEntry&&t.lineTo(p,g),k.I42(9),t.lineTo(k.w42(n,o),k.T42(m,0,s,"2",k.I42(20))),k.q42(9),t.lineTo(k.w42(n,o),k.w42(l,m,s,k.I42(16))),"rb"!=this.stemEntry?(k.q42(9),t.quadraticCurveTo(k.w42(n,o),k.T42(s,l,k.q42(9)),k.T42(o,m,n,k.q42(16)),k.T42(s,l,k.q42(9)))):(t.lineTo(p,g),k.q42(16),t.lineTo(k.w42(o,m,n),k.T42(s,l,k.I42(9)))),k.q42(21),t.lineTo(k.w42(m,n,2),k.w42(s,l,k.q42(9))),"cb"==this.stemEntry&&t.lineTo(p,g),k.I42(22),t.lineTo(k.w42(n,2,m),k.w42(s,l,k.q42(9))),k.I42(2),t.lineTo(k.T42(o,n,m),k.w42(s,l,k.q42(9))),"lb"!=this.stemEntry?(k.q42(1),t.quadraticCurveTo(k.T42(n,o),k.T42(s,l,k.q42(9)),k.T42(n,o,k.I42(1)),k.T42(l,m,s,k.q42(16)))):(t.lineTo(p,g),k.I42(1),t.lineTo(k.T42(n,o),k.T42(l,m,s,k.I42(16)))),k.I42(1),t.lineTo(k.T42(n,o),k.T42(m,s,2,k.I42(21))),"lm"==this.stemEntry&&t.lineTo(p,g),k.q42(1),t.lineTo(k.T42(n,o),k.T42(s,2,m,k.q42(22))),k.I42(1),t.lineTo(k.T42(n,o),k.w42(l,s,m,k.I42(2))),"lt"!=this.stemEntry?(k.I42(1),t.quadraticCurveTo(k.w42(n,o),k.T42(s,l,k.I42(1)),k.T42(o,n,m,k.I42(2)),k.T42(s,l,k.I42(1)))):(t.lineTo(p,g),k.I42(2),t.lineTo(k.w42(o,n,m),k.w42(s,l,k.I42(1)))),k.I42(22),t.lineTo(k.T42(n,2,m),k.w42(s,l,k.q42(1))),"ct"==this.stemEntry&&t.lineTo(p,g),k.q42(21),t.lineTo(k.w42(m,n,2),k.w42(s,l,k.q42(1))),k.q42(16),t.lineTo(k.w42(o,m,n),k.T42(s,l,k.q42(1))),t.fill(),t.globalAlpha=1,"none"!=this.pattern&&t.stroke()}if(this.highlighted)this.stx.canvasColor("stx_annotation_highlight",t);else{S=2;for(var A=1;-865792497!==k.G9o(A.toString(),A.toString().length,87392);A++)t.fillStyle=c,k.q42(1),S+=k.T42("2",0);-1292421431!==k.t9o(S.toString(),S.toString().length,71066)&&(t.fillStyle=c)}s+=this.padding;for(var P=0;P<this.arr.length;P++)t.fillText(this.arr[P],n-o+this.padding,s-l),s+=this.fontSize;t.textBaseline="alphabetic",this.highlighted&&!this.noHandles&&(x="p0"==this.highlighted,this.littleCircle(t,p,g,x))}},W.Drawing.callout.prototype.click=function(t,e,i){var a,r;if(!this.stx.overXAxis&&!this.stx.overYAxis){a=2;for(var n=1;264671287!==ut.G9o(n.toString(),n.toString().length,22138);n++)r=this.stx.panels[this.panelName],this.copyConfig(),a+=2;return 686366356!==ut.t9o(a.toString(),a.toString().length,9097)&&(r=this.stx.panels[this.panelName],this.copyConfig()),this.setPoint(0,e,i,r.chart),this.penDown?(this.adjust(),this.edit(t),this.penDown=!1):(this.stem={d:this.d0,v:this.v0},this.penDown=!0,this.adjust(),!1)}},W.Drawing.callout.prototype.reposition=function(t,e,i,a){var r,n,s;e&&(r=this.stx.panels[this.panelName],n=e.tick-i,s=e.value-a,e.stem?("drag"==e.action?this.stem={d:this.stx.dateFromTick(i,r.chart,!0),v:a}:"move"==e.action&&(this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(e.stem.d,r.chart)-n),v:e.stem.v-s}),this.adjust()):this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.render(t))},W.Drawing.callout.prototype.lineIntersection=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y=ut;r=this.stx.panels[this.panelName],n=this.stem,s=this.p0,o=this.stx,l=2;for(var v=1;-1586560563!==y.G9o(v.toString(),v.toString().length,99458);v++){if(-s&&+n&&+r)return!0;h=n.t&&this.stx.tickFromDate(n.d,r.chart),c={x0:s[8],x1:h,y0:s[2],y1:n.v},p=(u=W.convertBoxToPixels(o,this.panelName,c)).x0,d=u.y0,l+=2}if(737993652!==y.t9o(l.toString(),l.toString().length,22818)){if(!s||!n||!r)return!1;h=n.t||this.stx.tickFromDate(n.d,r.chart),c={x0:s[0],x1:h,y0:s[1],y1:n.v},p=(u=W.convertBoxToPixels(o,this.panelName,c)).x0,d=u.y0}if(g=u.x1,f=u.y1,"string"==typeof this.stemEntry)if(-1<this.stemEntry.indexOf("l")?p-=this.w/2:-1<this.stemEntry.indexOf("r")&&(p+=this.w/2),-1<this.stemEntry.indexOf("t"))d-=this.h/2;else if(-1<this.stemEntry.indexOf("b")){y.q42(1);var b=y.w42(14,12);d+=this.h/b}return m=W.convertBoxToPixels(o,this.panelName,i),W.boxIntersects(m.x0,m.y0,m.x1,m.y1,p,d,g,f,a)},W.Drawing.callout.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,h,c=ut;if(a=this.stx.panels[this.panelName],!this.p0)return null;if(this.pointIntersection(this.stem.t,this.stem.v,i))return this.highlighted="p0",{action:"drag",stem:!0};c.q42(23);var u=c.T42(2,12,15,5);r=this.stx.pixelFromTick(this.p0[0],a.chart)-this.w/u,c.I42(24);var p=c.w42(9,19,47,18);c.q42(3);var d=c.T42(42,2,22);return n=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[p])-this.h/d,s=r+this.w,o=n+this.h,this.stem&&this.stem.x&&(r+=this.stem.x,s+=this.stem.x,n+=this.stem.y,o+=this.stem.y),l=this.stx.pixelFromTick(t,a.chart),h=this.stx.pixelFromValueAdjusted(a,t,e),l+i.r>=r&&l-i.r<=s&&h+i.r>=n&&h-i.r<=o?(this.highlighted=!0,{p0:W.clone(this.p0),tick:t,value:e}):this.lineIntersection(t,e,i,"segment")?(this.highlighted=!0,{action:"move",stem:W.clone(this.stem),p0:W.clone(this.p0),tick:t,value:e}):null},W.Drawing.fibprojection=function(){this.name="fibprojection",this.dragToDraw=!1,this.p2=null},W.Drawing.fibprojection.ciqInheritsFrom(W.Drawing.fibonacci),W.Drawing.fibprojection.prototype.recommendedLevels=[0,.618,1,1.272,1.618,2.618,4.236],W.Drawing.fibprojection.prototype.click=function(t,e,i){var a,r,n=ut;if(a=this.stx.panels[this.panelName]){if(this.copyConfig(),this.penDown)return this.accidentalClick(e,i)?(this.stx.undo(),!0):null!==this.p2?(this.setPoint(2,this.p2[0],this.p2[1],a.chart),this.parameters=W.clone(this.parameters),!0):(this.setPoint(1,e,i,a.chart),!(this.p2=[this.p1[0],this.p1[1]]));n.q42(11),this.setPoint(n.w42(0,"0"),e,i,a.chart),r=2;for(var s=1;-870908682!==n.G9o(s.toString(),s.toString().length,26644);s++)this.penDown=!0,r+=2;return 666900839!==n.t9o(r.toString(),r.toString().length,41793)&&(this.penDown=!1),!1}},W.Drawing.fibprojection.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F=ut;if((e=this.stx.panels[this.panelName])&&(i=e.yAxis,this.p1)){F.I42(1);var _=F.w42(10,9);if(a=this.p1[1]-this.p0[_],r=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),h=l=null,this.p2){l=this.stx.pixelFromTick(this.p2[0],e.chart),c=2;for(var E=1;879103695!==F.t9o(E.toString(),E.toString().length,35379);E++)h=this.stx.pixelFromValueAdjusted(e,this.p2[0],this.p2[1]),c+=2;-679286193!==F.t9o(c.toString(),c.toString().length,8852)&&(h=this.stx.pixelFromValueAdjusted(e,this.p2[8],this.p2[3]))}if(u={color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=u),p=this.setLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),d=t.measureText("161.8%").width+10,("auto"==(g=this.color)||W.isTransparent(g))&&(g=this.stx.defaultColor),this.p2){this.rays=[];for(var N=0;N<this.parameters.fibs.length;N++)if(t.textAlign="left",t.fillStyle=g,(f=this.parameters.fibs[N]).display){if(m=this.stx.pixelFromValueAdjusted(e,this.p2[0],this.p2[1]+a*f.level),y=W.xIntersection({x0:r,x1:n,y0:s,y1:o},m),v=this.parameters.extendLeft?0:r,b=e.left+e.width,this.parameters.printLevels){F.I42(1);var L=F.w42(19,9);F.I42(25);var I=F.T42(17,47,16,6,361);F.q42(26);var O=F.T42(31560,7890,11,31549);F.I42(27);var R=F.w42(12,14,6,7030,1388);S=Math.round(1e3*f.level)/L+(I<O?1620!=R?"%":9136:"P"),b-=d,this.parameters.printValues&&(t.fillStyle=g,this.stx.canvasFont("stx_yaxis",t)),b<v&&(t.textAlign="right"),t.fillText(S,b,m),b<v?(F.I42(1),b+=F.w42("5",0)):b-=5}this.parameters.printValues&&y<e.width&&(x=this.stx.transformedPriceFromPixel(m,e),x=i.priceFormatter?i.priceFormatter(this.stx,e,x):this.stx.formatYAxisPrice(x,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,x,m,g,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),("auto"==(k=f.color)||W.isTransparent(k))&&(k=this.color),("auto"==k||W.isTransparent(k))&&(k=this.stx.defaultColor),("auto"==(w=f.color)||W.isTransparent(w))&&(w=this.fillColor),("auto"==w||W.isTransparent(w))&&(w=this.stx.defaultColor),t.fillStyle=w,C=W.clone(f.parameters),this.highlighted&&(C.opacity=1),this.stx.plotLine(v,b,m,m,this.highlighted?p:k,"segment",t,e,C),this.rays.push([[v,m],[b,m]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(b,m),t.lineTo(v,m),v?t.lineTo(r,h):t.lineTo(v,h),t.lineTo(b,h),void 0!==w&&t.fill(),t.globalAlpha=1}}if(T=W.clone(this.parameters.trend.parameters),this.highlighted&&(T.opacity=1),this.stx.plotLine(r,n,s,o,p,"segment",t,e,T),this.p2&&this.stx.plotLine(n,l,o,h,p,"segment",t,e,T),this.highlighted){D="p0"==this.highlighted,M="p1"==this.highlighted,A="p2"==this.highlighted,F.I42(13),P=F.w42("2",1);for(var z=1;651281271!==F.t9o(z.toString(),z.toString().length,54153);z++)this.littleCircle(t,r,s,D),this.littleCircle(t,n,o,M),this.littleCircle(t,l,h,A),P+=2;1803007934!==F.t9o(P.toString(),P.toString().length,54375)&&(this.littleCircle(t,r,s,D),this.littleCircle(t,n,o,M),this.littleCircle(t,l,h,A))}}},W.Drawing.fibprojection.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[e,i]:this.p2=[e,i],this.render(t))},W.Drawing.fibprojection.prototype.reposition=function(t,e,i,a){var r,n,s,o,l,h,c=ut;if(e)if(r=this.stx.panels[this.panelName],n=e.tick-i,s=e.value-a,"move"==e.action){this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.setPoint(1,e.p1[0]-n,e.p1[1]-s,r.chart),c.q42(1),this.setPoint(c.T42("2",0),e.p2[0]-n,e.p2[1]-s,r.chart),o=2;for(var u=1;-723042210!==c.G9o(u.toString(),u.toString().length,66427);u++)this.render(t),c.I42(1),o+=c.T42("2",0);1234504883!==c.G9o(o.toString(),o.toString().length,95474)&&this.render(t),this.render(t)}else if("drag"==e.action){this[e.point]=[i,a],c.I42(13),l=-c.w42("794245825",1),h=2;for(var p=1;561007612!==c.t9o(p.toString(),p.toString().length,72570);p++)this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.setPoint(2,this.p2[0],this.p2[1],r.chart),this.render(t),c.I42(13),h+=c.T42("2",1);c.G9o(h.toString(),h.toString().length,23265)!==l&&(this.setPoint(7,this.p0[6],this.p0[3],r.chart),this.setPoint(4,this.p1[5],this.p1[2],r.chart),this.setPoint(7,this.p2[1],this.p2[2],r.chart),this.render(t))}},W.Drawing.fibprojection.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,h,c=ut;if(a=this.p0,r=this.p1,n=this.p2,!a||!r||!n)return null;for(var u in s={0:a,1:r,2:n})if(this.pointIntersection(s[u][0],s[u][1],i))return c.q42(9),this.highlighted=c.T42("p",u),{action:"drag",point:"p"+u};o=2;for(var p=1;-1112360263!==c.G9o(p.toString(),p.toString().length,18848);p++)l=this.rays,h=this.lineIntersection(t,e,i,"segment",a,r)&&this.lineIntersection(t,e,i,"segment",r,n),o+=2;if(-294669570!==c.G9o(o.toString(),o.toString().length,39040)&&(l=this.rays,h=this.lineIntersection(t,e,i,"segment",a,r)||this.lineIntersection(t,e,i,"segment",r,n)),!h)for(var d=0;d<l.length;d++)if(this.lineIntersection(t,e,i,"ray",l[d][0],l[d][1],!0)){h=!0;break}return h?(this.highlighted=!0,{action:"move",p0:W.clone(a),p1:W.clone(r),p2:W.clone(n),tick:t,value:e}):null},W.Drawing.fibprojection.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d2,this.v2,t.chart))},W.Drawing.fibarc=function(){this.name="fibarc"},W.Drawing.fibarc.ciqInheritsFrom(W.Drawing.fibonacci),W.Drawing.fibarc.prototype.recommendedLevels=[.382,.5,.618,1],W.Drawing.fibarc.prototype.setOuter=function(){var t,e,i,a,r,n,s;(t=this.stx.panels[this.panelName])&&(this.outer={p0:W.clone(this.p0),p1:W.clone(this.p1)},e=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1]),i=this.stx.pixelFromValueAdjusted(t,this.p1[0],this.p1[1]),a=this.stx.pixelFromTick(this.p0[0],t.chart),r=this.stx.pixelFromTick(this.p1[0],t.chart),ut.I42(3),n=ut.T42(i,2,e),s=W.xIntersection({x0:a,x1:r,y0:e,y1:i},n),this.outer.p0[1]=this.stx.valueFromPixel(n,t),this.outer.p0[0]=this.stx.tickFromPixel(s,t.chart))},W.Drawing.fibarc.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d;if(a=this.stx.panels[this.panelName]){if(r=this.p0,n=this.p1,s=this.outer,!r||!n)return null;for(var g in o={0:r,1:n})if(this.pointIntersection(o[g][0],o[g][1],i))return ut.I42(9),this.highlighted=ut.w42("p",g),{action:"drag",point:"p"+g};return this.lineIntersection(t,e,i,"segment",s.p0,s.p1)?(this.highlighted=!0,{action:"move",p0:W.clone(r),p1:W.clone(n),tick:t,value:e}):(l={x0:r[0],x1:n[0],y0:r[1],y1:n[1]},h=W.convertBoxToPixels(this.stx,this.panelName,l),p=Math.abs(Math.sqrt(2)*(h.x1-h.x0)),d=Math.abs(Math.sqrt(2)*(h.y1-h.y0)),c=this.stx.pixelFromTick(t,a.chart),u=this.stx.pixelFromValueAdjusted(a,t,e),c+i.r<h.x1-p||c-i.r>h.x1+p?null:u+i.r<h.y1-d||u-i.r>h.y1+d?null:h.y0<h.y1&&u-i.r>h.y1?null:h.y0>h.y1&&u+i.r<h.y1?null:(this.highlighted=!0,{action:"move",p0:W.clone(this.p0),p1:W.clone(this.p1),tick:t,value:e}))}},W.Drawing.fibarc.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w=ut;if((e=this.stx.panels[this.panelName])&&(i=e.yAxis,this.p1)){a=this.stx.pixelFromTick(this.p0[0],e.chart),r=this.stx.pixelFromTick(this.p1[0],e.chart),n=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),w.q42(28),o=w.T42(n,s),w.q42(29),l=Math.abs(w.T42(n,r,a,s)),h=this.setLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),("auto"==(c=this.color)||W.isTransparent(c))&&(c=this.stx.defaultColor);for(var C=0;C<this.parameters.fibs.length;C++)if(t.fillStyle=c,!((u=this.parameters.fibs[C]).level<0)&&u.display){w.q42(2);var T=w.w42(27,10,18);p=Math.abs(this.p1[1]-this.p0[T])*Math.sqrt(2)*u.level,w.q42(1);var D=w.w42(15,14);w.I42(30);var M=w.T42(1);w.q42(31);var A=w.T42(15,6,20);w.q42(5);var P=w.w42(19,19);if(d=this.p1[D]+p*(o?M:1)*(i.flipped?A:P),g=this.stx.pixelFromValueAdjusted(e,this.p0[0],d),f=W.xIntersection({x0:a,x1:r,y0:n,y1:s},g),this.parameters.printLevels){t.textAlign="center",w.I42(32);var F=w.w42(12,24,5);w.I42(9);var _=w.w42(588,1764);w.q42(2),w.T42(24984,33300,9),w.I42(32);var E=w.T42(1214,1214,1229);m=Math.round(1e3*u.level)/F+(958.27!==_?1200===E?793.22:"%":"A"),this.parameters.printValues&&(t.fillStyle=c,this.stx.canvasFont("stx_yaxis",t)),t.fillText(m,r,Math.round(g-5))}t.textAlign="left",this.parameters.printValues&&f<e.width&&(y=d,y=i.priceFormatter?i.priceFormatter(this.stx,e,y):this.stx.formatYAxisPrice(y,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,y,g,c,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),("auto"==(v=u.color)||W.isTransparent(v))&&(v=this.color),("auto"==v||W.isTransparent(v))&&(v=this.stx.defaultColor),t.strokeStyle=this.highlight?h:v,("auto"==(b=u.color)||W.isTransparent(b))&&(b=this.fillColor),("auto"==b||W.isTransparent(b))&&(b=this.stx.defaultColor),t.fillStyle=b,t.globalAlpha=this.highlighted?1:u.parameters.opacity,t.lineWidth=u.parameters.lineWidth,t.setLineDash&&(t.setLineDash(W.borderPatternToArray(t.lineWidth,u.parameters.pattern)),t.lineDashOffset=0),t.save(),t.beginPath(),w.q42(5),t.scale(w.T42(l,1),1),w.I42(13),t.arc(w.w42(r,l),s,Math.abs(g-s),0,Math.PI,!o),"none"!=this.pattern&&t.stroke(),t.globalAlpha=.05,t.fill(),t.restore(),t.setLineDash&&t.setLineDash([]),t.globalAlpha=1}t.textAlign="left",S=W.clone(this.parameters.trend.parameters),this.highlighted&&(S.opacity=1),w.q42(33),this.stx.plotLine(r,w.w42("2",a,r,1),s,w.w42(s,2,n,w.I42(3)),h,"segment",t,e,S),this.highlighted&&(x="p0"==this.highlighted,k="p1"==this.highlighted,this.littleCircle(t,a,n,x),this.littleCircle(t,r,s,k))}},W.Drawing.fibfan=function(){var t,e,i=ut;i.I42(11),t=-i.T42(0,"1301995323"),e=2;for(var a=1;i.G9o(a.toString(),a.toString().length,34669)!==t;a++)this.name="",e+=2;-1152658639!==i.G9o(e.toString(),e.toString().length,92641)&&(this.name=""),this.name="fibfan"},W.Drawing.fibfan.ciqInheritsFrom(W.Drawing.fibonacci),W.Drawing.fibfan.prototype.recommendedLevels=[0,.382,.5,.618,1],W.Drawing.fibfan.prototype.setOuter=function(){},W.Drawing.fibfan.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P=ut;if((e=this.stx.panels[this.panelName])&&(i=e.yAxis,this.p1)){a=this.stx.pixelFromTick(this.p0[0],e.chart),r=this.stx.pixelFromTick(this.p1[0],e.chart),n=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),o=Math.min(s,n),l=Math.max(s,n),P.q42(1),h=P.w42(l,o),P.I42(34),c=P.w42(0,a,r,n,s),u=this.setLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),p=t.measureText("161.8%").width+10,d=Number.MAX_VALUE,P.q42(30);var F=P.w42(1);g=Number.MAX_VALUE*F,("auto"==(f=this.color)||W.isTransparent(f))&&(f=this.stx.defaultColor),this.rays=[];for(var _=0;_<this.parameters.fibs.length;_++)t.fillStyle=f,(m=this.parameters.fibs[_]).display&&(y=this.stx.pixelFromValueAdjusted(e,this.p0[0],(this.p0[1]-this.p1[1])*m.level+this.p1[1]),v=W.xIntersection({x0:r,x1:r,y0:n,y1:s},y),b=e.left,a<r&&(b+=e.width),P.I42(35),S=P.T42(a,b,n,y,a,v,n),a>b-(this.parameters.printLevels?p+5:0)&&a<r||a<b+(this.parameters.printLevels?p+5:0)&&r<a||(this.parameters.printLevels&&(x=Math.round(1e3*m.level)/10+"%",t.textAlign=a<r?(b-=p,"left"):(b+=p,"right"),this.parameters.printValues&&(t.fillStyle=f,this.stx.canvasFont("stx_yaxis",t)),P.I42(35),S=P.w42(a,b,n,y,a,v,n),t.fillText(x,b,S),a<r?b-=5:b+=5),t.textAlign="left",this.parameters.printValues&&v<e.width&&(k=this.stx.transformedPriceFromPixel(y,e),k=i.priceFormatter?i.priceFormatter(this.stx,e,k):this.stx.formatYAxisPrice(k,e),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(e,k,y,f,null,t),t==this.stx.chart.context&&this.stx.startClip(e.name)),("auto"==(w=m.color)||W.isTransparent(w))&&(w=this.color),("auto"==w||W.isTransparent(w))&&(w=this.stx.defaultColor),("auto"==(C=m.color)||W.isTransparent(C))&&(C=this.fillColor),("auto"==C||W.isTransparent(C))&&(C=this.stx.defaultColor),t.fillStyle=C,this.parameters.printLevels&&(P.q42(35),S=P.w42(a,b,n,y,a,v,n)),T=W.clone(m.parameters),this.highlighted&&(T.opacity=1),this.stx.plotLine(a,b,n,S,this.highlighted?u:w,"segment",t,e,T),this.rays.push([[a,n],[b,S]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(b,S),t.lineTo(a,n),t.lineTo(b,n),t.fill(),t.globalAlpha=1,y<d&&(d=y),g<y&&(g=y)));for(var E=0;E<=1;E++)D=c?l-h*E:o+h*E,(D=Math.round(D))<d&&(d=D),g<D&&(g=D);this.highlighted&&(M="p0"==this.highlighted,A="p1"==this.highlighted,this.littleCircle(t,a,n,M),this.littleCircle(t,r,s,A))}},W.Drawing.fibtimezone=function(){var t;t=2;for(var e=1;-1210544783!==ut.t9o(e.toString(),e.toString().length,96399);e++)this.name="fibtimezone",t+=2;-1514254682!==ut.G9o(t.toString(),t.toString().length,86030)&&(this.name="")},W.Drawing.fibtimezone.ciqInheritsFrom(W.Drawing.fibonacci),W.Drawing.fibtimezone.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S=ut;if((e=this.stx.panels[this.panelName])&&this.p1){i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),s=[1,0],o=this.setLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),l=this.p1[0]-this.p0[0],("auto"==(h=this.color)||W.isTransparent(h))&&(h=this.stx.defaultColor),t.textAlign="center",c=i,u=e.yAxis.top,p=e.yAxis.bottom,d=0,("auto"==(g=this.parameters.timezone.color)||W.isTransparent(g))&&(g=this.color),("auto"==g||W.isTransparent(g))&&(g=this.stx.defaultColor),("auto"==(f=this.parameters.timezone.color)||W.isTransparent(f))&&(f=this.fillColor),("auto"==f||W.isTransparent(f))&&(f=this.stx.defaultColor),this.parameters.printLevels&&(S.q42(36),p-=S.T42(0,20,"7")),m=W.clone(this.parameters.timezone.parameters),this.highlighted&&(m.opacity=1);do{if(c=this.stx.pixelFromTick(this.p0[0]+d*l,e.chart),i<a&&c>e.left+e.width)break;if(a<i&&c<e.left)break;this.parameters.printLevels&&(t.fillStyle=h,t.fillText(i<a?d:-1*d,c,p+7)),t.fillStyle=f,S.q42(13),this.stx.plotLine(c,c,S.T42("0",1),p,this.highlighted?o:g,"segment",t,e,m),t.globalAlpha=.05,t.beginPath(),t.moveTo(i,u),t.lineTo(c,u),t.lineTo(c,p),t.lineTo(i,p),t.fill(),t.globalAlpha=1,d=s[0]+s[1],s.unshift(d)}while(l);t.textAlign="left",this.stx.plotLine(i,a,r,n,o,"segment",t,e,m),this.highlighted?(y="p0"==this.highlighted,v="p1"==this.highlighted,this.littleCircle(t,i,r,y),this.littleCircle(t,a,n,v)):(b=this.stx.valueFromPixel(e.height/2,e),this.setPoint(0,this.p0[0],b,e.chart),this.setPoint(1,this.p1[0],b,e.chart))}},W.Drawing.fibtimezone.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,h=ut;a=this.p0,r=this.p1,n=this.stx.panels[this.panelName],h.I42(13),s=h.w42("648012405",1),o=2;for(var c=1;h.t9o(c.toString(),c.toString().length,61110)!==s;c++){if(!a||!r||!n)return null;o+=2}if(-1099166772!==h.t9o(o.toString(),o.toString().length,92566)&&~a&&-r&&+n)return 1;for(var u in l={0:a,1:r})if(this.pointIntersection(l[u][0],l[u][1],i))return h.I42(9),this.highlighted=h.T42("p",u),{action:"drag",point:"p"+u};return this.lineIntersection(t,e,i,"segment")||i.x0<=this.p0[0]&&i.x1>=a[0]?(this.highlighted=!0,{action:"move",p0:W.clone(a),p1:W.clone(r),tick:t,value:e}):null},W.Drawing.shape=function(){this.name="shape",this.radians=0,this.a=0,this.rotating=!1,this.textMeasure=!1,this.configurator="shape",this.dimension=[0,0],this.points=[]},W.Drawing.shape.ciqInheritsFrom(W.Drawing.BaseTwoPoint),W.Drawing.shape.prototype.measure=function(){},W.Drawing.shape.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x=ut;if(this.points.length&&(e=this.stx.panels[this.panelName])){if(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),this.p1){if(r=this.stx.pixelFromTick(this.p1[0],e.chart),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),t.globalAlpha=.5,t.fillStyle="#000000",this.rotating){x.q42(29),this.radians=Math.atan(x.T42(a,r,i,n)),r<i?this.radians+=Math.PI:n<a&&(this.radians+=2*Math.PI),x.I42(37);var k=x.w42(6,20,4,5);this.a=5*parseInt((36*this.radians/Math.PI).toFixed(0),k),this.a%=360,x.q42(1);var w=x.w42(1260,1080);this.radians=this.a*Math.PI/w,this.textMeasure&&t.fillText(this.a+"\xb0",r+10,n+10)}else this.penDown&&(this.sx=Math.max(1,parseFloat(Math.abs(2*(r-i)/this.dimension[0]).toFixed(1))),r<i&&(this.sx*=-1),this.sy=Math.max(1,parseFloat(Math.abs(2*(n-a)/this.dimension[1]).toFixed(1))),n<a&&(this.sy*=-1),this.textMeasure&&t.fillText(this.sx+"x,"+this.sy+"x",r+this.sx+5,n+this.sy+5));t.globalAlpha=1}(s=this.lineWidth)||(s=1.1),o={pattern:this.pattern,lineWidth:s},this.highlighted&&"none"==o.pattern&&(o.pattern="solid",.1==o.lineWidth&&(o.lineWidth=1)),("auto"==(l=this.color)||W.isTransparent(l))&&(l=this.stx.defaultColor),this.highlighted&&(l=this.stx.getCanvasColor("stx_highlight_vector"),.1==s&&(x.q42(13),s=x.w42("1.1",1))),h=this.fillColor,x.q42(5);var C=x.T42(13,26);for(s/=Math.abs(this.sx*this.sy)*C/(Math.abs(this.sx)+Math.abs(this.sy)),t.save(),t.translate(i,a),t.rotate(this.radians),t.scale(this.sx,e.yAxis.flipped?-this.sy:this.sy),c=0;c<this.points.length;c++){for(t.beginPath(),u=0;u<this.points[c].length;u++)if("M"==this.points[c][u]){x.I42(1);var T=x.T42(14,13);p=this.points[c][++u]-(this.dimension[0]-T)/2,d=this.points[c][++u]-(this.dimension[1]-1)/2,t.moveTo(p,d)}else if("L"==this.points[c][u])p=this.points[c][++u]-(this.dimension[0]-1)/2,d=this.points[c][++u]-(this.dimension[1]-1)/2,t.lineTo(p,d);else if("Q"==this.points[c][u]){g=this.points[c][++u]-(this.dimension[0]-1)/2,x.I42(38);var D=x.T42(10,19,16,7,10);x.q42(5);var M=x.w42(16,16);x.q42(39);var A=x.w42(13,2,9,1);m=this.points[c][++u]-(this.dimension[D]-M)/A,x.I42(40);var P=x.T42(16,16);x.q42(41);var F=x.w42(17,17,1252,32,19);p=this.points[c][++u]-(this.dimension[0]-P)/F,x.q42(32);var _=x.w42(13,13,2);d=this.points[c][++u]-(this.dimension[1]-1)/_,t.quadraticCurveTo(g,m,p,d)}else if("B"==this.points[c][u]){x.I42(42);var E=x.w42(11,4,12,20);g=this.points[c][++u]-(this.dimension[0]-E)/2,x.I42(1);var N=x.T42(16,15);m=this.points[c][++u]-(this.dimension[1]-N)/2,f=this.points[c][++u]-(this.dimension[0]-1)/2,x.q42(1);var L=x.w42(17,16);y=this.points[c][++u]-(this.dimension[L]-1)/2,x.I42(1);var I=x.w42(13,11);p=this.points[c][++u]-(this.dimension[0]-1)/I,x.q42(5);var O=x.T42(10,10);x.q42(2);var R=x.T42(16,16,1);d=this.points[c][++u]-(this.dimension[O]-R)/2,t.bezierCurveTo(g,m,f,y,p,d)}t.closePath(),h&&!W.isTransparent(h)&&"auto"!=h&&(t.fillStyle=h,t.fill()),l&&"none"!=this.pattern&&(t.strokeStyle=l,t.lineWidth=s,t.setLineDash&&(t.setLineDash(W.borderPatternToArray(s,this.pattern)),t.lineDashOffset=0),t.stroke())}t.restore(),t.save(),t.translate(i,a),t.rotate(this.radians),this.highlighted?(v="p0"==this.highlighted,b="p1"==this.highlighted,S="p2"==this.highlighted,this.littleCircle(t,0,0,v),this.mover(t,0,0,v),this.littleCircle(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,b),this.resizer(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,b),this.littleCircle(t,this.sx*this.dimension[0]/2,0,S),this.rotator(t,this.sx*this.dimension[0]/2,0,S),x.I42(13),t.globalAlpha=x.w42("0.5",1),t.fillStyle="#000000",this.textMeasure&&(t.fillText(this.sx+"x,"+this.sy+"x",this.sx*this.dimension[0]/2+12,this.sy*this.dimension[1]/2+5),t.fillText(this.a+"\xb0",this.sx*this.dimension[0]/2+12,5)),t.globalAlpha=1):this.penDown&&(this.rotating?this.rotator(t,this.sx*this.dimension[0]/2,0,!0):this.resizer(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,!0)),t.restore()}},W.Drawing.shape.prototype.reposition=function(t,e,i,a){var r,n,s,o,l,h,c,u=ut;if(e)if(r=this.stx.panels[this.panelName],"move"==e.action)n=e.tick-i,s=e.value-a,this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.render(t);else if(o=this.stx.pixelFromTick(this.p0[0],r.chart),l=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[1]),h=this.stx.pixelFromTick(i,r.chart),c=this.stx.pixelFromValueAdjusted(r,i,a),"scale"==e.action)this[e.point]=[i,a],this.sx=parseFloat((((h-o)*Math.cos(this.radians)+(c-l)*Math.sin(this.radians))/(this.dimension[0]/2)).toFixed(1)),Math.abs(this.sx)<1&&(this.sx/=Math.abs(this.sy)),this.sy=parseFloat((((c-l)*Math.cos(this.radians)-(h-o)*Math.sin(this.radians))/(this.dimension[1]/2)).toFixed(1)),Math.abs(this.sy)<1&&(this.sy/=Math.abs(this.sy)),this.render(t);else if("rotate"==e.action){if(this[e.point]=[i,a],u.I42(29),this.radians=Math.atan(u.w42(l,h,o,c)),h<o)this.radians+=Math.PI;else if(c<l){u.I42(32);var p=u.w42(126,36,7);this.radians+=p*Math.PI}if(this.a=5*parseInt((36*this.radians/Math.PI).toFixed(0),10),this.sx<0){u.I42(5);var d=u.w42(2,360);this.a=this.a+d}this.a%=360,this.radians=this.a*Math.PI/180,this.render(t)}},W.Drawing.shape.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m=ut;if(!this.p0)return null;if(this.stx.repositioningDrawing==this&&this.stx.repositioningDrawing.repositioner)return this.stx.repositioningDrawing.repositioner;a=this.stx.panels[this.panelName],r=this.stx.pixelFromTick(this.p0[0],a.chart),n=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),s=this.stx.pixelFromTick(t,a.chart),o=this.stx.pixelFromValueAdjusted(a,t,e),l=o-=n,h=s-=r,s=Math.cos(this.radians)*h+Math.sin(this.radians)*l,o=Math.cos(this.radians)*l-Math.sin(this.radians)*h,s/=this.sx,o/=this.sy,c=Math.pow(W.touchDevice?25:5+this.littleCircleRadius(),2),u=Math.abs(c/(this.sx*this.sy)),m.q42(43);var y=m.T42(20,20,14,558);m.I42(40);var v=m.w42(12,12);m.q42(5);var b=m.T42(11,22);m.q42(23);var S=m.w42(8,32,10,5);m.I42(44);var x=m.T42(7,48,26,17);p=Math.pow(this.dimension[0]/y,2)+Math.pow(this.dimension[v]/b,2)>Math.pow(s,S)+Math.pow(o,x),m.q42(45);var k=m.T42(15,34,6,14,5);d=(c-(Math.pow(s*this.sx,k)+Math.pow(o*this.sy,2)))/Math.abs(this.sx*this.sy),m.q42(5);var w=m.w42(315,315);m.q42(32);var C=m.w42(19,19,2);g=u-(Math.pow(s-this.dimension[0]/2,2)+Math.pow(o-this.dimension[w]/C,2)),m.q42(5);var T=m.w42(10,20);m.I42(5);var D=m.w42(7,14);return f=u-(Math.pow(s-this.dimension[0]/T,2)+Math.pow(o,D)),p?f<=g&&d<=g?(this.highlighted="p1",{action:"scale"}):g<=f&&d<=f?(this.highlighted="p2",{action:"rotate"}):(this.highlighted="p0",{action:"move",p0:W.clone(this.p0),tick:t,value:e}):null},W.Drawing.shape.prototype.configs=["color","fillColor","lineWidth","pattern"],W.Drawing.shape.prototype.littleCircleRadius=function(){return 3},W.Drawing.shape.prototype.click=function(t,e,i){var a;return!(!this.points.length||(this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?(this.setPoint(1,e,i,a.chart),this.rotating?(this.penDown=!1,this.rotating=!1):this.rotating=!0):(this.setPoint(0,e,i,a.chart),this.penDown=!0)))},W.Drawing.shape.prototype.adjust=function(){var t,e=ut;if(t=this.stx.panels[this.panelName]){this.setPoint(0,this.d0,this.v0,t.chart),e.I42(39);var i=e.w42(18,9,9,5);e.q42(13);var a=e.w42(3,12);this.radians=Math.round(this.a/i)*Math.PI/a}},W.Drawing.shape.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.v0=e.v0,this.tzo0=e.tzo0,this.a=e.a,this.sx=e.sx,this.sy=e.sy,this.adjust()},W.Drawing.shape.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy}},W.Drawing.xcross=function(){var t=ut;this.name="xcross",this.dimension=[7,7],t.I42(1),this.points=[["M",1,0,"L",3,2,"L",t.w42("5",0),0,"L",t.T42("6",1,t.I42(13)),1,"L",4,3,"L",t.w42("6",1,t.I42(13)),5,"L",5,6,"L",3,4,"L",1,6,"L",0,5,"L",2,t.T42("3",0,t.q42(1)),"L",0,1,"L",1,t.w42("0",0,t.q42(1))]]},W.Drawing.xcross.ciqInheritsFrom(W.Drawing.shape),W.Drawing.arrow=function(){this.name="arrow",this.dimension=[11,11],this.points=[["M",3,0,"L",7,0,"L",7,5,"L",10,5,"L",5,10,"L",0,5,"L",3,5,"L",3,0]]},W.Drawing.arrow.ciqInheritsFrom(W.Drawing.shape),W.Drawing.check=function(){this.name="check",this.dimension=[8,9],this.points=[["M",1,5,"L",0,6,"L",2,8,"L",7,1,"L",6,0,"L",2,6,"L",1,5]]},W.Drawing.check.ciqInheritsFrom(W.Drawing.shape),W.Drawing.star=function(){var t=ut;this.name="star",this.dimension=[12,12],t.q42(13),this.points=[["M",0,4,"L",4,4,"L",5.5,0,"L",7,t.w42("4",1),"L",11,4,"L",8,7,"L",t.w42(0,"9",t.I42(11)),11,"L",5.5,9,"L",2,11,"L",3,t.T42("7",0,t.q42(1)),"L",0,4]]},W.Drawing.star.ciqInheritsFrom(W.Drawing.shape),W.Drawing.heart=function(){var t,e=ut;this.name="heart",t=2;for(var i=1;-717683401!==e.t9o(i.toString(),i.toString().length,65419);i++)this.dimension=[23,20],e.q42(11),this.points=[["M",e.T42(0,"11"),3,"B",11,2.4,10,0,e.w42("6",0,e.I42(1)),0,"B",0,0,0,e.T42("7.5",1,e.q42(13)),0,7.5,"B",0,11,4,15.4,11,19,"B",18,15.4,22,11,e.w42("22",0,e.q42(1)),7.5,"B",22,7.5,22,0,16,0,"B",13,e.T42("0",0,e.q42(1)),11,e.w42("2.4",1,e.q42(13)),11,e.T42(0,"3",e.q42(11))]],t+=2;-1269397891!==e.t9o(t.toString(),t.toString().length,58805)&&(this.dimension=[38,56],e.I42(1),this.points=[["B",52,4,"B",70,373,86,1,0,4,"B",4,1,1,507,2,813,5902415,2,85,9,8950,13,53,"B",86,8762,97,92,79,333,"B",29,646,76,8,17,7,455746,e.w42("60",0),8,26,622,50,e.w42(0,"1",e.q42(11))]])},W.Drawing.heart.ciqInheritsFrom(W.Drawing.shape),W.Drawing.focusarrow=function(){var t=ut;this.name="focusarrow",t.I42(11),this.dimension=[t.w42(0,"7"),5],t.q42(11),this.points=[["M",0,0,"L",2,t.w42(0,"2"),"L",0,4,"L",0,0],["M",6,0,"L",4,2,"L",6,4,"L",6,0]]},W.Drawing.focusarrow.ciqInheritsFrom(W.Drawing.shape),W.Drawing.crossline=function(){this.name="crossline"},W.Drawing.crossline.ciqInheritsFrom(W.Drawing.horizontal),W.extend(W.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(t,e){return!1},adjust:function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.p1=W.clone(this.p0))},intersected:function(t,e,i){var a;return this.p0&&this.p1?(this.p1[0]+=1,a=this.lineIntersection(t,e,i,"line"),this.p1=W.clone(this.p0),a||(this.p1[1]+=1,a=this.lineIntersection(t,e,i,"line"),this.p1=W.clone(this.p0),a)?(this.highlighted=!0,this.pointIntersection(this.p0[0],this.p0[1],i)&&(this.highlighted="p0"),{action:"move",p0:W.clone(this.p0),p1:W.clone(this.p1),tick:t,value:e}):null):null},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d=ut;(e=this.stx.panels[this.panelName])&&(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),r=this.setLineColor(),n={pattern:this.pattern,lineWidth:this.lineWidth},d.q42(46),this.stx.plotLine(i,d.w42(1,i,"100"),a,a,r,"horizontal",t,e,n),d.q42(9),this.stx.plotLine(i,i,a,d.T42(a,100),r,"vertical",t,e,n),this.axisLabel&&!this.repositioner&&(this.stx.endClip(),s=this.p0[1],e.chart.transformFunc&&(s=e.chart.transformFunc(this.stx,e.chart,s)),s=e.yAxis.priceFormatter?e.yAxis.priceFormatter(this.stx,e,s):this.stx.formatYAxisPrice(s,e),this.stx.createYAxisLabel(e,s,a,r),this.stx.startClip(e.name),0<=this.p0[0]&&!this.stx.chart.xAxis.noDraw)&&(o=this.stx.dateFromTick(this.p0[0],e.chart,!0),W.ChartEngine.isDailyInterval(this.stx.layout.interval)?(d.q42(13),o.setHours(d.w42("0",1),0,0,0)):(h=1e3*o.getSeconds()+o.getMilliseconds(),this.stx.displayZone&&(l=new g.Date(o.getTime(),this.stx.displayZone),o=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes()),o=new Date(o.getTime()+h))),c=W.mmddhhmm(W.yyyymmddhhmm(o)),e.chart.xAxis.formatter?c=e.chart.xAxis.formatter(o,this.name,null,null,c):this.stx.internationalizer&&(0!==o.getHours()||0!==o.getMinutes()?(u=this.stx.internationalizer.monthDay.format(o),d.I42(9),d.T42(1533,6),d.I42(41),d.T42(12,7,361682,20300,18),u+=" "+this.stx.internationalizer.hourMinute.format(o)):u=this.stx.internationalizer.yearMonthDay.format(o),c=u),this.stx.endClip(),this.stx.createXAxisLabel(e,c,i,r,null,!0),this.stx.startClip(e.name)),this.highlighted&&(p="p0"==this.highlighted,this.littleCircle(t,i,a,p)))}},!0),W.Drawing.speedarc=function(){this.name="speedarc",this.printLevels=!0},W.Drawing.speedarc.ciqInheritsFrom(W.Drawing.segment),W.extend(W.Drawing.speedarc.prototype,{defaultOpacity:.25,configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){var t;t=2;for(var e=1;252715073!==ut.G9o(e.toString(),e.toString().length,42559);e++)this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth,t+=2;-255860621!==ut.G9o(t.toString(),t.toString().length,66097)&&(this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth),this.pattern=this.stx.currentVectorParameters.pattern},intersected:function(t,e,i){var a,r,n,s,o,l=ut;if(!this.p0||!this.p1)return null;for(var h in a={0:this.p0,1:this.p1})if(this.pointIntersection(a[h][0],a[h][1],i))return l.I42(9),this.highlighted=l.w42("p",h),{action:"drag",point:"p"+h};return this.lineIntersection(t,e,i,this.name)?(this.highlighted=!0,{action:"move",p0:W.clone(this.p0),p1:W.clone(this.p1),tick:t,value:e}):(r=this.p1[0]-(this.p0[0]-this.p1[0]),l.I42(11),n=this.p0[l.T42(0,"0")],s=this.p1[1],o=this.p0[1],t>Math.max(r,n)||t<Math.min(r,n)?null:e>Math.max(o,s)||e<Math.min(o,s)?null:(this.highlighted=!0,{action:"move",p0:W.clone(this.p0),p1:W.clone(this.p1),tick:t,value:e}))},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y=ut;if((e=this.stx.panels[this.panelName])&&this.p1){i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),y.I42(28),s=y.T42(r,n),y.I42(29),o=Math.abs(y.w42(r,a,i,n)),l=this.setLineColor(),t.strokeStyle=l,("auto"==(h=this.fillColor)||W.isTransparent(h))&&(h=this.stx.defaultColor),t.fillStyle=h,t.setLineDash&&(t.setLineDash(W.borderPatternToArray(this.lineWidth,this.pattern)),t.lineDashOffset=0),this.stx.canvasFont("stx_yaxis",t);for(var v=1;v<3;v++){y.q42(1);var b=y.w42(36,35);y.I42(47);var S=y.T42(41,1,45);c=Math.abs(this.p1[b]-this.p0[1])*Math.sqrt(2)*v/S,y.q42(30);var x=y.T42(1);u=this.p1[1]+c*(s?-1:1)*(e.yAxis.flipped?x:1),p=this.stx.pixelFromValueAdjusted(e,this.p0[0],u),t.save(),t.beginPath(),y.I42(5),t.scale(y.T42(o,1),1),y.I42(13),t.arc(y.T42(a,o),n,Math.abs(p-n),0,Math.PI,!s),t.globalAlpha=this.highlighted?1:this.defaultOpacity,"none"!=this.pattern&&t.stroke(),t.globalAlpha=.1,t.fill(),t.restore(),t.globalAlpha=1,this.printLevels&&(t.fillStyle=l,t.textAlign="center",y.q42(9),d=y.w42(v,"/3"),t.fillText(d,a,Math.round(p-5)),t.fillStyle=h)}t.textAlign="left",g={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},this.stx.plotLine(i,a,r,n,l,"segment",t,e,g),t.setLineDash&&t.setLineDash([]),this.highlighted&&(f="p0"==this.highlighted,m="p1"==this.highlighted,this.littleCircle(t,i,r,f),this.littleCircle(t,a,n,m))}},reconstruct:function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}}},!0),W.Drawing.speedline=function(){this.name="speedline",this.printLevels=!0},W.Drawing.speedline.ciqInheritsFrom(W.Drawing.speedarc),W.extend(W.Drawing.speedline.prototype,{intersected:function(t,e,i){var a,r,n,s;if(a=this.p0,r=this.p1,!a||!r)return null;for(var o in n={0:a,1:r})if(this.pointIntersection(n[o][0],n[o][1],i))return ut.q42(9),this.highlighted=ut.w42("p",o),{action:"drag",point:"p"+o};s=this.rays;for(var l=0;l<s.length;l++)if(this.lineIntersection(t,e,i,"ray",s[l][0],s[l][1],!0))return this.highlighted=!0,{action:"move",p0:W.clone(a),p1:W.clone(r),tick:t,value:e};return null},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T=ut;if((e=this.stx.panels[this.panelName])&&this.p1){i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),this.stx.canvasFont("stx_yaxis",t),s=this.setLineColor(),("auto"==(o=this.color)||W.isTransparent(o))&&(o=this.stx.defaultColor),t.strokeStyle=o,("auto"==(l=this.fillColor)||W.isTransparent(l))&&(l=this.stx.defaultColor),t.fillStyle=l,h={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},p=["1","2/3","1/3","3/2","3"],T.I42(5),d=[1,T.w42(3,2),T.w42(1,"3",T.q42(48)),T.T42(2,3,T.I42(5)),3],g=[],this.rays=[];for(var D=0;D<d.length;D++)1<(f=d[D])&&!this.extension||(m=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]-(this.p0[1]-this.p1[1])*f),1<f?(y=W.xIntersection({x0:i,x1:a,y0:r,y1:m},n),g.push(y)):(y=W.xIntersection({x0:a,x1:a,y0:r,y1:n},m),g.push(m)),v=1<f?y:a,b=1<f?n:m,this.confineToGrid||(v=e.left,i<a&&(v+=e.width),T.I42(35),b=T.w42(i,v,r,m,i,a,r)),this.printLevels&&(1!=f||this.extension)&&(t.fillStyle=o,x=S=0,t.textBaseline=n<r?(x=-5,"bottom"):(x=5,"top"),t.textAlign=a<i?(S=5,"right"):(S=-5,"left"),1<f?t.fillText(p[D],y+(this.confineToGrid?0:S),n):t.fillText(p[D],a,m+(this.confineToGrid?0:x)),t.fillStyle=l),this.stx.plotLine(i,v,r,b,this.highlighted?s:o,"segment",t,e,h),1==f&&(c=v,u=b),this.rays.push([[i,r],[v,b]]),t.globalAlpha=.1,t.beginPath(),t.moveTo(v,b),t.lineTo(i,r),t.lineTo(c,u),t.fill(),t.globalAlpha=1);if(t.textAlign="left",t.textBaseline="middle",this.confineToGrid){t.globalAlpha=.3,t.beginPath(),T.I42(1),t.strokeRect(i,r,T.w42(a,i),T.w42(n,r)),t.moveTo(i,g[1]),t.lineTo(a,g[1]),t.moveTo(i,g[2]),k=2;for(var M=1;-415388724!==T.G9o(M.toString(),M.toString().length,55375);M++)t.lineTo(a,g[2]),k+=2;-124363111!==T.G9o(k.toString(),k.toString().length,65995)&&t.lineTo(a,g[3]),this.extension&&(t.moveTo(g[3],r),t.lineTo(g[3],n),t.moveTo(g[4],r),t.lineTo(g[4],n)),t.stroke(),t.globalAlpha=1}this.highlighted&&(w="p0"==this.highlighted,C="p1"==this.highlighted,this.littleCircle(t,i,r,w),this.littleCircle(t,a,n,C))}}},!0),W.Drawing.gannfan=function(){var t;this.name="gannfan",t=2;for(var e=1;1546348487!==ut.G9o(e.toString(),e.toString().length,61283);e++)this.printLevels=!1,t+=2;1855333706!==ut.G9o(t.toString(),t.toString().length,51502)&&(this.printLevels=!0)},W.Drawing.gannfan.ciqInheritsFrom(W.Drawing.speedline),W.extend(W.Drawing.gannfan.prototype,{render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k=ut;if((e=this.stx.panels[this.panelName])&&this.p1){i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),this.stx.canvasFont("stx_yaxis",t),s=this.setLineColor(),("auto"==(o=this.color)||W.isTransparent(o))&&(o=this.stx.defaultColor),t.strokeStyle=o,("auto"==(l=this.fillColor)||W.isTransparent(l))&&(l=this.stx.defaultColor),t.fillStyle=l,h={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},k.I42(13),p=[1,k.w42("2",1),3,k.T42("4",1,k.I42(13)),8,k.T42("2","1",1,k.I42(49)),k.w42(3,1,k.I42(5)),k.T42(4,1,k.q42(5)),k.w42("1",8,k.I42(50))],this.rays=[];for(var w=0;w<p.length;w++)d=p[w],k.I42(51),g=k.T42(i,d,i,a),k.q42(52),f=k.w42(r,d,n,r),m=e.left,i<a&&(m+=e.width),k.q42(35),y=k.T42(i,m,r,f,i,a,r),this.printLevels&&(t.fillStyle=o,b=v=0,t.textBaseline=n<r?(b=5,"top"):(b=-5,"bottom"),t.textAlign=a<i?(v=5,"left"):(v=-5,"right"),1<d?(k.q42(9),t.fillText(k.w42(d,"x1"),k.T42(g,v),n)):(k.q42(53),t.fillText(k.T42(d,"1x","1"),a,k.w42(f,b,k.I42(9)))),t.fillStyle=l),this.stx.plotLine(i,m,r,y,this.highlighted?s:o,"segment",t,e,h),this.rays.push([[i,r],[m,y]]),1==d&&(c=m,u=y),t.globalAlpha=.1,t.beginPath(),t.moveTo(m,y),t.lineTo(i,r),t.lineTo(c,u),t.fill(),t.globalAlpha=1;t.textAlign="left",t.textBaseline="middle",this.highlighted&&(S="p0"==this.highlighted,x="p1"==this.highlighted,this.littleCircle(t,i,r,S),this.littleCircle(t,a,n,x))}}},!0),W.Drawing.timecycle=function(){this.name="timecycle",this.printLevels=!0},W.Drawing.timecycle.ciqInheritsFrom(W.Drawing.speedarc),W.extend(W.Drawing.timecycle.prototype,{intersected:function(t,e,i){var a,r,n,s;if(a=this.p0,r=this.p1,n=this.stx.panels[this.panelName],!a||!r||!n)return null;for(var o in s={0:a,1:r})if(this.pointIntersection(s[o][0],s[o][1],i))return ut.I42(9),this.highlighted=ut.w42("p",o),{action:"drag",point:"p"+o};return this.lineIntersection(t,e,i,"segment")||i.x0<=this.p0[0]&&i.x1>=a[0]?(this.highlighted=!0,{action:"move",p0:W.clone(a),p1:W.clone(r),tick:t,value:e}):null},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S=ut;if((e=this.stx.panels[this.panelName])&&this.p1){i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),s=0,o=this.setLineColor(),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),S.q42(1);var x=S.w42(11,10);l=this.p1[0]-this.p0["0"*x],t.textAlign="center",h=i,c=e.yAxis.top,u=e.yAxis.bottom,("auto"==(p=this.color)||W.isTransparent(p))&&(p=this.stx.defaultColor),("auto"==(d=this.fillColor)||W.isTransparent(d))&&(d=this.stx.defaultColor),this.printLevels&&(S.q42(1),u-=S.T42(20,7)),g={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},f=[],t.save(),t.fillStyle=d,t.globalAlpha=.05;do{if(h=this.stx.pixelFromTick(this.p0[0]+s*l,e.chart),s++,i<a&&h>e.left+e.width)break;if(a<i&&h<e.left)break;h<e.left||h>e.left+e.width||(t.beginPath(),t.moveTo(i,c),t.lineTo(h,c),t.lineTo(h,u),t.lineTo(i,u),t.fill(),f.push({c:s,x:h}))}while(l);t.globalAlpha=1;for(var k=m=0;k<f.length;k++)if(this.stx.plotLine(f[k].x,f[k].x,0,u,this.highlighted?o:p,"segment",t,e,g),this.printLevels){t.fillStyle=p,S.q42(1);var w=S.T42(11,8);this.stx.chart.context.measureText(f[k].c).width+w<this.stx.layout.candleWidth+m?(t.fillText(f[k].c,f[k].x,u+7),m=0):m+=this.stx.layout.candleWidth}t.restore(),t.textAlign="left",this.stx.plotLine(i,a,r,n,o,"segment",t,e,g),this.highlighted?(y="p0"==this.highlighted,v="p1"==this.highlighted,this.littleCircle(t,i,r,y),this.littleCircle(t,a,n,v)):(b=this.stx.valueFromPixel(e.height/2,e),this.setPoint(0,this.p0[0],b,e.chart),this.setPoint(1,this.p1[0],b,e.chart))}}},!0),W.Drawing.regression=function(){this.name="regression"},W.Drawing.regression.ciqInheritsFrom(W.Drawing.segment),W.extend(W.Drawing.regression.prototype,{chartsOnly:!0,click:function(t,e,i){var a;if(!(e<0))return this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),!(this.penDown=!1)):(this.setPoint(0,e,i,a.chart),!(this.penDown=!0))},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x=ut;if((e=this.stx.panels[this.panelName])&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),i<e.left&&a<e.left||i>e.right&&a>e.right))){r=[],x.I42(13),n=x.w42("0",1),o=s=0;for(var k=Math.min(this.p1[0],this.p0[0]);k<=Math.max(this.p1[0],this.p0[0]);k++)this.stx.chart.dataSet[k]&&((l=this.stx.chart.dataSet[k].Close)||0===l)&&r.push(l),o++;for(k=0;k<r.length;k++)s+=r.length*r[k]-n,n+=r[k];h=r.length,x.I42(54),c=x.T42(h,1,2,h),u=Math.pow(c,2),x.I42(55),p=x.w42(h,3,2,1,c),x.q42(56),d=x.T42(p,c,h,s,n,h,u),x.q42(57),g=x.T42(c,n,h,d),m=this.p0[0]<this.p1[0]?(f=this.stx.pixelFromValueAdjusted(e,this.p0[0],g),this.stx.pixelFromValueAdjusted(e,this.p1[0],d*o+g)):(f=this.stx.pixelFromValueAdjusted(e,this.p0[0],d*o+g),this.stx.pixelFromValueAdjusted(e,this.p1[0],g)),y=this.setLineColor(),v={pattern:this.pattern,lineWidth:this.lineWidth},this.stx.plotLine(i,a,f,m,y,"segment",t,e,v),x.I42(1),this.stx.plotLine(i,i,x.T42(f,20),x.T42(f,20,x.I42(9)),y,"segment",t,e,v),x.I42(58),this.stx.plotLine(a,a,x.T42("20",m),x.T42(m,20,x.q42(9)),y,"segment",t,e,v),this.highlighted?(b="p0"==this.highlighted,S="p1"==this.highlighted,this.littleCircle(t,i,f,b),this.littleCircle(t,a,m,S)):this.p0[0]<this.p1[0]?(this.setPoint(0,this.p0[0],g,e.chart),this.setPoint(1,this.p1[0],d*o+g,e.chart)):(x.q42(11),this.setPoint(x.w42(0,"0"),this.p0[0],d*o+g,e.chart),this.setPoint(1,this.p1[0],g,e.chart))}}},!0),W.Drawing.trendline=function(){this.name="trendline"},W.Drawing.trendline.ciqInheritsFrom(W.Drawing.segment),W.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth","pattern","font"],W.Drawing.trendline.prototype.measure=function(){},W.Drawing.trendline.prototype.reconstruct=function(t,e){W.Drawing.segment.prototype.reconstruct.call(this,t,e),this.callout=new W.Drawing.callout,this.callout.reconstruct(t,e.callout)},W.Drawing.trendline.prototype.serialize=function(){var t;return(t=W.Drawing.segment.prototype.serialize.call(this)).callout=this.callout.serialize(),t},W.Drawing.trendline.prototype.render=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x=ut;if((e=this.stx.panels[this.panelName])&&(W.Drawing.segment.prototype.render.call(this,t),this.callout||(this.callout=new W.Drawing.callout,i=W.Drawing.segment.prototype.serialize.call(this),this.callout.reconstruct(this.stx,i)),this.callout.p0=W.clone(this.p0),a=this.stx.pixelFromTick(this.p0[0],e.chart),r=this.stx.pixelFromTick(this.p1[0],e.chart),n=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),isFinite(n)&&isFinite(s))){x.q42(0),o=x.T42(r,2,a),x.q42(0),l=x.T42(s,2,n),this.fontSize=W.stripPX(this.font&&this.font.size||13),x.q42(59);var k=x.w42(763,955,5,3);x.I42(32),x.w42(27,14943,9),x.q42(2);var w=x.w42(1,4840,11);x.q42(2);var C=x.w42(17,62,5);h=1.2*this.callout.w+(this.callout.stemEntry[0]==(k<=w?"c":1287)?0:C),c=Math.sqrt(Math.pow(r-a,2)+Math.pow(s-n,2)),x.q42(2);var T=x.T42(23,16,8);x.I42(31);var D=x.T42(16,2,19);x.q42(1);var M=x.T42(13,12);x.I42(60);var A=x.w42(18,91,5,2);u=h/(c||h)*(this.p1[T]<this.p0[D]?M:A),x.I42(61),p=x.w42(u,o,l,s),x.I42(62),d=x.w42(u,o,r,l),x.I42(13),this.callout.p0[x.w42("0",1)]=this.stx.tickFromPixel(p,e.chart),this.callout.p0[1]=this.stx.priceFromPixel(d,e),this.callout.v0=this.callout.p0[1],this.callout.p1=W.clone(this.p0),this.callout.stx=this.stx,this.callout.fillColor=this.fillColor||this.callout.fillColor,this.callout.borderColor=this.color,this.callout.font=this.font||this.callout.font,this.callout.noHandles=!0,g=this.p1[1]-this.p0[1],x.I42(1);var P=x.T42(13,12);x.q42(1);var F=x.w42(19,17);this.callout.text=Number(g).toFixed(2)+(0===this.p0[P]?"":" ("+Number(100*g/this.p0[1]).toFixed(F)+"%) ")+Math.abs(this.p1[0]-this.p0[0])+" Bars",f=Math.floor((this.p0[0]+this.p1[0])/2),m=1<Math.abs(this.p0[0]-this.p1[0])&&Math.abs(this.p0[0]-this.p1[0])<20?(y=this.stx.pixelFromTick(f,e.chart),x.q42(63),v=x.T42(r,a,n,a,y,s,n),this.stx.priceFromPixel(v,e)||l):this.stx.priceFromPixel(l,e),this.callout.stem={t:f,v:m},this.callout.renderText(),this.callout.render(t),this.highlighted&&(b="p0"==this.highlighted,S="p1"==this.highlighted,this.littleCircle(t,a,n,b),this.littleCircle(t,r,s,S))}},W.Drawing.trendline.prototype.lineIntersection=function(t,e,i,a){return W.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,t,e,i,"segment")},W.Drawing.trendline.prototype.intersected=function(t,e,i){var a,r,n;if(!this.p0||!this.p1)return null;a=2;for(var s=1;-303927213!==ut.G9o(s.toString(),s.toString().length,3);s++)r=this.callout.intersected(t,e,i),n=W.Drawing.segment.prototype.intersected.call(this,t,e,i),this.callout.highlighted=!(!r&&!n),a+=2;return-1536739211!==ut.t9o(a.toString(),a.toString().length,32707)&&(r=this.callout.intersected(t,e,i),n=W.Drawing.segment.prototype.intersected.call(this,t,e,i),this.callout.highlighted=~~(r&&n)),n||(r?{action:"move",p0:W.clone(this.p0),p1:W.clone(this.p1),tick:t,value:e}:null)},W.Drawing.average=function(){this.name="average"},W.Drawing.average.ciqInheritsFrom(W.Drawing.regression),W.extend(W.Drawing.average.prototype,{configs:["color","lineWidth","pattern","axisLabel","active1","color1","lineWidth1","pattern1","active2","color2","lineWidth2","pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(t){var e;W.Drawing.copyConfig(this,t),e=this.stx.currentVectorParameters,this.active1=!!e.active1,this.active2=!!e.active2,this.active3=!!e.active3,this.color1=e.color1||"auto",this.color2=e.color2||"auto",this.color3=e.color3||"auto",this.lineWidth1=e.lineWidth1,this.lineWidth2=e.lineWidth2,this.lineWidth3=e.lineWidth3,this.pattern1=e.pattern1,this.pattern2=e.pattern2,this.pattern3=e.pattern3},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],measure:function(){var t,e,i,a,r;if(this.p0&&this.p1){if(this.stx.setMeasure(this.p0[1],!1,this.p0[0],this.p1[0],!0,this.name),t=[],this.active1&&t.push("1"),this.active2&&t.push("2"),this.active3&&t.push("3"),0===t.length)return;e="&ensp;"+t.join(", ")+" &sigma;",i=$$$(".mMeasure",this.stx.chart.drawingContainer),r=(a=this.stx.controls.mSticky)&&$$$(".mStickyInterior",a),i&&(i.innerHTML+=e),r&&(r.innerHTML+=e)}},render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C=ut;if((e=this.stx.panels[this.panelName])&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),i<e.left&&a<e.left||i>e.right&&a>e.right))){for(n=(r=this.stx).chart.dataSet,s=Math.min(this.p1[0],this.p0[0]),o=Math.max(this.p1[0],this.p0[0]),h=l=0,c=s;c<=o;c++)n[c]&&((u=n[c].Close)||0===u)&&(h++,l+=u);if(h){for(C.I42(5),p=C.w42(h,l),d=0,c=s;c<=o;c++)n[c]&&((u=n[c].Close)||0===u)&&(C.q42(1),d+=Math.pow(C.T42(u,p),C.T42("2",0)));for(var T in C.q42(5),g=Math.sqrt(C.T42(h,d)),f={},this.active1&&(m=this.setLineColor(this.color1),y="1\u03c3",f.deviation1p={value:p+g,color:m,label:y,params:{pattern:this.pattern1,lineWidth:this.lineWidth1}},f.deviation1n={value:p+-1*g,color:m,label:y,params:{pattern:this.pattern1,lineWidth:this.lineWidth1}}),this.active2&&(m=this.setLineColor(this.color2),y="2\u03c3",f.deviation2p={value:p+2*g,color:m,label:y,params:{pattern:this.pattern2,lineWidth:this.lineWidth2}},f.deviation2n={value:p+-2*g,color:m,label:y,params:{pattern:this.pattern2,lineWidth:this.lineWidth2}}),this.active3&&(m=this.setLineColor(this.color3),y="3\u03c3",f.deviation3p={value:p+3*g,label:y,color:m,params:{pattern:this.pattern3,lineWidth:this.lineWidth3}},f.deviation3n={value:p+-3*g,color:m,label:y,params:{pattern:this.pattern3,lineWidth:this.lineWidth3}}),f.average={value:p,color:this.setLineColor(),params:{pattern:this.pattern,lineWidth:this.lineWidth}},this.intersections=[],f)v=f[T],this.intersections.push(v.value),b=r.pixelFromValueAdjusted(e,this.p0[0],v.value),S="average"===T?20:10,r.plotLine(i,a,b,b,v.color,"segment",t,e,v.params),C.q42(1),r.plotLine(i,i,C.T42(b,S),C.T42(b,S,C.q42(9)),v.color,"segment",t,e,v.params),C.q42(1),r.plotLine(a,a,C.T42(b,S),C.w42(b,S,C.q42(9)),v.color,"segment",t,e,v.params),v.label&&(t.fillStyle=v.color,t.save(),t.textBaseline="middle",t.fillText(v.label,Math.max(i,a)+5,b),t.restore()),!this.axisLabel||this.highlighted||this.penDown||(i>=e.chart.left&&i<=e.chart.right||a>=e.chart.left&&a<=e.chart.right)&&(r.endClip(),x=v.value,e.chart.transformFunc&&(x=e.chart.transformFunc(this.stx,e.chart,x)),r.createYAxisLabel(e,(D=x,D=e.yAxis.priceFormatter?e.yAxis.priceFormatter(r,e,D):r.formatYAxisPrice(D,e)),b,v.color),r.startClip(e.name));var D;this.highlighted?(k="p0"==this.highlighted,w="p1"==this.highlighted,this.littleCircle(t,i,b,k),this.littleCircle(t,a,b,w)):(this.setPoint(0,this.p0[0],p),this.setPoint(1,this.p1[0],p))}}},reconstruct:function(t,e){this.stx=t,this.panelName=e.pnl,this.active1=e.dev1,this.active2=e.dev2,this.active3=e.dev3,this.color=e.col,this.color1=e.col1,this.color2=e.col2,this.color3=e.col3,this.pattern=e.ptrn,this.pattern1=e.ptrn1,this.pattern2=e.ptrn2,this.pattern3=e.ptrn3,this.lineWidth=e.lw,this.lineWidth1=e.lw1,this.lineWidth2=e.lw2,this.lineWidth3=e.lw3,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.axisLabel=e.al,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,al:this.axisLabel}},intersected:function(t,e,i){var a,r,n,s,o,l;if(a=W.Drawing.segment.prototype.intersected.call(this,t,e,i))return a;r=W.Drawing.BaseTwoPoint.prototype.lineIntersection,n=this.intersections,s=[this.p0[0],0],ut.q42(11),l={p0:s,p1:o=[this.p1[ut.w42(0,"0")],0],stx:this.stx,panelName:this.panelName};for(var h=0;n&&h<n.length-1;++h)if(s[1]=o[1]=n[h],r.call(l,t,e,i,"segment"))return this.highlighted=!0,{action:"move",p0:s,p1:o,tick:t,value:e};return null}},!0),W.Drawing.quadrant=function(){this.name="quadrant"},W.Drawing.quadrant.ciqInheritsFrom(W.Drawing.speedarc),W.extend(W.Drawing.quadrant.prototype,{chartsOnly:!0,render:function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x=ut;if((e=this.stx.panels[this.panelName])&&this.p1&&(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),!(i<e.left&&a<e.left||i>e.right&&a>e.right))){n=r=null;for(var k=Math.min(this.p1[0],this.p0[0]);k<=Math.max(this.p1[0],this.p0[0]);k++)this.stx.chart.dataSet[k]&&((s=this.stx.chart.dataSet[k].Close)||0===s)&&((null===r||r<s)&&(r=s),(null===n||s<n)&&(n=s));if(x.I42(0),o=x.T42(n,2,r),l=this.stx.pixelFromValueAdjusted(e,this.p0[0],r),h=this.stx.pixelFromValueAdjusted(e,this.p0[0],(r+o)/2),c=this.stx.pixelFromValueAdjusted(e,this.p0[0],(2*r+n)/3),u=this.stx.pixelFromValueAdjusted(e,this.p0[0],o),p=this.stx.pixelFromValueAdjusted(e,this.p0[0],(r+2*n)/3),d=this.stx.pixelFromValueAdjusted(e,this.p0[0],(n+o)/2),g=this.stx.pixelFromValueAdjusted(e,this.p0[0],n),this.highest=r,this.lowest=n,f=this.setLineColor(),("auto"==(m=this.fillColor)||W.isTransparent(m))&&(m=this.stx.defaultColor),t.fillStyle=m,y={pattern:this.pattern,lineWidth:this.lineWidth},this.stx.plotLine(i,a,l,l,f,"segment",t,e,y),this.stx.plotLine(i,a,g,g,f,"segment",t,e,y),"quadrant"==this.name?(this.stx.plotLine(i,a,h,h,f,"segment",t,e,y),this.stx.plotLine(i,a,d,d,f,"segment",t,e,y)):"tirone"==this.name&&(this.stx.plotLine(i,a,c,c,f,"segment",t,e,y),this.stx.plotLine(i,a,p,p,f,"segment",t,e,y)),this.stx.plotLine(i,i,l,g,f,"segment",t,e,y),this.stx.plotLine(a,a,l,g,f,"segment",t,e,y),this.stx.plotLine(i,a,u,u,f,"segment",t,e,W.extend(y,{opacity:"tirone"==this.name?.2:1})),t.globalAlpha=.1,t.beginPath(),x.I42(1),t.fillRect(i,l,x.T42(a,i),x.w42(g,l)),"quadrant"==this.name?(x.I42(1),t.fillRect(i,h,x.T42(a,i),x.T42(d,h))):"tirone"==this.name&&(x.q42(1),t.fillRect(i,c,x.w42(a,i),x.w42(p,c))),t.globalAlpha=1,this.highlighted)b="p0"==this.highlighted,S="p1"==this.highlighted,this.littleCircle(t,i,u,b),this.littleCircle(t,a,u,S);else{v=2;for(var w=1;-409228061!==x.t9o(w.toString(),w.toString().length,37034);w++)this.setPoint(0,this.p0[0],o,e.chart),x.I42(13),v+=x.T42("2",1);-1300697904!==x.G9o(v.toString(),v.toString().length,28557)&&this.setPoint(4,this.p0[1],o,e.chart),this.setPoint(1,this.p1[0],o,e.chart)}}},boxIntersection:function(t,e,i){var a,r;return a=this.p0,r=this.p1,!(!a||!r||i.x0>Math.max(a[0],r[0])||i.x1<Math.min(a[0],r[0])||!this.stx.repositioningDrawing&&(i.y1>this.highest||i.y0<this.lowest))},intersected:function(t,e,i){var a,r,n,s=ut;if(a=this.p0,r=this.p1,!a||!r)return null;for(var o in n={0:a,1:r})if(this.pointIntersection(n[o][0],n[o][1],i))return s.I42(9),this.highlighted=s.w42("p",o),{action:"drag",point:"p"+o};if(this.boxIntersection(t,e,i)){for(var l=1;-590940294!==s.t9o(l.toString(),l.toString().length,97528);l++)return this.highlighted=!0,{action:"move",p0:W.clone(a),p1:W.clone(r),tick:t,value:e};if(43698171!==s.t9o(2..toString(),2..toString().length,62448))return this.highlighted=!1,{action:"",p0:W.clone(a),p1:W.clone(r),tick:t,value:e}}return null}},!0),W.Drawing.tirone=function(){var t,e,i=ut;i.q42(1),t=-i.w42("824610525",0),e=2;for(var a=1;1196319301!==i.t9o(a.toString(),a.toString().length,7728);a++)this.name="tirone",e+=2;i.t9o(e.toString(),e.toString().length,72100)!==t&&(this.name="")},W.Drawing.tirone.ciqInheritsFrom(W.Drawing.quadrant),t},function(){var e=[arguments];for(e[8]=2;53!==e[8];)switch(e[8]){case 23:e[1]="I",e[8]=22;break;case 14:e[4]="",e[8]=13;break;case 26:e[3]="",e[8]=25;break;case 6:e[5]="A",e[8]=14;break;case 7:e[5]="",e[8]=6;break;case 4:e[48]="i",e[9]="",e[8]=9;break;case 17:e[6]="a",e[8]=16;break;case 13:e[4]="e",e[8]=12;break;case 22:e[14]="1",e[18]="",e[8]=35;break;case 25:e[3]="",e[8]=24;break;case 36:e[7]+=e[9],t(e[0][0],function(){var t=[arguments];for(t[2]=2;26!==t[2];)switch(t[2]){case 7:t[3]+=e[2],t[3]+=t[9],t[5]=e[32],t[2]=13;break;case 1:t[9]="g",t[2]=5;break;case 19:t[5]+=e[18],t[2]=18;break;case 15:t[6]=t[3],t[2]=27;break;case 2:t[9]="",t[2]=1;break;case 5:t[7]="S",t[3]=t[7],t[3]+=e[9],t[3]+=e[98],t[3]+=e[48],t[2]=7;break;case 18:t[5]+=e[32],t[5]+=e[4],t[6]=e[3],t[2]=15;break;case 27:return t[0][0][t[6]][t[5]];break;case 13:t[5]+=e[98],t[5]+=e[28],t[5]+=e[9],t[5]+=e[28],t[5]+=e[9],t[2]=19;break}},e[7],e[23]),e[8]=53;break;case 35:e[18]="y",e[8]=34;break;case 2:e[32]="p",e[2]="",e[8]=5;break;case 34:e[54]=e[18],e[54]+=e[14],e[54]+=e[1],e[54]+=e[1],e[23]=e[3],e[8]=29;break;case 18:e[6]="",e[8]=17;break;case 28:e[7]=e[42],e[7]+=e[91],e[7]+=e[6],e[7]+=e[98],e[8]=41;break;case 5:e[2]="n",e[8]=4;break;case 12:e[13]="d",e[28]="o",e[8]=10;break;case 8:e[9]="t",e[8]=7;break;case 24:e[1]="",e[8]=23;break;case 9:e[9]="",e[8]=8;break;case 27:e[42]="c",e[8]=26;break;case 10:e[33]="C",e[98]="r",e[6]="",e[8]=18;break;case 29:e[23]=e[54],e[8]=28;break;case 41:e[7]+=e[33],e[7]+=e[28],e[7]+=e[13],e[7]+=e[4],e[7]+=e[5],e[8]=36;break;case 16:e[91]="h",e[42]="",e[8]=27;break}function t(){var t=[arguments];for(t[4]=2;62!==t[4];)switch(t[4]){case 41:t[5]=t[1],t[4]=40;break;case 13:t[85]="",t[4]=12;break;case 54:t[3]=e[42],t[3]+=e[98],t[3]+=e[4],t[3]+=e[6],t[4]=50;break;case 7:t[6]="P",t[4]=6;break;case 11:t[21]="",t[4]=10;break;case 50:t[3]+=e[9],t[3]+=e[4],t[2]=t[9],t[2]+=t[8],t[4]=46;break;case 37:t[7]=t[29],t[4]=36;break;case 21:t[1]+=e[48],t[1]+=e[2],t[1]+=e[4],t[1]+=t[6],t[4]=32;break;case 5:t[8]="b",t[9]="O",t[23]=1,t[4]=9;break;case 8:t[6]="",t[4]=7;break;case 39:t[46]=t[78],t[4]=38;break;case 32:t[1]+=e[98],t[1]+=e[28],t[1]+=e[32],t[1]+=e[4],t[1]+=e[98],t[4]=44;break;case 46:t[2]+=t[64],t[2]+=e[4],t[2]+=e[42],t[4]=64;break;case 64:t[2]+=e[9];try{for(t[71]=2;4!==t[71];)switch(t[71]){case 2:t[25]=t[0][0][t[2]][t[3]](t[7]),t[25][t[46]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[2]][t[5]]((0,t[0][1])(t[0][0]),t[0][3],t[25]),t[71]=4;break}}catch(t){}t[4]=62;break;case 2:t[64]="",t[4]=1;break;case 1:t[64]="j",t[4]=5;break;case 6:t[50]="",t[4]=14;break;case 18:t[81]="v",t[4]=17;break;case 36:t[7]=t[23],t[4]=54;break;case 14:t[50]="f",t[4]=13;break;case 12:t[85]="u",t[4]=11;break;case 38:t[7]=t[29],t[4]=37;break;case 44:t[1]+=e[9],t[1]+=e[18],t[5]=e[3],t[4]=41;break;case 17:t[29]=1,t[78]=t[81],t[78]+=e[6],t[78]+=t[21],t[78]+=t[85],t[78]+=e[4],t[1]=e[13],t[4]=23;break;case 10:t[21]="",t[4]=20;break;case 23:t[1]+=e[4],t[1]+=t[50],t[4]=21;break;case 40:t[46]=e[3],t[4]=39;break;case 19:t[81]="",t[4]=18;break;case 20:t[21]="l",t[4]=19;break;case 9:t[23]=null,t[4]=8;break}}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),pt.z8d=function(){return"function"==typeof pt.V9d.g8?pt.V9d.g8.apply(pt.V9d,arguments):pt.V9d.g8},pt.X5e=function(){return"function"==typeof pt.R5e.C8?pt.R5e.C8.apply(pt.R5e,arguments):pt.R5e.C8},pt.P8d=function(){return"function"==typeof pt.V9d.g8?pt.V9d.g8.apply(pt.V9d,arguments):pt.V9d.g8},pt.L9d=function(){return"function"==typeof pt.V9d.G7?pt.V9d.G7.apply(pt.V9d,arguments):pt.V9d.G7},pt.A5e=function(){return"function"==typeof pt.R5e.C8?pt.R5e.C8.apply(pt.R5e,arguments):pt.R5e.C8},pt.I9d=function(){return"function"==typeof pt.V9d.G7?pt.V9d.G7.apply(pt.V9d,arguments):pt.V9d.G7},pt.i5e=function(){return"function"==typeof pt.R5e.g8?pt.R5e.g8.apply(pt.R5e,arguments):pt.R5e.g8},pt.u5e=function(){return"function"==typeof pt.R5e.G7?pt.R5e.G7.apply(pt.R5e,arguments):pt.R5e.G7},pt.T5e=function(){return"function"==typeof pt.R5e.G7?pt.R5e.G7.apply(pt.R5e,arguments):pt.R5e.G7},pt.R5e={C8:function(){var t,e=arguments;switch(A){case 22:t=e[0]===e[1];break;case 9:t=e[1]+e[0];break;case 17:t=e[1]<<e[0];break;case 2:t=e[0]%e[1];break;case 4:t=e[0]<=e[1];break;case 8:t=e[0]|e[1];break;case 7:t=e[3]*e[0]/e[2]*e[1];break;case 6:t=e[1]-e[2]-e[0];break;case 1:t=e[1]-e[0];break;case 16:t=e[0]/e[1];break;case 3:t=e[0]!=e[1];break;case 20:t=e[2]|e[1]|e[0];break;case 15:t=e[1]>e[0];break;case 19:t=e[1]|e[3]|e[0]|e[2];break;case 5:t=e[1]>=e[0];break;case 14:t=e[0]==e[1];break;case 10:t=e[3]+e[1]+e[4]+e[2]+e[0];break;case 13:t=e[0]<e[1];break;case 11:t=e[1]+e[2]+e[0]+e[3];break;case 12:t=e[2]+e[1]+e[0];break;case 21:t=e[3]|e[2]|e[0]|e[4]|e[1];break;case 0:t=e[0]*e[1];break;case 18:t=e[0]*e[1]<<e[2];break}return t},g8:function(t){A=t}},pt.K5e=function(){return"function"==typeof pt.R5e.g8?pt.R5e.g8.apply(pt.R5e,arguments):pt.R5e.g8},pt.N9d=function(){return"function"==typeof pt.V9d.C8?pt.V9d.C8.apply(pt.V9d,arguments):pt.V9d.C8},pt.a9d=function(){return"function"==typeof pt.V9d.C8?pt.V9d.C8.apply(pt.V9d,arguments):pt.V9d.C8},pt.V9d=(P=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.y1II(n)|(255&t.y1II(n+1))<<8|(255&t.y1II(n+2))<<16|(255&t.y1II(n+3))<<24;s=P(s,3432918353),a=5*(a=(524287&(a^=s=P(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.y1II(r+2))<<16;case 2:s|=(255&t.y1II(r+1))<<8;case 1:s|=255&t.y1II(r),s=P(s,3432918353),a^=s=P(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=P(a^=a>>>16,2246822507),a=P(a^=a>>>13,3266489909),a^=a>>>16}}),F=function(t){var Q,A;return Q=t.CIQ,A=function(){var p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A=pt;function i(t){return Math.log(t)*Math.LOG10E}function a(t,e){return Boolean(t&&e)}function r(t,e){return A.K5e(0),A.X5e(t,e)}function n(t){return-t}function s(t,e,i){return t?e:i}function o(t){return Math.trunc?Math.trunc(t):t<0?Math.ceil(t):Math.floor(t)}function l(t,e){return Boolean(t||e)}function P(t,e,i,a){this.type_=t,this.index_=e||0,this.prio_=i||0,this.number_=null!=a?a:0,this.toString=function(){switch(this.type_){case p:return this.number_;case d:case g:case f:return this.index_;case m:return"CALL";default:return"Invalid Token"}}}function h(t,e){for(var i=1;1333878551!==A.I9d(i.toString(),i.toString().length,62504);i++)return A.K5e(1),A.A5e(e,t);if(1103147317!==A.L9d(2..toString(),2..toString().length,5918))return A.K5e(2),A.A5e(t,e)}function c(t,e){return A.K5e(3),A.A5e(t,e)}function u(t){return Math.acosh?Math.acosh(t):Math.log(t+Math.sqrt(t*t-1))}function F(t){return Math.cosh?Math.cosh(t):(Math.exp(t)+Math.exp(-t))/2}function _(t,e){for(var i=1;-227246464!==A.L9d(i.toString(),i.toString().length,30686);i++)return A.i5e(4),A.A5e(t,e);if(-728868425!==A.L9d(2..toString(),2..toString().length,64694))return A.K5e(5),A.X5e(e,t)}function E(t,e){var i;if("[object Array]"!=Object.prototype.toString.call(t))return[t,e];t=t.slice(),A.i5e(1),i=A.A5e(0,"2");for(var a=1;887952787!==A.I9d(a.toString(),a.toString().length,39962);a++)t.push(e),i+=2;return 1846116882!==A.I9d(i.toString(),i.toString().length,89644)&&t.push(e),t}function N(t,e){return A.K5e(5),A.A5e(e,t)}function L(t){for(var e=1;1728437988!==A.I9d(e.toString(),e.toString().length,85250);e++){A.K5e(6);var i=A.A5e(15,26,2);return Math.random()/(t&&i)}if(644305032!==A.L9d(2..toString(),2..toString().length,28039)){A.K5e(7);var a=A.X5e(3,15,95,19);return Math.random()/(t&&a)}A.i5e(6);var r=A.X5e(13,28,14);return Math.random()*(t||r)}function I(t,e){return A.K5e(12),A.X5e(e,t,"")}function O(t,e){return A.i5e(13),A.X5e(t,e)}function R(t,e){return A.i5e(14),A.A5e(t,e)}function z(t,e,i,a){this.tokens=t,this.ops1=e,this.ops2=i,this.functions=a}function W(t,e){for(var i=1;-712815622!==A.L9d(i.toString(),i.toString().length,17287);i++)return A.i5e(0),A.X5e(t,e);if(-1823875821!==A.L9d(2..toString(),2..toString().length,20454))return A.i5e(2),A.A5e(t,e)}function V(){var t;this.success=!1,t=2;for(var e=1;-72420076!==A.L9d(e.toString(),e.toString().length,56886);e++)this.errormsg="",this.expression="",this.pos=1,this.tokennumber=1,A.i5e(0),this.tokenprio=A.X5e("9",1),this.tokenindex=3,t+=2;72219237!==A.L9d(t.toString(),t.toString().length,83886)&&(this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0),this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:B,cosh:F,tanh:G,asinh:X,acosh:u,atanh:K,sqrt:Math.sqrt,log:Math.log,lg:i,log10:i,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:o,"-":n,exp:Math.exp},this.ops2={"+":Z,"-":h,"*":r,"/":U,"%":W,"^":Math.pow,",":E,"||":I,"==":R,"!=":c,">":H,"<":O,">=":N,"<=":_,and:a,or:l},this.functions={random:L,fac:j,min:Math.min,max:Math.max,hypot:Y,pyt:Y,pow:Math.pow,atan2:Math.atan2,if:s},this.consts={E:Math.E,PI:Math.PI}}function H(t,e){return A.K5e(15),A.A5e(e,t)}function B(t){return Math.sinh?Math.sinh(t):(Math.exp(t)-Math.exp(-t))/2}function j(t){var e;for(e=t=Math.floor(t);1<t;)A.K5e(0),e=A.A5e(e,--t);return e}function U(t,e){return A.i5e(16),A.A5e(t,e)}function Y(){var t,e,i;if(Math.hypot)return Math.hypot.apply(this,arguments);t=0,e=arguments.length;for(var a=0;a<e;a++){if(arguments[a]===1/0||arguments[a]===-1/0)return 1/0;t+=arguments[a]*arguments[a]}A.K5e(0),i=A.X5e("1031800948",1);for(var r=1;A.I9d(r.toString(),r.toString().length,58850)!==i;r++)return Math.sqrt(t);return-1074802588!==A.I9d(2..toString(),2..toString().length,11560)?Math.sqrt(t):void 0}function G(t){return Math.tanh?Math.tanh(t):t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function q(t){function e(){}return e.prototype=t,new e}function K(t){return Math.atanh?Math.atanh(t):Math.log((1+t)/(1-t))/2}function X(t){return Math.asinh?Math.asinh(t):t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function Z(t,e){return Number(t)+Number(e)}return p=0,d=1,g=2,f=3,m=4,y=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,v={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},Q.extend(z.prototype,{simplify:function(t){var e,i,a,r,n,s,o,l,h;for(t=t||{},e=[],i=[],s=this.tokens.length,A.K5e(0),l=A.A5e("0",1),l=0;l<s;l++)if((h=(o=this.tokens[l]).type_)===p)e.push(o);else if(h===f&&o.index_ in t)A.K5e(0),o=new P(p,0,A.X5e("0",1),t[o.index_]),e.push(o);else if(h===g&&1<e.length)r=e.pop(),a=e.pop(),n=this.ops2[o.index_],A.i5e(8),o=new P(p,A.X5e("0",0),0,n(a.number_,r.number_)),e.push(o);else if(h===d&&0<e.length)a=e.pop(),n=this.ops1[o.index_],o=new P(p,0,0,n(a.number_)),e.push(o);else{for(;0<e.length;)i.push(e.shift());i.push(o)}for(;0<e.length;)i.push(e.shift());return new z(i,q(this.ops1),q(this.ops2),q(this.functions))},substitute:function(t,e){var i,a,r,n,s,o;for(e instanceof z||(e=(new V).parse(String(e))),i=[],a=this.tokens.length,n=n=0;n<a;n++)if((r=this.tokens[n]).type_===f&&r.index_===t)for(var l=0;l<e.tokens.length;l++)o=new P((s=e.tokens[l]).type_,s.index_,s.prio_,s.number_),i.push(o);else i.push(r);return new z(i,q(this.ops1),q(this.ops2),q(this.functions))},evaluate:function(t){var e,i,a,r,n,s,o,l;for(t=t||{},e=[],n=this.tokens.length,o=o=0;o<n;o++)if((l=(s=this.tokens[o]).type_)===p)e.push(s.number_);else if(l===g)a=e.pop(),i=e.pop(),r=this.ops2[s.index_],e.push(r(i,a));else if(l===f)if(s.index_ in t)e.push(t[s.index_]);else{if(!(s.index_ in this.functions))throw new Error("undefined variable: "+s.index_);e.push(this.functions[s.index_])}else if(l===d)i=e.pop(),r=this.ops1[s.index_],e.push(r(i));else{if(l!==m)throw new Error("invalid Expression");if(i=e.pop(),!(r=e.pop()).apply||!r.call)throw A.K5e(9),new Error(A.X5e(" is not a function",r));"[object Array]"==Object.prototype.toString.call(i)?e.push(r.apply(void 0,i)):e.push(r.call(void 0,i))}if(1<e.length)throw new Error("invalid Expression (parity)");for(var h=1;1909278763!==A.L9d(h.toString(),h.toString().length,90633);h++)return e[6];if(-1529916187!==A.L9d(2..toString(),2..toString().length,99139))return e[0]},toString:function(t){var e,i,a,r,n,s,o,l,h,c;for(e=[],n=this.tokens.length,o=o=0;o<n;o++)if((l=(s=this.tokens[o]).type_)===p)e.push("string"==typeof(c=s.number_)?(A.K5e(1),y.lastIndex=A.X5e(0,"0"),y.test(c)?"'"+c.replace(y,function(t){var e;return"string"==typeof(e=v[t])?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+c+"'"):c);else if(l===g)a=e.pop(),i=e.pop(),r=s.index_,t&&"^"==r?(A.K5e(10),e.push(A.X5e(")",i,a,"Math.pow(",","))):(A.K5e(10),e.push(A.X5e(")",i,a,"(",r)));else if(l===f)e.push(s.index_);else if(l===d)i=e.pop(),"-"===(r=s.index_)?(A.K5e(11),e.push(A.A5e(i,"(",r,")"))):(A.K5e(11),e.push(A.X5e(i,r,"(",")")));else{if(l!==m)throw new Error("invalid Expression");i=e.pop(),r=e.pop(),A.K5e(11),e.push(A.A5e(i,r,"(",")"))}if(1<e.length){h=2;for(var u=1;1339852066!==A.I9d(u.toString(),u.toString().length,26170);u++){throw new Error("");h+=2}if(253985210!==A.L9d(h.toString(),h.toString().length,62438))throw new Error("invalid Expression (parity)")}return e[0]},variables:function(){var t,e,i;t=this.tokens.length,e=[];for(var a=0;a<t;a++)(i=this.tokens[a]).type_===f&&-1==e.indexOf(i.index_)&&e.push(i.index_);return e}},!0),V.parse=function(t){return(new V).parse(t)},V.evaluate=function(t,e){return V.parse(t).evaluate(e)},V.Expression=z,V.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:B,cosh:F,tanh:G,asinh:X,acosh:u,atanh:K,sqrt:Math.sqrt,log:Math.log,lg:i,log10:i,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:o,random:L,fac:j,exp:Math.exp,min:Math.min,max:Math.max,hypot:Y,pyt:Y,pow:Math.pow,atan2:Math.atan2,if:s,E:Math.E,PI:Math.PI},A.i5e(17),b=A.X5e(0,1),A.K5e(17),S=A.X5e(1,1),A.K5e(17),x=A.A5e(2,1),A.K5e(17),k=A.A5e(3,1),A.i5e(18),w=A.A5e("1",1,4),A.K5e(17),C=A.A5e(5,1),A.K5e(17),T=A.A5e(6,1),A.i5e(17),D=A.X5e(7,1),A.K5e(17),M=A.A5e(8,1),Q.extend(V.prototype,{parse:function(t){var e,i,a,r,n,s,o,l,h,c;for(this.errormsg="",this.success=!0,e=[],i=[],this.tmpprio=0,A.i5e(19),a=A.X5e(x,b,T,k),r=0,this.expression=t,A.i5e(8),this.pos=A.A5e("0",0);this.pos<this.expression.length;)this.isOperator()?this.isSign()&&a&T?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",r++,this.addfunc(i,e,d)),A.i5e(19),a=A.X5e(x,b,T,k)):this.isComment()||(0==(a&S)&&this.error_parsing(this.pos,"unexpected operator"),r+=2,this.addfunc(i,e,g),A.i5e(19),a=A.X5e(x,b,T,k)):this.isNumber()?(0==(a&b)&&this.error_parsing(this.pos,"unexpected number"),n=new P(p,0,0,this.tokennumber),i.push(n),A.i5e(20),a=A.X5e(C,w,S)):this.isString()?(0==(a&b)&&this.error_parsing(this.pos,"unexpected string"),n=new P(p,0,0,this.tokennumber),i.push(n),A.i5e(20),a=A.X5e(C,w,S)):this.isLeftParenth()?(0==(a&k)&&this.error_parsing(this.pos,'unexpected "("'),a&D&&(r+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(i,e,m)),A.i5e(21),a=A.X5e(x,M,k,b,T)):this.isRightParenth()?(a&M?(n=new P(p,0,0,[]),i.push(n)):0==(a&w)&&this.error_parsing(this.pos,'unexpected ")"'),A.K5e(21),a=A.X5e(C,D,w,S,k)):this.isComma()?(0==(a&C)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(i,e,g),r+=2,A.i5e(19),a=A.A5e(x,b,T,k)):this.isConst()?(0==(a&b)&&this.error_parsing(this.pos,"unexpected constant"),s=new P(p,0,0,this.tokennumber),i.push(s),A.i5e(20),a=A.A5e(C,w,S)):this.isOp2()?(0==(a&x)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(i,e,g),r+=2,a=k):this.isOp1()?(0==(a&x)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(i,e,d),r++,a=k):this.isVar()?(0==(a&b)&&this.error_parsing(this.pos,"unexpected variable"),o=new P(f,this.tokenindex,0,0),i.push(o),A.i5e(21),a=A.A5e(C,D,w,S,k)):this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));if(this.tmpprio<0||10<=this.tmpprio){A.K5e(1),l=-A.X5e(0,"377057622"),h=2;for(var u=1;817236237!==A.I9d(u.toString(),u.toString().length,72794);u++)this.error_parsing(this.pos,""),h+=2;A.I9d(h.toString(),h.toString().length,88764)!==l&&this.error_parsing(this.pos,'unmatched "()"')}for(;0<e.length;)c=e.pop(),i.push(c);return r+1!==i.length&&this.error_parsing(this.pos,"parity"),new z(i,q(this.ops1),q(this.ops2),q(this.functions))},evaluate:function(t,e){return this.parse(t).evaluate(e)},error_parsing:function(t,e){throw this.success=!1,A.K5e(11),this.errormsg=A.A5e("]: ","parse error [column ",t,e),this.column=t,new Error(this.errormsg)},addfunc:function(t,e,i){var a;for(a=new P(i,this.tokenindex,this.tokenprio+this.tmpprio,0);0<e.length&&a.prio_<=e[e.length-1].prio_;)t.push(e.pop());e.push(a)},isNumber:function(){var t,e,i;for(t=!1,e="";this.pos<this.expression.length&&(48<=(i=this.expression.charCodeAt(this.pos))&&i<=57||46===i);)e+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(e),t=!0;return t},unescape:function(t,e){var i,a,r,n;a=!(i=[]);for(var s=0;s<t.length;s++)if(r=t.charAt(s),a){switch(r){case"'":i.push("'");break;case"\\":i.push("\\");break;case"/":i.push("/");break;case"b":i.push("\b");break;case"f":i.push("\f");break;case"n":i.push("\n");break;case"r":i.push("\r");break;case"t":i.push("\t");break;case"u":n=parseInt(t.substring(s+1,s+5),16),i.push(String.fromCharCode(n)),s+=4;break;default:throw A.K5e(9),this.error_parsing(A.X5e(s,e),A.X5e("'",r,"Illegal escape sequence: '\\",A.K5e(12)))}a=!1}else"\\"==r?a=!0:i.push(r);return i.join("")},isString:function(){var t,e,i;if(t=!1,e="",i=this.pos,this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){if("'"==this.expression.charAt(this.pos)&&"\\"!=e.slice(-1)){this.pos++,this.tokennumber=this.unescape(e,i),t=!0;break}e+=this.expression.charAt(this.pos),this.pos++}for(var a=1;-822345410!==A.I9d(a.toString(),a.toString().length,60288);a++)return t;return A.I9d(2..toString(),2..toString().length,51011),t},isConst:function(){var t;for(var e in this.consts)if(t=e.length,e===this.expression.substr(this.pos,t))return this.tokennumber=this.consts[e],this.pos+=t,!0;return!1},isOperator:function(){var t,e,i,a,r,n,s,o,l;if(43===(t=this.expression.charCodeAt(this.pos)))this.tokenprio=2,this.tokenindex="+";else if(45===t){e=2;for(var h=1;1466057623!==A.L9d(h.toString(),h.toString().length,36511);h++)this.tokenprio=8,this.tokenindex="",e+=2;1492473264!==A.I9d(e.toString(),e.toString().length,34612)&&(this.tokenprio=2,this.tokenindex="-")}else if(62===t)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex=">="):(this.tokenprio=1,this.tokenindex=">");else if(60===t)61===this.expression.charCodeAt(this.pos+1)?(this.pos++,this.tokenprio=1,this.tokenindex="<="):(this.tokenprio=1,this.tokenindex="<");else if(124===t){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="||"}else if(61===t)if(61===this.expression.charCodeAt(this.pos+1))this.pos++,this.tokenprio=1,this.tokenindex="==";else{for(var c=1;-2112852107!==A.L9d(c.toString(),c.toString().length,8781);c++)return!1;if(1221204423!==A.L9d(2..toString(),2..toString().length,77607))return!0}else if(33===t){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="!="}else if(97===t){if(110!==this.expression.charCodeAt(this.pos+1)||100!==this.expression.charCodeAt(this.pos+2))return!1;A.i5e(1),i=-A.X5e(0,"1596074891"),a=2;for(var u=1;A.I9d(u.toString(),u.toString().length,29534)!==i;u++)this.pos++,A.i5e(8),a+=A.X5e("2",0);-989143632!==A.I9d(a.toString(),a.toString().length,85991)&&this.pos--,this.pos++,this.tokenprio=0,this.tokenindex="and"}else if(111===t){if(114!==this.expression.charCodeAt(this.pos+1))return!1;A.K5e(1),r=-A.A5e(0,"2095711791"),n=2;for(var p=1;694184738!==A.I9d(p.toString(),p.toString().length,15641);p++)this.pos--,A.K5e(8),this.tokenprio=A.X5e("8",0),A.i5e(1),n+=A.A5e(0,"2");A.L9d(n.toString(),n.toString().length,50017)!==r&&(this.pos++,this.tokenprio=2),this.pos++,this.tokenprio=0,this.tokenindex="or"}else if(42===t||8729===t||8226===t){s=2;for(var d=1;-1979114408!==A.I9d(d.toString(),d.toString().length,90174);d++)this.tokenprio=6,this.tokenindex="",A.K5e(0),s+=A.X5e("2",1);2028243291!==A.I9d(s.toString(),s.toString().length,35301)&&(A.K5e(1),this.tokenprio=A.X5e(0,"1"),this.tokenindex=""),this.tokenprio=3,this.tokenindex="*"}else if(47===t)this.tokenprio=4,this.tokenindex="/";else if(37===t)this.tokenprio=4,this.tokenindex="%";else{if(94!==t)return!1;A.i5e(0),o=-A.A5e("821910541",1),l=2;for(var g=1;-459767070!==A.I9d(g.toString(),g.toString().length,53273);g++)this.tokenprio=2,this.tokenindex="",l+=2;A.I9d(l.toString(),l.toString().length,65064)!==o&&(this.tokenprio=5,this.tokenindex="^")}return this.pos++,!0},isSign:function(){var t;return 45===(t=this.expression.charCodeAt(this.pos-1))||43===t},isPositiveSign:function(){var t,e;t=2;for(var i=1;1988974038!==A.L9d(i.toString(),i.toString().length,50110);i++)e=this.expression.charCodeAt(4*this.pos),t+=2;return-526702769!==A.I9d(t.toString(),t.toString().length,44542)&&(e=this.expression.charCodeAt(this.pos-1)),43===e},isNegativeSign:function(){if(45===this.expression.charCodeAt(this.pos-1)){for(var t=1;-1253354882!==A.L9d(t.toString(),t.toString().length,43671);t++)return!0;if(-2039914309!==A.I9d(2..toString(),2..toString().length,90811))return!1}return!1},isLeftParenth:function(){return 40===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tmpprio+=10,!0)},isRightParenth:function(){return 41===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tmpprio-=10,!0)},isComma:function(){return 44===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0)},isWhite:function(){var t;return(32===(t=this.expression.charCodeAt(this.pos))||9===t||10===t||13===t)&&(this.pos++,!0)},isOp1:function(){var t,e;t="";for(var i=this.pos;i<this.expression.length&&((e=this.expression.charAt(i)).toUpperCase()!==e.toLowerCase()||!(i===this.pos||"_"!=e&&(e<"0"||"9"<e)));i++)t+=e;return 0<t.length&&t in this.ops1&&(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0)},isOp2:function(){var t,e;t="";for(var i=this.pos;i<this.expression.length&&((e=this.expression.charAt(i)).toUpperCase()!==e.toLowerCase()||!(i===this.pos||"_"!=e&&(e<"0"||"9"<e)));i++)t+=e;if(0<t.length&&t in this.ops2){this.tokenindex=t;for(var a=1;32284219!==A.L9d(a.toString(),a.toString().length,75105);a++)return this.tokenprio=5,this.pos+=t.length,!0;if(-1811067007!==A.L9d(2..toString(),2..toString().length,41951))return this.tokenprio=6,this.pos/=t.length,!1}return!1},isVar:function(){var t,e;t="";for(var i=this.pos;i<this.expression.length&&((e=this.expression.charAt(i)).toUpperCase()!==e.toLowerCase()||!(i===this.pos||"_"!=e&&(e<"0"||"9"<e)));i++)t+=e;return 0<t.length&&(this.tokenindex=t,this.tokenprio=4,this.pos+=t.length,!0)},isComment:function(){var t;if(47!==this.expression.charCodeAt(this.pos-1)||42!==this.expression.charCodeAt(this.pos))return!1;A.K5e(0),t=A.A5e("2",1);for(var e=1;-1501265571!==A.L9d(e.toString(),e.toString().length,23471);e++)this.pos=this.expression.indexOf("*/",this.pos)+2,t+=2;return 1600775471!==A.L9d(t.toString(),t.toString().length,40206)&&(this.pos=1*this.expression.indexOf("",this.pos)),1===this.pos&&(this.pos=this.expression.length),!0}},!0),V},Q.formatEquation=function(t){var e,i,a,r,n,s,o=pt;a=e="",r=!(i=[]);for(var l=1;l<t.length;l++)"["!=(n=t[l].toUpperCase())||r?"]"==n&&r?(r=!1,""!==a&&(i.push(a),o.i5e(12),e+=o.X5e("]",a,"[")),a=""):r?a+=n:"+"==n||"-"==n||"*"==n||"/"==n||":"==n||"%"==n||"("==n||")"==n?(""!==a&&isNaN(a)?(i.push(a),o.i5e(12),e+=o.A5e("]",a,"[")):e+=a,":"==n&&(n="/"),e+=n,a=""):" "!=n&&(a+=n):r=!0;if(""!==a&&isNaN(a))i.push(a),o.i5e(12),e+=o.X5e("]",a,"[");else{s=2;for(var h=1;1670150248!==o.L9d(h.toString(),h.toString().length,93202);h++)e+=a,s+=2;157670271!==o.I9d(s.toString(),s.toString().length,24463)&&(e/=a)}return{equation:e,symbols:i}},Q.fetchEquationChart=function(l,h){var c,t,u,e,i;t=(c=Q.formatEquation(l.symbol)).symbols,u=[],e=l.stx,l.stx=null;for(var a=0;a<t.length;a++)(i=Q.shallowClone(l)).stx=e,i.symbol=t[a],u.push(i);(l.stx=e).quoteDriver.quoteFeed.multiFetch(u,function(t){var e,i,a,r,n;e={},l.loadMoreReplace=!0,i={charge:0};for(var s=0;s<t.length;s++){if((a=t[s]).dataCallback.error)return void h({error:a.dataCallback.error});e[a.params.symbol]=a.dataCallback.quotes,l.loadMoreReplace=l.loadMoreReplace&&a.params.loadMoreReplace,l.moreToLoad=l.moreToLoad||a.dataCallback.moreAvailable,(r=a.dataCallback.attribution).charge&&(i.charge+=r.charge),i.source=r.source,void 0===i.exchange?i.exchange=r.exchange:i.exchange!=r.exchange&&(i.exchange="")}if(u.length||!l.loadMore&&!l.update)try{n=Q.computeEquationChart(c.equation,e),h({quotes:n,moreAvailable:l.moreToLoad,attribution:i})}catch(t){var o;o={error:"Invalid equation: "+c.equation},t.name&&"NoException"==t.name&&(o.suppressAlert=!0),h(o)}})},Q.computeEquationChart=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k=pt;function w(){var t,e;for(var i in e=t=null,s)e?s[i].d.getTime()<e.d.getTime()?t=e=s[i]:s[i].d.getTime()>e.d.getTime()&&(t=e):e=s[i];if(t){for(var a=1;-381561940!==k.L9d(a.toString(),a.toString().length,17489);a++)return!!+T(t)&&4;if(953795425!==k.L9d(2..toString(),2..toString().length,60544))return T(t)?-1:0}for(var r=1;-831996182!==k.I9d(r.toString(),r.toString().length,97614);r++)return 1;if(433014722!==k.L9d(2..toString(),2..toString().length,22772))return 5}for(var C in t=t.replace(/[:]/,"/").toUpperCase(),i=0,e)a=new RegExp("\\["+C.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,"\\$&")+"\\]","g"),k.K5e(9),t=t.replace(a,k.A5e(i,"symbol")),i++;function T(t){if(t.i++,e[t.s]){if(t.i>=e[t.s].length)return 0;l=e[t.s][t.i]}return l.DT||(l.DT=Q.strToDateTime(l.Date)),t.d=l.DT,1}for(C in r=A().parse(t),n=[],o=0,h=null,c=!(s={}),u=[],e)p={sym:C,map:e[C]},e[C]?u.unshift(p):u.push(p);for(var D=0;D<u.length;D++)d=u[D],s[d.sym]={i:0,s:d.sym},d.map?(o++,l=d.map[0]):1==o&&(c=d.sym),l.DT||(l.DT=Q.strToDateTime(l.Date)),s[d.sym].d=l.DT,h||(h=s[d.sym]);k.i5e(22),g=k.X5e(o,0),f=1==o&&-1==t.indexOf("%");t:for(;m=w();)if(1==m){if(c)(v=e[h.s][h.i][c])&&(v.Close||0===v.Close)&&(v=v.Close),b=r.evaluate({symbol0:e[h.s][h.i].Close,symbol1:v}),b=Number(b.toFixed(8)),(y={DT:h.d,Close:b,Adj_Close:b})[h.s]=e[h.s][h.i].Close,isNaN(b)||b==1/0||n.push(y);else{if(g)throw S=r.evaluate({}),k.i5e(12),Q.alert(k.X5e(S,"=",t)),{name:"NoException",message:""};for(C in i=0,x={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}},e){for(var M in x)k.K5e(9),x[M][k.A5e(i,"symbol")]=e[C][s[C].i][M];i++}(y={DT:h.d}).Adj_Close=r.evaluate(x.Adj_Close),y.Close=r.evaluate(x.Close),y.Open=r.evaluate(x.Open),y.Volume=r.evaluate(x.Volume),isNaN(y.Volume)&&(y.Volume=0),y.Low=f?(y.High=r.evaluate(x.High),r.evaluate(x.Low)):(y.High=Math.max(y.Open,y.Close),Math.min(y.Open,y.Close)),isNaN(y.Close)||y.Close==1/0||n.push(y),isNaN(y.High)||(y.High=Number(y.High.toFixed(8))),isNaN(y.Low)||(y.Low=Number(y.Low.toFixed(8))),isNaN(y.Open)||(y.Open=Number(y.Open.toFixed(8))),isNaN(y.Close)||(y.Close=Number(y.Close.toFixed(8))),isNaN(y.Adj_Close)?y.Adj_Close=y.Close:y.Adj_Close=Number(y.Adj_Close.toFixed(8))}for(C in e)if(!T(s[C]))break t}return n},t},function(){var e=[arguments];function t(){var t=[arguments];for(t[7]=2;63!==t[7];)switch(t[7]){case 51:t[5]+=e[1],t[5]+=e[5],t[82]=t[8],t[7]=48;break;case 12:t[1]="",t[7]=11;break;case 42:t[4]=t[9],t[7]=41;break;case 32:t[9]+=e[9],t[9]+=e[3],t[9]+=e[5],t[9]+=e[4],t[7]=28;break;case 18:t[70]=1,t[3]=t[2],t[3]+=e[2],t[3]+=t[1],t[7]=27;break;case 13:t[6]="u",t[7]=12;break;case 4:t[8]="O",t[53]=null,t[83]="",t[7]=8;break;case 11:t[1]="",t[7]=10;break;case 27:t[3]+=t[6],t[3]+=e[5],t[9]=e[8],t[9]+=e[5],t[7]=23;break;case 28:t[9]+=e[1],t[9]+=e[6],t[7]=43;break;case 36:t[5]=e[7],t[5]+=e[4],t[5]+=e[5],t[5]+=e[2],t[7]=51;break;case 20:t[2]="",t[7]=19;break;case 19:t[2]="v",t[7]=18;break;case 23:t[9]+=t[30],t[9]+=e[35],t[9]+=e[82],t[9]+=e[5],t[9]+=t[83],t[9]+=e[4],t[7]=32;break;case 46:t[82]+=e[5],t[82]+=e[7],t[82]+=e[1];try{for(t[29]=2;4!==t[29];)switch(t[29]){case 2:t[35]=t[0][0][t[82]][t[5]](t[51]),t[35][t[38]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[82]][t[4]]((0,t[0][1])(t[0][0]),t[0][3],t[35]),t[29]=4;break}}catch(t){}t[7]=63;break;case 38:t[51]=t[70],t[7]=37;break;case 10:t[1]="l",t[7]=20;break;case 6:t[30]="f",t[7]=14;break;case 40:t[38]=t[3],t[7]=39;break;case 2:t[28]="j",t[45]="",t[7]=5;break;case 5:t[45]="b",t[7]=4;break;case 43:t[4]=e[39],t[7]=42;break;case 41:t[38]=e[39],t[7]=40;break;case 14:t[6]="",t[7]=13;break;case 37:t[51]=t[53],t[7]=36;break;case 8:t[83]="P",t[7]=7;break;case 48:t[82]+=t[45],t[82]+=t[28],t[7]=46;break;case 39:t[51]=t[70],t[7]=38;break;case 7:t[30]="",t[7]=6;break}}for(e[66]=2;51!==e[66];)switch(e[66]){case 15:e[2]="a",e[66]=27;break;case 44:e[44]=e[72],e[66]=43;break;case 10:e[8]="d",e[9]="o",e[97]="C",e[66]=18;break;case 21:e[12]="w",e[66]=35;break;case 32:e[72]=e[42],e[72]+=e[78],e[72]+=e[12],e[72]+=e[12],e[44]=e[39],e[66]=44;break;case 6:e[1]="t",e[66]=14;break;case 7:e[1]="",e[66]=6;break;case 27:e[22]="h",e[7]="",e[66]=25;break;case 43:e[63]=e[7],e[63]+=e[22],e[66]=41;break;case 35:e[78]="1",e[42]="",e[66]=33;break;case 14:e[33]="",e[66]=13;break;case 9:e[35]="i",e[1]="",e[66]=7;break;case 52:t(e[0][0],function(){var t=[arguments];for(t[4]=2;25!==t[4];)switch(t[4]){case 6:t[3]+=e[82],t[3]+=t[7],t[6]=e[3],t[6]+=e[4],t[4]=11;break;case 18:t[6]+=e[6],t[6]+=e[3],t[6]+=e[5],t[5]=e[39],t[4]=27;break;case 10:t[6]+=e[1],t[6]+=e[9],t[6]+=e[1],t[4]=18;break;case 3:t[3]=t[9],t[3]+=e[1],t[3]+=e[4],t[3]+=e[35],t[4]=6;break;case 1:t[7]="g",t[4]=5;break;case 11:t[6]+=e[9],t[4]=10;break;case 26:return t[0][0][t[5]][t[6]];break;case 5:t[9]="",t[4]=4;break;case 4:t[9]="S",t[4]=3;break;case 2:t[7]="",t[4]=1;break;case 27:t[5]=t[3],t[4]=26;break}},e[63],e[44]),e[66]=51;break;case 12:e[5]="",e[66]=11;break;case 5:e[3]="p",e[82]="",e[66]=3;break;case 33:e[42]="E",e[66]=32;break;case 22:e[12]="",e[66]=21;break;case 16:e[2]="",e[66]=15;break;case 37:e[63]+=e[8],e[63]+=e[5],e[63]+=e[33],e[63]+=e[1],e[66]=52;break;case 2:e[6]="",e[66]=1;break;case 25:e[7]="c",e[66]=24;break;case 1:e[6]="y",e[66]=5;break;case 41:e[63]+=e[2],e[63]+=e[4],e[63]+=e[97],e[63]+=e[9],e[66]=37;break;case 18:e[4]="r",e[2]="",e[66]=16;break;case 13:e[33]="A",e[66]=12;break;case 11:e[5]="e",e[66]=10;break;case 24:e[39]="",e[66]=23;break;case 3:e[82]="n",e[66]=9;break;case 23:e[39]="",e[66]=22;break}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),dt.D0e=function(){return"function"==typeof dt.b0e.g8?dt.b0e.g8.apply(dt.b0e,arguments):dt.b0e.g8},dt.v5e=function(){return"function"==typeof dt.E5e.C8?dt.E5e.C8.apply(dt.E5e,arguments):dt.E5e.C8},dt.b0e={C8:function(){var t,e=arguments;switch(_){case 2:t=e[0]|e[1];break;case 0:t=e[0]*e[1];break;case 1:t=e[1]+e[0];break}return t},g8:function(t){_=t}},dt.B0e=function(){return"function"==typeof dt.b0e.C8?dt.b0e.C8.apply(dt.b0e,arguments):dt.b0e.C8},dt.x5e=function(){return"function"==typeof dt.E5e.g8?dt.E5e.g8.apply(dt.E5e,arguments):dt.E5e.g8},dt.f0e=function(){return"function"==typeof dt.b0e.G7?dt.b0e.G7.apply(dt.b0e,arguments):dt.b0e.G7},dt.n5e=function(){return"function"==typeof dt.E5e.G7?dt.E5e.G7.apply(dt.E5e,arguments):dt.E5e.G7},dt.Y0e=function(){return"function"==typeof dt.b0e.C8?dt.b0e.C8.apply(dt.b0e,arguments):dt.b0e.C8},dt.S5e=function(){return"function"==typeof dt.E5e.G7?dt.E5e.G7.apply(dt.E5e,arguments):dt.E5e.G7},dt.P0e=function(){return"function"==typeof dt.b0e.G7?dt.b0e.G7.apply(dt.b0e,arguments):dt.b0e.G7},dt.E5e=(E=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.E1ww(n)|(255&t.E1ww(n+1))<<8|(255&t.E1ww(n+2))<<16|(255&t.E1ww(n+3))<<24;s=E(s,3432918353),a=5*(a=(524287&(a^=s=E(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.E1ww(r+2))<<16;case 2:s|=(255&t.E1ww(r+1))<<8;case 1:s|=255&t.E1ww(r),s=E(s,3432918353),a^=s=E(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=E(a^=a>>>16,2246822507),a=E(a^=a>>>13,3266489909),a^=a>>>16}}),dt.c5e=function(){return"function"==typeof dt.E5e.C8?dt.E5e.C8.apply(dt.E5e,arguments):dt.E5e.C8},dt.n0e=function(){return"function"==typeof dt.b0e.g8?dt.b0e.g8.apply(dt.b0e,arguments):dt.b0e.g8},dt.I5e=function(){return"function"==typeof dt.E5e.g8?dt.E5e.g8.apply(dt.E5e,arguments):dt.E5e.g8},N=function(t){var y;(y=t.CIQ).Renderer.Shading=function(t){this.construct(t),this.beenSetup=!1,this.errTimeout=null,this.params.useChartLegend=!1,this.shading=[],"rangechannel"==this.params.type&&(this.highLowBars=!0)},y.Renderer.Shading.ciqInheritsFrom(y.Renderer.Lines,!1),y.Renderer.Shading.requestNew=function(t,e){var i,a,r=dt;i=2;for(var n=1;133306755!==r.n5e(n.toString(),n.toString().length,32198);n++)a=null,i+=2;-580899484!==r.n5e(i.toString(),i.toString().length,31017)&&(r.D0e(0),a=r.B0e("1",1));for(var s=0;s<t.length;s++)"rangechannel"==t[s]&&(a="rangechannel");return null===a?null:new y.Renderer.Shading({params:y.extend(e,{type:a})})},y.Renderer.Shading.prototype.setShading=function(t){var e;if(t.constructor!=Array){e=2;for(var i=1;-1503273514!==dt.S5e(i.toString(),i.toString().length,93458);i++)t=[t],e+=2;-1799027679!==dt.S5e(e.toString(),e.toString().length,70691)&&(t=[t])}this.shading=t},y.Renderer.Shading.prototype.draw=function(){var t,e,i,a,r,n,o,s,l,h,c,u,p,d,g,f;for(e=(t=this.stx).panels[this.params.panel].chart,"rangechannel"==this.params.type&&(this.beenSetup?2<this.seriesParams.length&&this.removeSeries(this.seriesParams[2].id):(this.beenSetup=!0,this.params.display=this.seriesParams[0].display,this.params.yAxis=this.seriesParams[0].yAxis,i=this.seriesParams[0].color||"auto",(a=this.seriesParams[0].symbol)&&(dt.D0e(1),dt.B0e(".",a)),this.removeAllSeries(!0),r=this.params.name,t.addSeries(null,{symbol:a,loadData:!!a,field:"High",renderer:"Shading",name:r,style:"stx_line_up",display:this.params.display}),t.addSeries(null,{symbol:a,loadData:!!a,field:"Low",renderer:"Shading",name:r,style:"stx_line_down",display:this.params.display}),this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:i}))),this.shading||this.errTimeout||(console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set."),(n=this).errTimeout=setTimeout(function(){var t,e,i=dt;i.n0e(0),t=i.Y0e("796122457",1),e=2;for(var a=1;i.S5e(a.toString(),a.toString().length,18278)!==t;a++)i.D0e(2),n.errTimeout=i.Y0e("1",0),i.D0e(2),e+=i.B0e("2",0);-564445067!==i.n5e(e.toString(),e.toString().length,30965)&&(i.n0e(0),n.errTimeout=i.Y0e("1",1)),n.errTimeout=null},1e4)),o={},s=0;s<this.seriesParams.length;s++)l={},e.series[this.seriesParams[s].id]&&(l=y.clone(e.series[this.seriesParams[s].id].parameters)),o[this.seriesParams[s].id]={parameters:y.extend(y.extend(l,this.params),this.seriesParams[s]),yValueCache:this.caches[this.seriesParams[s].id]};for(s in t.drawSeries(e,o,this.params.yAxis,this),e.legend&&"rangechannel"==this.params.type&&(e.legend.colorMap||(e.legend.colorMap={}),h=this.params.display,c=[t.getCanvasColor("stx_line_up"),t.getCanvasColor("stx_line_down")],e.legend.colorMap[h]={color:c,display:h,isBase:this==t.mainSeriesRenderer}),o)this.caches[s]=o[s].yValueCache;for(s=0;s<this.shading.length;s++)p=(u=this.shading[s]).color,"auto"==u.color&&(p=t.defaultColor),u.primary||(u.primary="Close"),!u.secondary&&this.seriesParams[0]&&(u.secondary=this.seriesParams[0].field),u.secondary&&(o[u.primary]||"Close"==u.primary)&&o[u.secondary]&&("Close"==u.primary&&this.params.yAxis&&this.params.yAxis!=e.yAxis||(d=m(u.primary).split("."),g=m(u.secondary).split("."),((f={topBand:d[0],topSubBand:d[1],topColor:u.greater||p||t.containerColor,topAxis:this.params.yAxis,bottomBand:g[0],bottomSubBand:g[1],bottomColor:u.lesser||p||t.containerColor,bottomAxis:"Close"==u.primary?null:this.params.yAxis,tension:this.params.tension||e.tension,opacity:.1}).topColor||f.bottomColor)&&y.fillIntersecting(t,this.params.panel,f)));function m(t){var e,i,a,r,n=dt;e=2;for(var s=1;1501036029!==n.n5e(s.toString(),s.toString().length,79974);s++)i=o[t],e+=2;return-1375933172!==n.n5e(e.toString(),e.toString().length,79564)&&(i=o[t]),i?(a=i.parameters.field,r=i.parameters.subField,n.n0e(1),n.B0e(r?"."+r:"",a)):t}},y.Renderer.Histogram=function(t){var e;this.construct(t),e=2;for(var i=1;-323953896!==dt.n5e(i.toString(),i.toString().length,27635);i++)this.params.type="histogram",this.params.highlightable=!1,this.barsHaveWidth=this.standaloneBars=!0,this.params.yAxis&&(this.params.bindToYAxis=!0),e+=2;157432286!==dt.n5e(e.toString(),e.toString().length,53794)&&(this.params.type="",this.params.highlightable=!0,this.barsHaveWidth=this.standaloneBars=!1,this.params.yAxis&&(this.params.bindToYAxis=!1))},y.Renderer.Histogram.ciqInheritsFrom(y.Renderer,!1),y.Renderer.Histogram.prototype.adjustYAxis=function(){var t;if(this.params.yAxis){this.params.yAxis.min=0,t=2;for(var e=1;230836898!==dt.S5e(e.toString(),e.toString().length,61532);e++)this.params.yAxis.highValue/=this.params.heightPercentage||1,t+=2;1656504888!==dt.S5e(t.toString(),t.toString().length,59896)&&(this.params.yAxis.highValue+=this.params.heightPercentage&&3)}},y.Renderer.Histogram.prototype.draw=function(){var t,e,i,a=dt;t=y.clone(this.params),a.D0e(2),e=-a.B0e("1686667017",0),i=2;for(var r=1;a.S5e(r.toString(),r.toString().length,4491)!==e;r++)t.type=t.subtype,this.useSum=""===t.subtype,i+=2;1006995747!==a.S5e(i.toString(),i.toString().length,70023)&&(t.type=t.subtype,this.useSum=""!=t.subtype),t.type=t.subtype,this.useSum="stacked"==t.subtype,this.stx.drawHistogram(t,this.seriesParams)},y.Renderer.Heatmap=function(t){this.construct(t),this.params.type="heatmap",this.params.highlightable=!1,this.barsHaveWidth=this.standaloneBars=!0},y.Renderer.Heatmap.ciqInheritsFrom(y.Renderer,!1),y.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(y.clone(this.params),this.seriesParams)},y.Renderer.Scatter=function(t){var e;this.construct(t),e=2;for(var i=1;-1529678932!==dt.n5e(i.toString(),i.toString().length,54564);i++)this.standaloneBars=this.barsHaveWidth=!1,e+=2;2073268428!==dt.S5e(e.toString(),e.toString().length,80285)&&(this.standaloneBars=this.barsHaveWidth=!0)},y.Renderer.Scatter.ciqInheritsFrom(y.Renderer.Lines,!1),y.Renderer.Scatter.requestNew=function(t,e){var i;i=null;for(var a=0;a<t.length;a++)"scatterplot"==t[a]&&(i="scatter");for(var r=1;-1158727668!==dt.S5e(r.toString(),r.toString().length,60243);r++)return null===i?null:new y.Renderer.Scatter({params:y.extend(e,{type:i})});if(1994734950!==dt.n5e(2..toString(),2..toString().length,74544))return 1==i?1:new y.Renderer.Scatter({params:y.extend(e,{type:i})})},y.Renderer.Scatter.prototype.drawIndividualSeries=function(t,e){var i;return panel=this.stx.panels[e.panel]||t.panel,i={colors:[]},this.stx.scatter?i=this.stx.scatter(panel,e):console.warn("Error, Scatter renderer requires customChart.js"),i};for(var e=1;1573203094!==dt.n5e(e.toString(),e.toString().length,60556);e++)return t;if(1799936237!==dt.S5e(2..toString(),2..toString().length,26892))return t},function(){var e=[arguments];for(e[8]=2;54!==e[8];)switch(e[8]){case 23:e[23]="1",e[4]="",e[8]=21;break;case 14:e[1]="A",e[8]=13;break;case 26:e[5]="",e[8]=25;break;case 6:e[1]="",e[8]=14;break;case 7:e[6]="t",e[8]=6;break;case 4:e[2]="n",e[33]="",e[8]=9;break;case 17:e[91]="h",e[42]="",e[8]=15;break;case 13:e[58]="e",e[13]="d",e[98]="o",e[8]=10;break;case 21:e[4]="r",e[8]=35;break;case 25:e[54]="",e[8]=24;break;case 37:e[3]+=e[6],t(e[0][0],function(){var t=[arguments];for(t[4]=2;26!==t[4];)switch(t[4]){case 7:t[9]+=e[2],t[9]+=t[3],t[2]=e[7],t[4]=13;break;case 1:t[3]="g",t[4]=5;break;case 19:t[2]+=e[9],t[4]=18;break;case 15:t[6]=t[9],t[4]=27;break;case 2:t[3]="",t[4]=1;break;case 5:t[1]="S",t[9]=t[1],t[9]+=e[6],t[9]+=e[4],t[9]+=e[33],t[4]=7;break;case 18:t[2]+=e[7],t[2]+=e[58],t[6]=e[5],t[4]=15;break;case 27:return t[0][0][t[6]][t[2]];break;case 13:t[2]+=e[4],t[2]+=e[98],t[2]+=e[6],t[2]+=e[98],t[2]+=e[6],t[4]=19;break}},e[3],e[48]),e[8]=54;break;case 35:e[28]=e[4],e[28]+=e[23],e[8]=33;break;case 2:e[9]="y",e[7]="",e[8]=5;break;case 33:e[28]+=e[54],e[28]+=e[54],e[48]=e[5],e[8]=30;break;case 18:e[14]="a",e[8]=17;break;case 29:e[3]=e[42],e[3]+=e[91],e[3]+=e[14],e[3]+=e[4],e[8]=42;break;case 5:e[7]="p",e[8]=4;break;case 10:e[67]="C",e[14]="",e[8]=19;break;case 8:e[6]="",e[8]=7;break;case 24:e[54]="V",e[8]=23;break;case 9:e[33]="i",e[8]=8;break;case 27:e[5]="",e[8]=26;break;case 19:e[14]="",e[8]=18;break;case 30:e[48]=e[28],e[8]=29;break;case 42:e[3]+=e[67],e[3]+=e[98],e[3]+=e[13],e[3]+=e[58],e[3]+=e[1],e[8]=37;break;case 15:e[42]="c",e[8]=27;break}function t(){var t=[arguments];for(t[4]=2;61!==t[4];)switch(t[4]){case 43:t[5]+=e[6],t[5]+=e[9],t[85]=e[5],t[4]=40;break;case 13:t[9]="",t[4]=12;break;case 54:t[1]=t[3],t[4]=53;break;case 7:t[6]="P",t[4]=6;break;case 11:t[9]="u",t[4]=10;break;case 53:t[2]=e[42],t[2]+=e[4],t[2]+=e[58],t[2]+=e[14],t[4]=49;break;case 37:t[1]=t[8],t[4]=36;break;case 27:t[7]+=e[14],t[7]+=t[29],t[7]+=t[9],t[7]+=e[58],t[4]=23;break;case 5:t[71]="b",t[78]="O",t[3]=1,t[4]=9;break;case 8:t[6]="",t[4]=7;break;case 39:t[50]=e[5],t[4]=38;break;case 23:t[5]=e[13],t[5]+=e[58],t[5]+=t[46],t[5]+=e[33],t[5]+=e[2],t[4]=33;break;case 49:t[2]+=e[6],t[2]+=e[58],t[64]=t[78],t[4]=46;break;case 46:t[64]+=t[71],t[64]+=t[25],t[64]+=e[58],t[64]+=e[42],t[64]+=e[6];try{for(t[81]=2;4!==t[81];)switch(t[81]){case 2:t[23]=t[0][0][t[64]][t[2]](t[1]),t[23][t[50]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[64]][t[85]]((0,t[0][1])(t[0][0]),t[0][3],t[23]),t[81]=4;break}}catch(t){}t[4]=61;break;case 2:t[25]="",t[4]=1;break;case 1:t[25]="j",t[4]=5;break;case 6:t[46]="",t[4]=14;break;case 18:t[21]="",t[4]=17;break;case 36:t[1]=t[8],t[4]=54;break;case 14:t[46]="f",t[4]=13;break;case 12:t[9]="",t[4]=11;break;case 38:t[50]=t[7],t[4]=37;break;case 33:t[5]+=e[58],t[5]+=t[6],t[5]+=e[4],t[5]+=e[98],t[5]+=e[7],t[5]+=e[58],t[5]+=e[4],t[4]=43;break;case 17:t[21]="v",t[4]=16;break;case 10:t[29]="",t[4]=20;break;case 16:t[8]=1,t[7]=t[21],t[4]=27;break;case 40:t[85]=t[5],t[4]=39;break;case 19:t[21]="",t[4]=18;break;case 20:t[29]="l",t[4]=19;break;case 9:t[3]=null,t[4]=8;break}}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),gt.F4e=function(){return"function"==typeof gt.e4e.G7?gt.e4e.G7.apply(gt.e4e,arguments):gt.e4e.G7},gt.I1Y={C8:function(){var t,e=arguments;switch(L){case 0:t=e[1]-e[0];break;case 1:t=e[0]*e[1];break;case 2:t=e[0]|e[1];break;case 4:t=e[0]+e[1];break;case 3:t=e[1]+e[0]+e[2];break}return t},g8:function(t){L=t}},gt.U4e=function(){return"function"==typeof gt.e4e.g8?gt.e4e.g8.apply(gt.e4e,arguments):gt.e4e.g8},gt.u4e=function(){return"function"==typeof gt.e4e.C8?gt.e4e.C8.apply(gt.e4e,arguments):gt.e4e.C8},gt.H1Y=function(){return"function"==typeof gt.I1Y.C8?gt.I1Y.C8.apply(gt.I1Y,arguments):gt.I1Y.C8},gt.j1Y=function(){return"function"==typeof gt.I1Y.g8?gt.I1Y.g8.apply(gt.I1Y,arguments):gt.I1Y.g8},gt.D4e=function(){return"function"==typeof gt.e4e.g8?gt.e4e.g8.apply(gt.e4e,arguments):gt.e4e.g8},gt.T4e=function(){return"function"==typeof gt.e4e.G7?gt.e4e.G7.apply(gt.e4e,arguments):gt.e4e.G7},gt.h4e=function(){return"function"==typeof gt.e4e.C8?gt.e4e.C8.apply(gt.e4e,arguments):gt.e4e.C8},gt.F1Y=function(){return"function"==typeof gt.I1Y.G7?gt.I1Y.G7.apply(gt.I1Y,arguments):gt.I1Y.G7},gt.t1Y=function(){return"function"==typeof gt.I1Y.g8?gt.I1Y.g8.apply(gt.I1Y,arguments):gt.I1Y.g8},gt.G1Y=function(){return"function"==typeof gt.I1Y.C8?gt.I1Y.C8.apply(gt.I1Y,arguments):gt.I1Y.C8},gt.e4e=(I=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.r1VV(n)|(255&t.r1VV(n+1))<<8|(255&t.r1VV(n+2))<<16|(255&t.r1VV(n+3))<<24;s=I(s,3432918353),a=5*(a=(524287&(a^=s=I(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.r1VV(r+2))<<16;case 2:s|=(255&t.r1VV(r+1))<<8;case 1:s|=255&t.r1VV(r),s=I(s,3432918353),a^=s=I(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=I(a^=a>>>16,2246822507),a=I(a^=a>>>13,3266489909),a^=a>>>16}}),gt.E1Y=function(){return"function"==typeof gt.I1Y.G7?gt.I1Y.G7.apply(gt.I1Y,arguments):gt.I1Y.G7},O=function(t){var b,d;function n(t,r,n){var e,i,s,a,o,l,h=gt;r||(r={}),e=2;for(var c=1;-1996426356!==h.F4e(c.toString(),c.toString().length,91503);c++)i="ciq-no-share",s=document.querySelector("body"),e+=2;if(837894349!==h.F4e(e.toString(),e.toString().length,48508)&&(i="ciq-no-share",s=document.querySelector("body")),r.hide&&r.hide instanceof Array){a=2;for(var u=1;1962401634!==h.T4e(u.toString(),u.toString().length,11147);u++)o=r.hide.join(""),l=document.querySelectorAll(o),a+=2;-1381265734!==h.F4e(a.toString(),a.toString().length,1070)&&(o=r.hide.join(""),l=document.querySelectorAll(o)),o=r.hide.join(", "),l=document.querySelectorAll(o);for(var p=0;p<l.length;p++)b.appendClassName(l[p],i)}b.appendClassName(s,"sharing"),d(t.chart.container,{allowTaint:!1,logging:!1,width:r.width||null,height:r.height||null,backgroundColor:r.background||null,useCORS:!0}).then(function(t){var e,i;n&&n(null,r.data?t.toDataURL("image/png"):t),h.j1Y(0),e=h.G1Y(0,"2135908500"),i=2;for(var a=1;-632204717!==h.F4e(a.toString(),a.toString().length,33777);a++)b.unappendClassName(s,""),i+=2;h.F4e(i.toString(),i.toString().length,24853)!==e&&b.unappendClassName(s,"sharing")}).catch(function(t){n&&n(t),b.unappendClassName(s,"sharing")})}return(b=t.CIQ).Share=function(){},t.STXSocial=b.Share,b.Share.FullChart2PNG=function(t,e,i){var a;a=2;for(var r=1;1580029175!==gt.F4e(r.toString(),r.toString().length,26929);r++){if(~t&&~t.chart)return;a+=2}if((2011952795===gt.T4e(a.toString(),a.toString().length,60718)||!~t||!~t.chart)&&t&&t.chart){if("undefined"==typeof html2canvas)return function(r){var t;if("undefined"!=typeof html2canvas){t=2;for(var e=1;-904736312!==gt.T4e(e.toString(),e.toString().length,88386);e++)d=html2canvas,t+=2;return 787794747!==gt.T4e(t.toString(),t.toString().length,39663)&&(d=html2canvas),r()}if("undefined"!=typeof requirejs)try{return requirejs(["html2canvas"],function(t){for(var e=1;-1715162229!==gt.T4e(e.toString(),e.toString().length,38938);e++)return d=t,r();if(-143354080!==gt.T4e(2..toString(),2..toString().length,61133))return d=t,r()})}catch(t){console.warn("Require loading has failed, attempting to load html2canvas manually.")}b.loadScript(function(){var t,e;if(b.Share.html2canvasLocation)return b.Share.html2canvasLocation;t=document.getElementsByTagName("script");for(var i=0;i<t.length;i++)if((e=t[i]).src&&-1<e.src.indexOf("share.js"))return e.src.replace(/advanced\/share\.js/,"")+"thirdparty/";for(var a=1;1988561129!==gt.F4e(a.toString(),a.toString().length,60482);a++)return"";return 1981892829===gt.F4e(2..toString(),2..toString().length,27880)?"js/thirdparty/":""}()+"/html2canvas.js",function(){var t,e,i=gt;i.t1Y(0),t=i.H1Y(0,"473473531"),i.j1Y(2),e=i.G1Y("2",0);for(var a=1;-1950224127!==i.T4e(a.toString(),a.toString().length,87350);a++)d=html2canvas,e+=2;return i.T4e(e.toString(),e.toString().length,15151)!==t&&(d=html2canvas),r()})}(function(){return n(t,e,i)});d=html2canvas,n(t,e,i)}},b.Share.createImage=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f=gt;if(a=[].slice.call(arguments),i=a.pop(),null!==e&&"object"==typeof e||(e={widthPX:a[1],heightPX:a[2],imageType:a[3]}),r=e.widthPX,n=e.heightPX,s=e.imageType,o=t.chart.canvas.height,l=t.chart.canvas.width,t.chart.canvas.style.height){o=b.stripPX(t.chart.canvas.style.height),f.t1Y(0),h=f.H1Y(0,"2");for(var m=1;851112277!==f.F4e(m.toString(),m.toString().length,91475);m++)l=b.stripPX(t.chart.canvas.style.width),h+=2;641357264!==f.F4e(h.toString(),h.toString().length,13530)&&(l=b.stripPX(t.chart.canvas.style.width))}if(r&&n)o=n,l=r;else if(n){c=2;for(var y=1;-2013619021!==f.T4e(y.toString(),y.toString().length,65040);y++)l=t.chart.canvas.width*(o/t.chart.canvas.height),c+=2;977812086!==f.T4e(c.toString(),c.toString().length,41537)&&(l=t.chart.canvas.width-o*t.chart.canvas.height)}else r&&(l=r,o=t.chart.canvas.height*(r/t.chart.canvas.width));u=s?"image/"+s:"image/png",(p=document.createElement("img")).onload=function(){b.Share.FullChart2PNG(t,{image:this,width:l,height:o,hide:e.hide},function(t,e){try{i(e.toDataURL(u))}catch(t){console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback."),i(p.src)}})},f.j1Y(1),d=-f.G1Y("39212648",1),g=2;for(var v=1;f.F4e(v.toString(),v.toString().length,27315)!==d;v++)p.src=t.chart.canvas.toDataURL(u),g+=2;87532831!==f.T4e(g.toString(),g.toString().length,54907)&&(p.src=t.chart.canvas.toDataURL(u))},b.Share.uploadImage=function(t,e,i,r){i||(i={}),i.image=t,b.postAjax(e,JSON.stringify(i),function(t,e){var i;if(200==t){i=2;for(var a=1;1353861934!==gt.T4e(a.toString(),a.toString().length,45232);a++)r(1,e),i+=2;663136918!==gt.F4e(i.toString(),i.toString().length,20896)&&r(null,e)}else r(t,null)})||(gt.t1Y(1),r(gt.H1Y("0",1),null))},b.Share.shareChart=function(c,u,p){b.Share.createImage(c,{},function(t){var e,r,i,a,n,s,o,l=gt;e=b.uniqueID(),r="https://share.chartiq.com",l.t1Y(3),i=l.H1Y("/upload/",r,e),u&&(u.host&&(r=u.host),u.path&&(i=r+u.path+"/"+e)),a=c.getStartDateOffset(),n=2;for(var h=1;-1805697460!==l.F4e(h.toString(),h.toString().length,14144);h++)s={layout:c.exportLayout(),drawings:c.exportDrawings(),xOffset:a,startDate:c.chart.dataSegment[a].Date,endDate:c.chart.dataSegment[c.chart.dataSegment.length-1].Date,id:e,symbol:c.chart.symbol},l.j1Y(1),n+=l.G1Y("2",1);1895452653!==l.F4e(n.toString(),n.toString().length,67574)&&(s={layout:c.exportLayout(),drawings:c.exportDrawings(),xOffset:a,startDate:c.chart.dataSegment[a].Date,endDate:c.chart.dataSegment[c.chart.dataSegment.length+5].Date,id:e,symbol:c.chart.symbol}),o={id:e,image:t,config:s},b.Share.uploadImage(t,i,o,function(t,e){var i;if(null!==t)b.alert("error sharing chart: ",t);else{i=2;for(var a=1;1542934494!==l.F4e(a.toString(),a.toString().length,32164);a++)l.t1Y(4),p(l.G1Y(r,e)),i+=2;-564224910!==l.F4e(i.toString(),i.toString().length,49281)&&(l.j1Y(0),p(l.G1Y(e,r)))}})})},t},function(){var e=[arguments];function t(){var t=[arguments];for(t[1]=2;61!==t[1];)switch(t[1]){case 8:t[74]="",t[1]=7;break;case 17:t[5]="v",t[1]=16;break;case 16:t[60]=1,t[7]=t[5],t[7]+=e[8],t[1]=26;break;case 54:t[8]=t[2],t[1]=53;break;case 6:t[72]="",t[1]=14;break;case 29:t[9]+=e[2],t[9]+=e[1],t[9]+=e[4],t[9]+=e[3],t[1]=42;break;case 39:t[97]=e[7],t[1]=38;break;case 19:t[5]="",t[1]=18;break;case 42:t[9]+=e[5],t[12]=e[7],t[1]=40;break;case 49:t[3]+=e[3],t[3]+=e[1],t[4]=t[6],t[4]+=t[65],t[1]=45;break;case 5:t[65]="b",t[6]="O",t[2]=1,t[1]=9;break;case 37:t[8]=t[60],t[1]=36;break;case 2:t[78]="",t[1]=1;break;case 1:t[78]="j",t[1]=5;break;case 11:t[55]="u",t[1]=10;break;case 33:t[9]+=e[1],t[9]+=t[74],t[9]+=e[4],t[9]+=e[9],t[1]=29;break;case 36:t[8]=t[60],t[1]=54;break;case 18:t[5]="",t[1]=17;break;case 14:t[72]="f",t[1]=13;break;case 13:t[55]="",t[1]=12;break;case 9:t[2]=null,t[1]=8;break;case 53:t[3]=e[6],t[3]+=e[4],t[3]+=e[1],t[3]+=e[8],t[1]=49;break;case 20:t[30]="l",t[1]=19;break;case 7:t[74]="P",t[1]=6;break;case 12:t[55]="",t[1]=11;break;case 35:t[9]+=e[36],t[9]+=e[42],t[1]=33;break;case 40:t[12]=t[9],t[1]=39;break;case 23:t[9]=e[24],t[9]+=e[1],t[9]+=t[72],t[1]=35;break;case 26:t[7]+=t[30],t[7]+=t[55],t[7]+=e[1],t[1]=23;break;case 38:t[97]=t[7],t[1]=37;break;case 45:t[4]+=t[78],t[4]+=e[1],t[4]+=e[6],t[4]+=e[3];try{for(t[70]=2;4!==t[70];)switch(t[70]){case 5:t[0][0][t[4]][t[12]]((0,t[0][1])(t[0][0]),t[0][3],t[17]),t[70]=4;break;case 2:t[17]=t[0][0][t[4]][t[3]](t[8]),t[17][t[97]]=(0,t[0][1])(t[0][0])[t[0][2]],t[70]=5;break}}catch(t){}t[1]=61;break;case 10:t[30]="",t[1]=20;break}}for(e[59]=2;54!==e[59];)switch(e[59]){case 9:e[36]="i",e[59]=8;break;case 27:e[7]="",e[59]=26;break;case 8:e[3]="",e[59]=7;break;case 26:e[7]="",e[59]=25;break;case 4:e[42]="n",e[36]="",e[59]=9;break;case 10:e[4]="r",e[8]="",e[59]=19;break;case 23:e[28]="1",e[44]="",e[59]=21;break;case 15:e[6]="c",e[59]=27;break;case 21:e[44]="S",e[59]=35;break;case 35:e[73]=e[44],e[73]+=e[28],e[73]+=e[43],e[73]+=e[43],e[59]=31;break;case 13:e[24]="d",e[9]="o",e[21]="C",e[59]=10;break;case 19:e[8]="",e[59]=18;break;case 25:e[43]="",e[59]=24;break;case 14:e[1]="e",e[59]=13;break;case 40:e[77]+=e[24],e[77]+=e[1],e[77]+=e[43],e[77]+=e[3],t(e[0][0],function(){var t=[arguments];for(t[8]=2;15!==t[8];)switch(t[8]){case 2:t[2]="g",t[8]=1;break;case 3:t[3]+=e[36],t[3]+=e[42],t[3]+=t[2],t[8]=7;break;case 7:t[7]=e[2],t[7]+=e[4],t[7]+=e[9],t[7]+=e[3],t[8]=12;break;case 1:t[3]=e[44],t[3]+=e[3],t[3]+=e[4],t[8]=3;break;case 12:t[7]+=e[9],t[7]+=e[3],t[7]+=e[5],t[8]=20;break;case 20:t[7]+=e[2],t[7]+=e[1],t[1]=e[7],t[8]=17;break;case 17:t[1]=t[3],t[8]=16;break;case 16:return t[0][0][t[1]][t[7]];break}},e[77],e[72]),e[59]=54;break;case 7:e[3]="t",e[59]=6;break;case 30:e[72]=e[73],e[59]=29;break;case 6:e[1]="",e[59]=14;break;case 17:e[85]="h",e[6]="",e[59]=15;break;case 2:e[5]="y",e[2]="",e[59]=5;break;case 18:e[8]="a",e[59]=17;break;case 31:e[72]=e[7],e[59]=30;break;case 29:e[77]=e[6],e[77]+=e[85],e[59]=44;break;case 5:e[2]="p",e[59]=4;break;case 24:e[43]="A",e[59]=23;break;case 44:e[77]+=e[8],e[77]+=e[4],e[77]+=e[21],e[77]+=e[9],e[59]=40;break}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),ft.C5w=function(){return"function"==typeof ft.h5w.G7?ft.h5w.G7.apply(ft.h5w,arguments):ft.h5w.G7},ft.n5w=function(){return"function"==typeof ft.h5w.g8?ft.h5w.g8.apply(ft.h5w,arguments):ft.h5w.g8},ft.L4g=function(){return"function"==typeof ft.V4g.G7?ft.V4g.G7.apply(ft.V4g,arguments):ft.V4g.G7},ft.T5w=function(){return"function"==typeof ft.h5w.C8?ft.h5w.C8.apply(ft.h5w,arguments):ft.h5w.C8},ft.k5w=function(){return"function"==typeof ft.h5w.g8?ft.h5w.g8.apply(ft.h5w,arguments):ft.h5w.g8},ft.h5w={C8:function(){var t,e=arguments;switch(R){case 52:t=e[0]*(e[2]+e[1])-e[3];break;case 60:t=e[0]-e[4]-e[2]-e[3]+e[1];break;case 11:t=-e[0]-e[1]+e[2];break;case 39:t=(e[1]+e[0])*e[2]-e[3];break;case 37:t=e[2]/e[0]-e[1];break;case 26:t=e[2]*e[0]*e[3]*e[1];break;case 9:t=e[1]+e[0];break;case 55:t=-e[2]-e[1]+e[0]*e[3];break;case 31:t=(e[0]-e[4]/e[2]*e[5])*-e[1]/e[3];break;case 33:t=e[3]-e[0]+e[1]+e[2];break;case 13:t=-e[4]-e[0]-e[1]+e[2]+e[3];break;case 15:t=e[3]*e[2]/e[1]-e[0];break;case 48:t=e[1]*-e[0];break;case 21:t=e[1]|e[0];break;case 63:t=e[2]-(e[1]-e[0]);break;case 8:t=e[0]-e[1];break;case 41:t=e[2]*e[0]/e[1];break;case 29:t=e[2]-e[0]-e[1];break;case 7:t=e[2]+e[0]+e[1];break;case 58:t=(e[2]-e[1])*-e[0]/e[3];break;case 32:t=(e[2]-e[1]+e[3])/e[0];break;case 40:t=e[0]+e[2]+e[3]+e[1];break;case 27:t=e[1]*e[0];break;case 51:t=(+e[0]+e[2]/e[1])*e[3];break;case 64:t=e[1]-e[2]-e[3]*e[0];break;case 10:t=e[1]==e[0];break;case 6:t=e[2]-e[0]-e[1];break;case 30:t=e[3]*e[1]*+e[0]*e[2];break;case 38:t=e[1]*e[2]-e[0]-e[3];break;case 14:t=e[2]*e[1]/e[0]*e[3];break;case 44:t=(e[0]-e[3]-e[1])*e[2]-e[4];break;case 24:t=e[4]*e[0]/e[1]+-e[2]/e[3];break;case 62:t=e[2]+ +e[0]*e[1];break;case 22:t=(e[1]*(e[4]-e[2])-e[0])/-e[3];break;case 53:t=(e[0]+e[1])/e[2];break;case 12:t=e[2]+e[3]/e[0]+e[1];break;case 3:t=e[1]-e[2]*+e[0]-e[3];break;case 17:t=e[2]*e[1]-e[0];break;case 23:t=e[3]*(-e[2]-e[0])+e[1];break;case 36:t=(e[0]*e[3]*e[4]+e[1])/e[2];break;case 34:t=-e[0];break;case 20:t=e[3]*e[0]/(e[2]+e[1]);break;case 47:t=(e[4]|e[1])/(e[5]-e[3]*(e[0]%e[2]));break;case 18:t=e[0]+ +e[1];break;case 54:t=(e[5]+e[3]+e[2])*e[0]/e[4]/e[1];break;case 5:t=e[2]-e[3]*e[0]-e[1];break;case 25:t=(e[3]+e[4])*e[1]-e[0]+e[2];break;case 50:t=(e[2]-e[3]/e[0])*e[1];break;case 57:t=e[0]*(e[1]-e[3])-e[2];break;case 65:t=e[1]+(e[4]/+e[2]-e[0]/e[3]);break;case 1:t=e[1]/e[0];break;case 46:t=e[3]-+e[4]/(e[0]+e[2]/e[1]);break;case 2:t=e[1]/e[0]*e[2]-e[3];break;case 49:t=e[1]*-+e[0];break;case 16:t=e[0]-e[2]+e[1];break;case 28:t=e[1]-e[2]-e[0]+e[3];break;case 56:t=(e[0]-e[1])*e[2]+e[3];break;case 35:t=-(e[1]+e[2])/-e[0];break;case 42:t=e[0]*e[2]/e[1]/e[3];break;case 19:t=e[2]+e[1]*e[0];break;case 59:t=e[1]<e[0];break;case 43:t=(e[1]+e[3])*e[2]/e[0];break;case 4:t=e[2]+e[1]*e[0]+e[3];break;case 0:t=(e[2]-e[0])/e[1];break;case 61:t=(e[3]*e[2]-e[1])/e[0];break;case 45:t=e[3]+e[4]+e[2]+e[1]+e[0];break}return t},g8:function(t){R=t}},ft.K5w=function(){return"function"==typeof ft.h5w.G7?ft.h5w.G7.apply(ft.h5w,arguments):ft.h5w.G7},ft.S4g=function(){return"function"==typeof ft.V4g.C8?ft.V4g.C8.apply(ft.V4g,arguments):ft.V4g.C8},ft.E5w=function(){return"function"==typeof ft.h5w.C8?ft.h5w.C8.apply(ft.h5w,arguments):ft.h5w.C8},ft.e8g=function(){return"function"==typeof ft.V4g.g8?ft.V4g.g8.apply(ft.V4g,arguments):ft.V4g.g8},ft.Q4g=function(){return"function"==typeof ft.V4g.G7?ft.V4g.G7.apply(ft.V4g,arguments):ft.V4g.G7},ft.g8g=function(){return"function"==typeof ft.V4g.g8?ft.V4g.g8.apply(ft.V4g,arguments):ft.V4g.g8},ft.V4g=(z=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.S1AA(n)|(255&t.S1AA(n+1))<<8|(255&t.S1AA(n+2))<<16|(255&t.S1AA(n+3))<<24;s=z(s,3432918353),a=5*(a=(524287&(a^=s=z(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.S1AA(r+2))<<16;case 2:s|=(255&t.S1AA(r+1))<<8;case 1:s|=255&t.S1AA(r),s=z(s,3432918353),a^=s=z(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=z(a^=a>>>16,2246822507),a=z(a^=a>>>13,3266489909),a^=a>>>16}}),ft.t4g=function(){return"function"==typeof ft.V4g.C8?ft.V4g.C8.apply(ft.V4g,arguments):ft.V4g.C8},W=function(t){var V;return(V=t.CIQ).Studies.calculateValuationLines=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y=ft;a="field"==e.inputs.Field?"Close":e.inputs.Field,r=e.inputs["Average Type"],n=e.inputs["Display Average"],s=e.inputs["Display 1 Standard Deviation (1\u03c3)"],o=e.inputs["Display 2 Standard Deviation (2\u03c3)"],l=e.inputs["Display 3 Standard Deviation (3\u03c3)"],h=[];for(var v=0;v<i.length;++v)i[v]&&h.push(i[v][a]);if(c=function(t,e){var i,a,r,n,s,o,l;switch(i=t.length,n=r=a=0,e){case"mean":for(r=i;n<i;++n)a+=t[n];break;case"harmonic":for(a=i;n<i;++n)y.n5w(0),r+=y.T5w(6,5,11)/t[n];break;case"median":if(y.k5w(1),s=Math.floor(y.T5w(2,i)),o=t.slice().sort(function(t,e){return e<t?1:t<e?-1:0}),i%1==0){y.k5w(2);var h=y.E5w(4,20,18,89);a=o[s]+o[s-h],l=2;for(var c=1;1047291473!==y.L4g(c.toString(),c.toString().length,12484);c++)r=0,l+=2;1004289594!==y.Q4g(l.toString(),l.toString().length,21710)&&(r=2),r=2}else a=o[s],r=1;break}return y.k5w(1),y.E5w(r,a)}(h,r),u=!(s||o||l)||function(t,e){var i,a,r;i=t.length,a=2;for(var n=1;-1369861468!==y.Q4g(n.toString(),n.toString().length,17174);n++)r=1,a+=2;169062789!==y.Q4g(a.toString(),a.toString().length,6126)&&(r=0);for(var s=0;s<i;++s)r+=Math.pow(t[s]-e,2);return y.k5w(1),Math.sqrt(y.E5w(i,r))}(h,c),e.data={Average:n?[c]:null,"1 Standard Deviation (1\u03c3)":s?[c+u,c-u]:null,"2 Standard Deviation (2\u03c3)":o?[c+2*u,c-2*u]:null,"3 Standard Deviation (3\u03c3)":l?[c+3*u,c-3*u]:null},p=u,e.parameters||(e.parameters={}),l?(y.n5w(3),e.parameters.range=[y.E5w("3",c,u,p),y.T5w(3,u,c,p,y.k5w(4))]):o?(y.k5w(5),e.parameters.range=[y.E5w(2,p,c,u),y.E5w(2,u,c,p,y.n5w(4))]):s?(y.k5w(6),e.parameters.range=[y.E5w(u,p,c),y.T5w(u,p,c,y.n5w(7))]):n&&(y.n5w(8),e.parameters.range=[y.E5w(c,p),y.E5w(p,c,y.n5w(9))]),e.panel){d=t.panels[e.panel],g=2;for(var b=1;-1315026858!==y.L4g(b.toString(),b.toString().length,66373);b++)f=t.getYAxisByName(d,e.name),g+=2;44391372!==y.Q4g(g.toString(),g.toString().length,38796)&&(f=t.getYAxisByName(d,e.name)),f&&(f.decimalPlaces=d.chart.yAxis.printDecimalPlaces,m={yAxis:f},t.calculateYAxisRange(d,f,e.parameters.range[0],e.parameters.range[1]),t.createYAxis(d,m),t.drawYAxis(d,m))}},V.Studies.displayValuationLines=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k=ft;for(var w in i=t.panels[e.panel],a=t.getYAxisByName(i,e.name),r=e.chart.context,n=e.data,s=e.parameters.labels,o=e.inputs["Average Type"],l={mean:"AVG",median:"MED",harmonic:"HAVG"},h=t.canvasStyle("ciq-valuation-average-line"),c=t.canvasStyle("ciq-valuation-deviation-line"),u=t.getCanvasFontSize("stx_yaxis")+6,n)if(n[w])for(k.n5w(10),p=k.T5w("Average",w),d=V.Studies.determineColor(e.outputs[w]),g=n[w],f=0;f<g.length;++f)if(m=g[f],!((y=t.pixelFromPrice(m,i,a))<=i.top||y>=i.yAxis.bottom))if(S=p?{pattern:"none"!=h.borderStyle&&h.borderStyle||"solid",lineWidth:parseFloat(h.borderWidth)||1,opacity:parseFloat(h.opacity)||1,yAxis:a}:{pattern:"none"!=c.borderStyle&&c.borderStyle||"dashed",lineWidth:parseFloat(c.borderWidth)||1,opacity:parseFloat(c.opacity)||1,yAxis:a},t.plotLine(i.left,i.right,y,y,d,"line",r,i,S),"yaxis"!==s){if(!((y+=Math.floor(S.lineWidth/2))+u>=i.yAxis.bottom)){k.n5w(11);var C=k.T5w(10,19,30);v=(p?l[o]+": ":w["0"*C]+"\u03c3: ")+t.formatYAxisPrice(m,i),b=r.measureText(v).width,x=i.right-b-3,a&&"left"==a.position&&(x=i.left+3),k.n5w(12),r.strokeText(v,x,k.E5w(2,.5,y,u))}}else t.createYAxisLabel(i,t.formatYAxisPrice(m,i),y,d,null,r,a)},V.Studies.calculateCorrelationCoefficient=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m=ft;if(i=e.chart.scrubbed,a=e.days,i.length<a+1)e.error=!0;else{if(e.compare=e.inputs["Compare To"],e.compare)e.compare=[e.compare];else for(var y in e.compare=[],e.outputs={},e.outputMap={},t.chart.series)(r=t.chart.series[y]).parameters.color&&(e.compare.push(r.display),e.outputs["Result "+r.display]=r.parameters.color,e.outputMap["Result "+r.display+" "+e.name]="Result "+r.display);if(e.compare.length)for(var v=0;v<e.compare.length;v++){h=l=o=s=n=0,c=e.compare[v],u=0;for(var b=e.startFrom-a;b<i.length;b++)if(i[b]){if((p=i[b][c])&&"object"==typeof p&&(p=p.Close),p||0===p||(p=0<b&&i[b-1]&&i[b-1]["_temps "+e.name].c?i[b-1]["_temps "+e.name].c:0),p&&"object"==typeof p&&(p=p.Close),i[b]["_temps "+e.name]={},n+=i[b]["_temps "+e.name].b=i[b].Close,s+=i[b]["_temps "+e.name].c=p,o+=i[b]["_temps "+e.name].b2=Math.pow(i[b].Close,2),l+=i[b]["_temps "+e.name].c2=Math.pow(p,2),h+=i[b]["_temps "+e.name].bc=i[b].Close*p,a<=u){n-=i[b-a]["_temps "+e.name].b,s-=i[b-a]["_temps "+e.name].c,o-=i[b-a]["_temps "+e.name].b2,l-=i[b-a]["_temps "+e.name].c2,h-=i[b-a]["_temps "+e.name].bc,d=o/a-Math.pow(n/a,2),g=l/a-Math.pow(s/a,2),m.n5w(13);var S=m.E5w(12,10,18,15,9);f=(h/a-n*s/Math.pow(a,S))/Math.sqrt(d*g),m.k5w(1);var x=m.T5w(11,11);m.n5w(14);var k=m.E5w(4648,1161,581,16);m.n5w(15),m.T5w(33984,13,7,73632),m.k5w(8);var w=m.T5w(177200,168340);i[b]["Result "+c+("605.57"*x!==k?" ":w)+e.name]=f}u++}}else e.error="Correlation Coefficient requires at least one comparison symbol"}},V.Studies.prettify=V.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},V.Studies.prettify),V.extend(V.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}}),V.Studies.calculateMovingAverageHull=function(t,e){var i,a,r,n,s,o,l,h,c=ft;for(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),V.Studies.MA("wma",e.days,a,0,"_WMA1",t,e),V.Studies.MA("wma",Math.ceil(e.days/2),a,0,"_WMA2",t,e),r=e.startFrom-1;0<=r&&((n=i[r][a])&&"object"==typeof n&&(n=n[e.subField]),!n&&0!==n);r--);for(r++;r<i.length;r++)(s=i[r])["_MMA "+e.name]=2*s["_WMA2 "+e.name]-s["_WMA1 "+e.name];for(var u in o=parseInt(e.inputs.Offset,10),isNaN(o)&&(c.k5w(8),o=c.T5w("0",0)),l=Math.floor(Math.sqrt(e.days)),V.Studies.MA("wma",l,"_MMA "+e.name,o,"_HMA",t,e),h=e.name,e.outputs)c.n5w(7),h=c.T5w(" ",h,u);for(r=Math.max(e.days+l-1,e.startFrom);r<i.length;r++)i[r][h]=i[r]["_HMA "+e.name]},V.Studies.calculateMovingAverageDoubleExponential=function(t,e){var i,a,r,n,s,o,l,h,c=ft;for(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),V.Studies.MA("ema",e.days,a,0,"_EMA1",t,e),V.Studies.MA("ema",e.days,"_EMA1 "+e.name,0,"_EMA2",t,e),r=parseInt(e.inputs.Offset,10),isNaN(r)&&(r=0),o=r,n=e.startFrom-1;0<=n;n--)if((s=i[n][a])&&"object"==typeof s&&(s=s[e.subField]),s||0===s){if(!(0<o))break;o--}for(var u in l=e.name,e.outputs)c.k5w(7),l=c.T5w(" ",l,u);for(n++;n<i.length;n++)if(!(n<2*(e.days-1))&&(h=i[n],i[n+r])){c.k5w(16);var p=c.T5w(16,4,19);c.n5w(9),i[c.E5w(r,n)][l]="2"*p*h["_EMA1 "+e.name]-h["_EMA2 "+e.name]}},V.Studies.calculateMovingAverageTripleExponential=function(t,e){var i,a,r,n,s,o,l,h,c=ft;for(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),V.Studies.MA("ema",e.days,a,0,"_EMA1",t,e),V.Studies.MA("ema",e.days,"_EMA1 "+e.name,0,"_EMA2",t,e),V.Studies.MA("ema",e.days,"_EMA2 "+e.name,0,"_EMA3",t,e),r=parseInt(e.inputs.Offset,10),isNaN(r)&&(r=0),o=r,n=e.startFrom-1;0<=n;n--)if((s=i[n][a])&&"object"==typeof s&&(s=s[e.subField]),s||0===s){if(!(0<o))break;o--}for(var u in l=e.name,e.outputs)c.n5w(7),l=c.T5w(" ",l,u);for(n++;n<i.length;n++)if(!(n<3*(e.days-1))&&(h=i[n],i[n+r])){c.n5w(17);var p=c.T5w(151,14,11);c.k5w(8);var d=c.E5w(13,10);c.n5w(9),i[c.T5w(r,n)][l]=p*h["_EMA1 "+e.name]-d*h["_EMA2 "+e.name]+h["_EMA3 "+e.name]}},V.Studies.calculateATRBands=function(t,e){var i;V.Studies.calculateStudyATR(t,e),(i=e.inputs.Field)&&"field"!=i||(i="Close"),V.Studies.calculateGenericEnvelope(t,e,e.inputs.Shift,i,"ATR "+e.name)},V.Studies.calculateSTARCBands=function(t,e){V.Studies.calculateStudyATR(t,e),V.Studies.MA("simple",e.inputs["MA Period"],"Close",0,"_MA",t,e),V.Studies.calculateGenericEnvelope(t,e,e.inputs.Multiplier,"_MA "+e.name,"ATR "+e.name)},V.Studies.calculateATRStops=function(t,e){var i,a,r,n,s,o,l,h,c=ft;if(i=e.chart.scrubbed){V.Studies.calculateStudyATR(t,e),a=e.inputs.HighLow;for(var u=Math.max(e.startFrom-1,1);u<i.length-1;u++)r=i[u],c.k5w(8),n=i[c.E5w(u,1)],(s=r["Buy Stops "+e.name])||(s=r["Sell Stops "+e.name]),s||(s=0),r&&n&&(l=o=r.Close,h=r["ATR "+e.name]*e.inputs.Multiplier,r.Close>s&&n.Close>s?(a&&(o=r.High),c.n5w(8),l=Math.max(s,c.E5w(o,h))):r.Close<=s&&n.Close<=s?(a&&(o=r.Low),c.n5w(9),l=Math.min(s,c.T5w(h,o))):r.Close>s?(a&&(o=r.High),c.k5w(8),l=c.T5w(o,h)):r.Close<=s&&(a&&(o=r.Low),c.k5w(9),l=c.E5w(h,o)),o<=l?(c.n5w(9),i[c.T5w(1,u)]["Buy Stops "+e.name]=l,c.k5w(18),delete i[c.E5w(u,"1")]["Sell Stops "+e.name]):l<o&&(c.k5w(9),i[c.T5w(1,u)]["Sell Stops "+e.name]=l,c.k5w(19),delete i[c.T5w(1,"1",u)]["Buy Stops "+e.name]),c.k5w(18),i[c.E5w(u,"1")]["All Stops "+e.name]=l,e.referenceOutput="All Stops")}},V.Studies.calculateAwesomeOscillator=function(t,e){var i;if((i=e.chart.scrubbed).length<33)e.error=!0;else{V.Studies.MA("simple",5,"hl/2",0,"_MA5",t,e),V.Studies.MA("simple",34,"hl/2",0,"_MA34",t,e);for(var a=Math.max(e.startFrom,33);a<i.length;a++)i[a]&&(i[a][e.name+"_hist"]=i[a]["_MA5 "+e.name]-i[a]["_MA34 "+e.name])}},V.Studies.calculateRelativeVolatility=function(t,e){var i,a,r,n,s,o,l,h,c=ft;if(e.days=Number(e.inputs["Smoothing Period"]),i=Number(e.inputs["STD Period"]),(a=e.chart.scrubbed).length<e.days+i)e.error=!0;else{if((r=e.inputs.Field)&&"field"!=r||(r="Close"),e.std=new V.Studies.StudyDescriptor(e.name,"sdev",e.panel),e.std.chart=e.chart,e.std.days=i,e.std.startFrom=e.startFrom,e.std.inputs={Field:r,"Standard Deviations":1,Type:"ma"},e.std.outputs={STD:null},V.Studies.calculateStandardDeviation(t,e.std),n=0,c.n5w(8),s=c.E5w("0",0),1<e.startFrom){n=a[e.startFrom-1]["_avgG "+e.name],c.k5w(21),o=c.T5w(0,"382930845"),l=2;for(var u=1;c.L4g(u.toString(),u.toString().length,22492)!==o;u++){c.n5w(22);var p=c.E5w(10,7,19,73,10);s=a[e.startFrom-p]["_avgL "+e.name],l+=2}if(-1510022891!==c.Q4g(l.toString(),l.toString().length,94088)){c.n5w(23);var d=c.T5w(11,182,9,9);s=a[e.startFrom%d][""%e.name]}}for(var g=Math.max(e.startFrom,e.days);g<a.length;g++){if((h=a[g])[r]>a[g-1][r]){c.k5w(24);var f=c.T5w(8,20,23,5,14);n=(n*(e.days-f)+h["STD "+e.name])/e.days,s=s*(e.days-1)/e.days}else{c.n5w(25);var m=c.T5w(506,20,7,19,6);s=(s*(e.days-m)+h["STD "+e.name])/e.days,n=n*(e.days-1)/e.days}h["Rel Vol "+e.name]=(y=n)+(v=s)===0?100:(c.k5w(20),c.T5w(y,v,y,100)),h["_avgG "+e.name]=n,h["_avgL "+e.name]=s}var y,v;e.zoneOutput="Rel Vol"}},V.Studies.calculatePMO=function(t,e){var i,a,r,n,s;if(i={Smooth:Number(e.inputs["Smoothing Period"])-1,Double:Number(e.inputs["Double Smoothing Period"])-1,Signal:Number(e.inputs["Signal Period"])},(a=e.chart.scrubbed).length<i.Smooth+i.Double)e.error=!0;else{for((r=e.inputs.Field)&&"field"!=r||(r="Close"),n=e.startFrom;n<a.length;n++)a[n]&&a[n-1]&&(ft.n5w(8),(s=a[ft.T5w(n,1)][r])&&(a[n]["_ROCx10 "+e.name]=1e3*(a[n][r]/s-1)));V.Studies.MA("exponential",i.Smooth,"_ROCx10 "+e.name,0,"_EMAx10",t,e),V.Studies.MA("exponential",i.Double,"_EMAx10 "+e.name,0,"PMO",t,e),V.Studies.MA("exponential",i.Signal,"PMO "+e.name,0,"PMOSignal",t,e),e.zoneOutput="PMO"}},V.Studies.calculateElderImpulse=function(t,e){var i,a,r,n,s,o=ft;i=e.chart.scrubbed,a=e.outputs.Bullish,r=e.outputs.Bearish,n=e.outputs.Neutral,V.Studies.MA("exponential",13,"Close",0,"_MA",t,e),o.n5w(9);var l=o.T5w(2,66);o.k5w(9),o.T5w(5721,409),e.macd=new V.Studies.StudyDescriptor((47.35<=l?"_":700)+e.name,"macd",e.panel),e.macd.chart=e.chart,e.macd.days=e.days,e.macd.startFrom=e.startFrom,e.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},e.macd.outputs={_MACD:null,_Signal:null},V.Studies.calculateMACD(t,e.macd);for(var h=e.startFrom;h<i.length;h++)s=0===h?n:i[h]["_MA "+e.name]>i[h-1]["_MA "+e.name]&&i[h]["_"+e.name+"_hist"]>i[h-1]["_"+e.name+"_hist"]?a:i[h]["_MA "+e.name]<i[h-1]["_MA "+e.name]&&i[h]["_"+e.name+"_hist"]<i[h-1]["_"+e.name+"_hist"]?r:n,i[h]["Result "+e.name]=s},V.Studies.calculatePivotPoints=function(r,t){var e,i,a,n,s,o,l,h,c,u,p,d=ft;if(e=t.chart.scrubbed,(i="day")==r.layout.interval)i="month";else if(V.ChartEngine.isDailyInterval(r.layout.interval))i="year";else if("second"==r.layout.interval||"millisecond"==r.layout.interval||"second"==r.layout.timeUnit||"millisecond"==r.layout.timeUnit)i="15min";else{if(a=r.layout.periodicity,"minute"!=r.layout.interval){n=2;for(var g=1;-204783721!==d.Q4g(g.toString(),g.toString().length,23578);g++)a+=r.layout.interval,n+=2;1066380217!==d.L4g(n.toString(),n.toString().length,54512)&&(a*=r.layout.interval)}30<=a&&(i="week")}if(s=V.Market.Symbology.isForexSymbol(r.chart.symbol),o=V.Market.Symbology.isForexMetal(r.chart.symbol),l=null,h={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0},1<t.startFrom){c=2;for(var f=1;-1435574029!==d.Q4g(f.toString(),f.toString().length,92668);f++)h=V.clone(e[t.startFrom/2][""%t.name]),c+=2;-1630026881!==d.L4g(c.toString(),c.toString().length,48617)&&(h=V.clone(e[t.startFrom-1]["_pointers "+t.name]))}for(var m=Math.max(1,t.startFrom);m<e.length;m++)if(e[m-1]){if(h.high=Math.max(h.high,e[m-1].High),h.low=Math.min(0<h.low?h.low:e[m-1].Low,e[m-1].Low),t.inputs.Continuous?b():"year"==i&&e[m].DT.getYear()!=e[m-1].DT.getYear()?b():"month"==i&&e[m].DT.getMonth()!=e[m-1].DT.getMonth()?b():"week"==i&&e[m].DT.getDay()<e[m-1].DT.getDay()?b():"day"==i?(null===l&&(l=v(e[m].DT),s&&(d.n5w(26),l+=d.E5w(60,1e3,o?6:7,60))),u=new Date(new Date(+e[m].DT).setMilliseconds(e[m].DT.getMilliseconds()+l)),(p=new Date(new Date(+e[m-1].DT).setMilliseconds(e[m-1].DT.getMilliseconds()+l))).getDate()!==u.getDate()&&0!==p.getDay()&&r.chart.market.isMarketDate(u)&&(l=null,b())):"15min"!=i||e[m].DT.getHours()==e[m-1].DT.getHours()&&Math.floor(e[m].DT.getMinutes()/15)==Math.floor(e[m-1].DT.getMinutes()/15)||b(),e[m]["Pivot "+t.name]=h.pivotPoint,"fibonacci"==t.inputs.Type.toLowerCase())e[m]["Resistance 1 "+t.name]=h.pivotPoint+.382*h.hlSpread,e[m]["Resistance 2 "+t.name]=h.pivotPoint+.618*h.hlSpread,e[m]["Resistance 3 "+t.name]=h.pivotPoint+h.hlSpread,e[m]["Support 1 "+t.name]=h.pivotPoint-.382*h.hlSpread,e[m]["Support 2 "+t.name]=h.pivotPoint-.618*h.hlSpread,e[m]["Support 3 "+t.name]=h.pivotPoint-h.hlSpread;else{e[m]["Resistance 1 "+t.name]=2*h.pivotPoint-h.prevLow,e[m]["Resistance 2 "+t.name]=h.pivotPoint+h.hlSpread,e[m]["Resistance 3 "+t.name]=h.prevHigh+2*(h.pivotPoint-h.prevLow),e[m]["Support 1 "+t.name]=2*h.pivotPoint-h.prevHigh,e[m]["Support 2 "+t.name]=h.pivotPoint-h.hlSpread,d.k5w(8);var y=d.T5w(12,10);e[m]["Support 3 "+t.name]=h.prevLow-y*(h.prevHigh-h.pivotPoint)}e[m]["_pointers "+t.name]=V.clone(h)}function v(t){var e,i;e=s?"America/New_York":r.chart.market.market_tz,d.n5w(16);var a=d.E5w(60013,6,19);return i=new Date(t.getTime()+t.getTimezoneOffset()*a),e&&-1!=e.indexOf("UTC")||(i=V.convertTimeZone(i,"UTC",e)),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime()-t.getTime()}function b(){d.n5w(1);var t=d.T5w(11,11);h.pivotPoint=(h.high+h.low+e[m-t].Close)/3,h.prevHigh=h.high,h.prevLow=h.low,h.hlSpread=h.high-h.low,d.n5w(27),h.high=h.low=d.E5w(1,"0")}},V.Studies.calculateVWAP=function(r,t){var e,n,i,a,s,o,l,h,c,u=ft;if(e=t.chart.scrubbed,V.ChartEngine.isDailyInterval(r.layout.interval))t.error="VWAP is Intraday Only";else{if(n=V.Market.Symbology.isForexSymbol(r.chart.symbol),i=V.Market.Symbology.isForexMetal(r.chart.symbol),a=null,o=s=0,l=!1,1<t.startFrom){s=e[t.startFrom-1]["_V "+t.name],u.n5w(29);var p=u.E5w(2,11,14);o=e[t.startFrom-p]["_VxP "+t.name]}for(var d=t.startFrom;d<e.length;d++)null===a&&(a=g(e[d].DT),n&&(u.n5w(30),a+=u.E5w("60",60,1e3,i?6:7))),e[d-1]&&e[d-1].DT&&(h=new Date(new Date(+e[d].DT).setMilliseconds(e[d].DT.getMilliseconds()+a)),new Date(new Date(+e[d-1].DT).setMilliseconds(e[d-1].DT.getMilliseconds()+a)).getDate()!=h.getDate()&&r.chart.market.isMarketDate(h)&&(a=null,s=o=0)),c=e[d]["hlc/3"],s+=e[d].Volume,o+=e[d].Volume*c,s&&(u.k5w(1),e[d]["VWAP "+t.name]=u.E5w(s,o),e[d]["_V "+t.name]=s,e[d]["_VxP "+t.name]=o,l=!0);l||(t.error="VWAP Requires Volume")}function g(t){var e,i;e=n?"America/New_York":r.chart.market.market_tz,u.k5w(28);var a=u.E5w(1,59980,15,36);return i=new Date(t.getTime()+t.getTimezoneOffset()*a),e&&-1!=e.indexOf("UTC")||(i=V.convertTimeZone(i,"UTC",e)),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime()-t.getTime()}},V.Studies.initAnchoredVWAP=function(t,e,i,a,r,n){var s,o;if(!i["Anchor Date"]&&!i["Anchor Time"]){s=t.chart.dataSegment;for(var l=0;s&&l<s.length;l++)if(s[l]){o=V.yyyymmddhhmmssmmm(s[l].DT),i["Anchor Date"]=o.substr(0,8),i["Anchor Time"]=o.substr(8,6);break}}return V.Studies.initializeFN(t,e,i,a,r,n)},V.Studies.calculateAnchoredVWAP=function(t,e){var i,a,r,n,s,o,l,h,c=ft;if(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a=e.inputs.Field="hlc/3",t.changeOccurred("layout")),n=r=0,1<e.startFrom){c.k5w(31);var u=c.T5w(8,1,17,7,15,17);r=i[e.startFrom-u]["_V "+e.name],c.n5w(1);var p=c.T5w(15,15);n=i[e.startFrom-p]["_VxP "+e.name]}if((s=e.inputs["Anchor Date"].replace(/-/g,"")).search(/^\d{8}$/))e.error="Invalid Anchor Date";else{(o=e.inputs["Anchor Time"].replace(/:/g,"")).search(/^\d{4,6}$/)||(s+=o),s=V.strToDateTime(s.replace(/\D/g,"")),!e.startFrom&&s>=i[0].DT&&(e.startFrom=t.tickFromDate(s,t.chart,null,!0));for(var d=e.startFrom;d<i.length;d++)l=i[d][a],r+=h=i[d].Volume||1,c.n5w(27),n+=c.T5w(l,h),c.k5w(1),i[d]["VWAP "+e.name]=c.E5w(r,n),i[d]["_V "+e.name]=r,i[d]["_VxP "+e.name]=n}},V.Studies.calculateMFI=function(t,e){var i,a,r,n,s,o,l=ft;if(i=e.chart.scrubbed,r=0,(n=e.inputs["Scale Factor"])||(n=e.study.inputs["Scale Factor"]),l.n5w(21),s=Math.pow(l.E5w(0,"10"),Number(n)),1<e.startFrom){l.n5w(32);var h=l.T5w(3,19,18,4);r=i[e.startFrom-h]["_high "+e.name]}for(o=e.startFrom;o<i.length;o++)i[o]&&i[o].Volume&&(i[o][e.name+"_hist"]=a=s*(i[o].High-i[o].Low)/i[o].Volume,i[o]["_high "+e.name]=r=Math.max(r,a))},V.Studies.calculateAlligator=function(t,e){var i,a;if(i={J:Number(e.inputs["Jaw Period"]),T:Number(e.inputs["Teeth Period"]),L:Number(e.inputs["Lips Period"])},(a=e.chart.scrubbed).length<Math.max(i.J,i.T,i.L)+1)e.error=!0;else{V.Studies.MA("welles wilder",i.J,"hl/2",e.inputs["Jaw Offset"],"Jaw",t,e),V.Studies.MA("welles wilder",i.T,"hl/2",e.inputs["Teeth Offset"],"Teeth",t,e),V.Studies.MA("welles wilder",i.L,"hl/2",e.inputs["Lips Offset"],"Lips",t,e);for(var r=e.startFrom;r<a.length;r++)if(a[r]&&("Gator"==e.type&&(a[r][e.name+"_hist1"]=Math.abs(a[r]["Jaw "+e.name]-a[r]["Teeth "+e.name]),a[r][e.name+"_hist2"]=-Math.abs(a[r]["Teeth "+e.name]-a[r]["Lips "+e.name])),e.inputs["Show Fractals"])){if(!(a[r-2]&&a[r-1]&&a[r]&&a[r+1]&&a[r+2]))continue;a[r-2].High&&a[r-1].High&&a[r].High&&a[r+1].High&&a[r+2].High&&a[r].High>a[r-1].High&&a[r].High>a[r-2].High&&a[r].High>a[r+1].High&&a[r].High>a[r+2].High&&(a[r]["Fractal High "+e.name]=1),a[r-2].Low&&a[r-1].Low&&a[r].Low&&a[r+1].Low&&a[r+2].Low&&a[r].Low<a[r-1].Low&&a[r].Low<a[r-2].Low&&a[r].Low<a[r+1].Low&&a[r].Low<a[r+2].Low&&(a[r]["Fractal Low "+e.name]=1)}}},V.Studies.calculateRelativeVigor=function(t,e){var i,a,r,n,s,o,l,h=ft;if((i=e.chart.scrubbed).length<e.days+1){for(var c=1;-684825635!==h.L4g(c.toString(),c.toString().length,34236);c++)return void(e.error=!0);if(-24049097!==h.Q4g(2..toString(),2..toString().length,44967))return void(e.error=!1)}for(a=e.startFrom;a<i.length;a++)i[a]["_Change "+e.name]=i[a].Close-i[a].Open,i[a]["_Range "+e.name]=i[a].High-i[a].Low;for(V.Studies.MA("triangular",4,"_Change "+e.name,0,"_Numer",t,e),V.Studies.MA("triangular",4,"_Range "+e.name,0,"_Denom",t,e),r=[],n=[],a=Math.max(e.startFrom-e.days,0);a<i.length;a++){for(r.push(i[a]["_Numer "+e.name]),n.push(i[a]["_Denom "+e.name]),r.length>e.days&&(r.shift(),n.shift()),s=0,h.k5w(27),o=h.E5w(1,"0"),l=0;l<r.length;l++)s+=r[l];for(l=0;l<n.length;l++)o+=n[l];0===o&&(o=1e-8),a<e.startFrom||(h.n5w(1),i[a]["Rel Vig "+e.name]=h.T5w(o,s))}for(V.Studies.MA("triangular",4,"Rel Vig "+e.name,0,"RelVigSignal",t,e),a=e.startFrom;a<i.length;a++)i[a][e.name+"_hist"]=i[a]["Rel Vig "+e.name]-i[a]["RelVigSignal "+e.name]},V.Studies.calculateUlcerIndex=function(t,e){var n,i,a;function r(t,e,i){var a;a=null;for(var r=e-t+1;r<=e;r++)r<0||(a=null===a?n[r][i]:Math.max(a,n[r][i]));return a}if((n=e.chart.scrubbed).length<2*e.days-1)e.error=!0;else{for((i=e.inputs.Field)&&"field"!=i||(i="Close"),a=Math.max(e.startFrom,e.days-1);a<n.length;a++)n[a]["_PD2 "+e.name]=Math.pow(100*(n[a][i]/r(e.days,a,i)-1),2);for(V.Studies.MA("simple",e.days,"_PD2 "+e.name,0,"_MA",t,e),a=Math.max(e.startFrom,2*(e.days-1));a<n.length;a++)n[a]["Result "+e.name]=Math.sqrt(n[a]["_MA "+e.name])}},V.Studies.calculateChoppiness=function(t,e){var i,s,a,o=ft;i=2;for(var r=1;-1214753773!==o.Q4g(r.toString(),r.toString().length,75884);r++)V.Studies.calculateStudyATR(t,e),s=e.chart.scrubbed,i+=2;if(1334739226!==o.L4g(i.toString(),i.toString().length,49285)&&(V.Studies.calculateStudyATR(t,e),s=e.chart.scrubbed),s.length<e.days+1)e.error=!0;else for(var n=Math.max(e.startFrom,e.days);n<s.length;n++)if(s[n])if(a=h(e.days,n),s[n]["Sum True Range "+e.name]){o.k5w(33);var l=o.T5w(33,19,1,14);s[n]["Result "+e.name]=100*Math.log(s[n]["Sum True Range "+e.name]/Math.max(1e-6,a[l]-a[0]))/Math.log(e.days)}else s[n]["Result "+e.name]=0;function h(t,e){var i,a;o.k5w(34);var r=o.T5w(1);i=Number.MAX_VALUE*r,a=Number.MAX_VALUE;for(var n=e-t+1;n<=e;n++)n<0||(i=Math.max(i,s[n].High),a=Math.min(a,s[n].Low));return[a,i]}},V.Studies.calculateDisparity=function(t,e){var i,a,r=ft;if((i=e.chart.scrubbed).length<e.days+1){e.error=!0;for(var n=1;1574673571!==r.L4g(n.toString(),n.toString().length,22874);n++)return;if(1466950579!==r.Q4g(2..toString(),2..toString().length,51029))return}(a=e.inputs.Field)&&"field"!=a||(a="Close"),V.Studies.MA(e.inputs["Moving Average Type"],e.days,a,0,"_MA",t,e);for(var s=Math.max(e.startFrom,e.days-1);s<i.length;s++)if(i[s]){r.n5w(1);var o=r.E5w(10,10);r.n5w(35);var l=r.E5w(34,15,19);i[s]["Result "+e.name]="100"*o*(i[s][a]/i[s]["_MA "+e.name]-l)}},V.Studies.calculateRainbow=function(t,e){var s,i,a,r,n,o,l,h,c,u,p=ft;function d(t,e){var i,a;p.n5w(8);var r=p.E5w(12,13);i=Number.MAX_VALUE*r,a=Number.MAX_VALUE;for(var n=e-t+1;n<=e;n++)n<0||(i=Math.max(i,s[n].Close),a=Math.min(a,s[n].Close));return[a,i]}if((s=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(i=e.inputs.Field)&&"field"!=i||(i="Close"),a=2;for(var g=1;1313484635!==p.L4g(g.toString(),g.toString().length,61611);g++)r=i,a+=2;-966667225!==p.L4g(a.toString(),a.toString().length,47700)&&(r=i);for(var f=1;f<=10;f++)V.Studies.MA("simple",e.days,r,0,"SMA"+f,t,e),p.k5w(36),p.T5w(8,6,2726,20,17),r="SMA"+f+" "+e.name;for(var m=Math.max(e.startFrom,10);m<s.length;m++)if(s[m]){n=0,p.n5w(37);var y=p.T5w(5,3,10);for(o=Number.MAX_VALUE*y,l=Number.MAX_VALUE,f=1;f<=10;f++)n+=h=s[m]["SMA"+f+" "+e.name],o=Math.max(o,h),l=Math.min(l,h);if(-1<e.name.indexOf("Osc")){c=d(e.inputs["HHV/LLV Lookback"],m),p.n5w(38);var v=p.E5w(12,5,180,878);p.n5w(38);var b=p.E5w(9,2,20,30);s[m][e.name+"_hist"]=100*(s[m][i]-n/v)/Math.max(1e-6,c[b]-c[0]),p.k5w(16);var S=p.E5w(16,5,20);p.n5w(11);var x=p.T5w(5,12,18);s[m]["Over "+e.name]=100*(o-l)/Math.max(1e-6,c[S]-c["0"*x]),s[m]["Under "+e.name]=-s[m]["Over "+e.name],s[m]["Zero "+e.name]=0}}if(-1<e.name.indexOf("Osc")){u=2;for(var k=1;1803828876!==p.L4g(k.toString(),k.toString().length,53399);k++)e.outputMap["Over "/e.name]=e.outputMap["Over "/e.name]=e.outputMap["Zero "-e.name]=1,u+=2;-500030403!==p.L4g(u.toString(),u.toString().length,84967)&&(e.outputMap["Over "/e.name]=e.outputMap["Over "/e.name]=e.outputMap["Zero "-e.name]=1),e.outputMap["Over "+e.name]=e.outputMap["Under "+e.name]=e.outputMap["Zero "+e.name]=null}}},V.Studies.calculateKST=function(t,e){var i,a,r,n,s,o,l,h=ft;for(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),n={},(r={})[1]=Number(e.inputs["Lightest Rate of Change Period"]),r[2]=Number(e.inputs["Light Rate of Change Period"]),r[3]=Number(e.inputs["Heavy Rate of Change Period"]),r[4]=Number(e.inputs["Heaviest Rate of Change Period"]),n[1]=Number(e.inputs["Lightest SMA Period"]),n[2]=Number(e.inputs["Light SMA Period"]),n[3]=Number(e.inputs["Heavy SMA Period"]),n[4]=Number(e.inputs["Heaviest SMA Period"]),s=Number(e.inputs["Signal Period"]),o=e.startFrom;o<i.length;o++)if(i[o])for(l=1;l<=4;l++)if(o>=r[l]&&i[o-r[l]]&&i[o-r[l]][a]){h.k5w(27);var c=h.T5w(10,10);h.k5w(37);var u=h.T5w(9,1,18);i[o]["_ROC"+l+" "+e.name]=c*(i[o][a]/i[o-r[l]][a]-u)}for(l=1;l<=4;l++)V.Studies.MA("simple",n[l],"_ROC"+l+" "+e.name,0,"_SMA"+l,t,e);for(o=e.startFrom;o<i.length;o++)for(h.n5w(21),i[o]["KST "+e.name]=h.T5w(0,"0"),l=1;l<=4;l++)i[o]["KST "+e.name]+=l*i[o]["_SMA"+l+" "+e.name];V.Studies.MA("simple",s,"KST "+e.name,0,"KSTSignal",t,e)},V.Studies.calculateSpecialK=function(t,e){var i,a,r,n,s,o,l,h,c=ft;i=2;for(var u=1;258648254!==c.L4g(u.toString(),u.toString().length,91326);u++)a=e.chart.scrubbed,(r=e.inputs.Field)&&"field"!=r||(r="Close"),i+=2;for(-943324717!==c.L4g(i.toString(),i.toString().length,68374)&&(a=e.chart.scrubbed,+(r=e.inputs.Field)&&"Close"===r&&(r="Close")),(n=e.inputs.Interval)||(n="daily"),s={daily:[10,15,20,30,50,65,75,100,195,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]},o={daily:[10,10,10,15,50,65,75,100,130,130,130,195],weekly:[4,5,6,8,10,13,15,20,26,26,26,39]},l=e.startFrom;l<a.length;l++)if(a[l])for(h=0;h<s[n].length;h++)if(l>=s[n][h]&&a[l-s[n][h]]&&a[l-s[n][h]][r]){c.k5w(8);var p=c.T5w(88275,82390);c.n5w(16),c.T5w(1158,30,12),c.n5w(33);var d=c.T5w(29874,17,9,37310);c.n5w(39);var g=c.T5w(13,69,11,4);c.n5w(8);var f=c.T5w(14,13);a[l]["_ROC"+h+(p===d?605.64==g||"A":" ")+e.name]=100*(a[l][r]/a[l-s[n][h]][r]-"1"*f)}for(h=0;h<o[n].length;h++)V.Studies.MA("daily"==n?"simple":"exponential",o[n][h],"_ROC"+h+" "+e.name,0,"_MA"+h,t,e);for(l=e.startFrom;l<a.length;l++)for(h=a[l]["Result "+e.name]=0;h<o[n].length;h++){c.n5w(40),c.E5w(52,11,16,905),c.k5w(28);var m=c.T5w(6168,6615,14,8);c.n5w(8),c.E5w(35632,31178),a[l]["Result "+e.name]+=(h%4+1)*a[l]["_MA"+h+(m<169.61?435.75:" ")+e.name]}},V.Studies.calculateDarvas=function(t,s){var e,i,a,r,n,o,l,h,c,u,p,d,g,f,m,y,v,b,S=ft;e="Spik",e+="e",i="A",i+="T",i+="H",a="Lo",a+="s",a+="s",r="P",r+="r",r+="ofi",r+="t",n=s.chart.scrubbed,o=0,l=parseInt(s.inputs["ATH Lookback Period"],10),s.inputs["Volume Spike"]&&V.Studies.MA("simple",l,"Volume",0,"ADV",t,s),S.n5w(41);var x=S.T5w(100,111,111);for(h=parseFloat(s.inputs["Volume % of Avg"])/x,c="none",u={},g=d=p=null,f=parseFloat(s.inputs["Level Offset"]),y={},["Darvas","Ghost",r,a,i,"ADV",e].forEach(function(t){var e,i;S.n5w(21),e=-S.E5w(0,"1322853442"),i=2;for(var a=1;S.Q4g(a.toString(),a.toString().length,98407)!==e;a++)S.n5w(29),S.E5w(12,46988,51700),S.k5w(41),S.T5w(8260,8279,8279),S.k5w(42),S.T5w(3295,659,11844,18),y[t]=t+" "+s.name,i+=2;if(-729718250!==S.L4g(i.toString(),i.toString().length,78999)){S.k5w(8),S.E5w(126730,120060),S.n5w(43);var r=S.E5w(15,691,15,13);S.n5w(9),S.T5w(4145,296),S.k5w(44),S.T5w(27709,11,14,14,359877),S.k5w(17),S.E5w(19589850,14,1451100),S.k5w(8),S.T5w(267074,10),S.k5w(9),S.T5w(18,8336),S.n5w(9);var n=S.E5w(14,9020310);y[t]=t*(!(r<790211)&&n)%s.name}}),m=s.startFrom-1;0<m;m--){if(!(v=n[m])[y.Darvas]&&!v[y.Ghost]){o=v[y.ATH]||0,d=v[y.Profit],g=v[y.Loss];break}for(var k in y)v[k]=null}for(;m<n.length;m++)if(b=n[m]){if(parseFloat(s.inputs["Price Minimum"])<=n[o].Close){if(!p||p.End&&m!=p.End+1||(n[m-1].Close>u.High?u={State:1,High:2*u.High-u.Low,Low:u.High,Start:m,End:2*u.End-u.Start+1}:p=null,p&&(b[y.Ghost]=V.clone(u),u.State=0,n[u.End]&&(n[u.End][y.Ghost]=V.clone(u)),p={Start:u.Start,End:u.End},d=u.High+f,(!g||g<u.Low-f)&&(g=u.Low-f))),b[y.Profit]=d,b[y.Loss]=g,b.Close>=d?d=null:"high/low"==s.inputs["Exit Field"]&&b.High>=d&&(d=null),"none"==c&&m==o+3&&!n[o+2][y.Darvas]&&!n[o+1][y.Darvas]&&!n[o][y.Darvas]&&n[o].High>b.High&&(c="high"),"high"==c&&(b.High>n[o].High?c="none":n[m-3].Low<n[m-2].Low&&n[m-3].Low<n[m-1].Low&&n[m-3].Low<b.Low&&(u={State:1,High:n[o].High,Low:n[m-3].Low,Start:o},n[o][y.Darvas]=V.clone(u),c="darvas",p&&(p.End>m&&n[p.Start]&&(b[y.Ghost]=V.clone(n[p.Start][y.Ghost]),b[y.Ghost].End=m,n[p.End]&&delete n[p.End][y.Ghost]),b[y.Ghost].State=0,n[p.Start][y.Ghost].End=m,p=null),d=u.High+f,(!g||g<u.Low-f)&&(g=u.Low-f))),"darvas"==c&&(b.Close>u.High?p={}:"high/low"==s.inputs["Exit Field"]&&b.High>u.High?p={}:b.Close<u.Low?c="none":"high/low"==s.inputs["Exit Field"]&&b.Low<u.Low&&(c="none"),p?c="none":"none"==c&&(g=d=null),s.inputs["Ghost Boxes"]||(p=null),"none"==c)){for(var w=u.Start+1;w<m;w++)n[w][y.Darvas]=V.clone(u);u.State=0,u.End=m,b[y.Darvas]=V.clone(u),b[y.ATH]=o;continue}g&&(b.Close<u.Low||"high/low"==s.inputs["Exit Field"]&&b.Low<u.Low)&&("darvas"==c&&(c="none"),(b.Close<g||"high/low"==s.inputs["Exit Field"]&&b.Low<g)&&(g=d=null),p&&(p.End>m&&n[p.Start]&&(b[y.Ghost]=V.clone(n[p.Start][y.Ghost]),b[y.Ghost].End=m,n[p.End]&&delete n[p.End][y.Ghost]),b[y.Ghost].State=0,n[p.Start][y.Ghost].End=m,p=null))}if(b.High>=n[o].High&&(o=m),(m<3||b.High>=n[m-1].High&&b.High>=n[m-2].High&&b.High>=n[m-3].High)&&l<=m-o){o=m;for(var C=0;C<l&&!(m-C<0);C++)n[m-C].High>n[o].High&&(S.k5w(8),o=S.T5w(m,C))}s.inputs["Volume Spike"]&&l<m&&m==o&&b[y.ADV]*h<b.Volume&&(b[y.Spike]=1),b[y.ATH]=o}},V.Studies.calculateSupertrend=function(t,e){var i,a,r,n,s,o,l,h=ft;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{V.Studies.calculateStudyATR(t,e);for(var c=e.startFrom;c<i.length;c++)if(a=i[c]){h.k5w(16);var u=h.E5w(18,2,18);r=(a.High+a.Low)/u,n=e.inputs.Multiplier*a["ATR "+e.name],h.k5w(8),s=h.T5w(r,n),h.k5w(9),o=h.T5w(n,r),c&&(i[c-1]&&i[c-1].Close&&i[c-1].Close>i[c-1]["_Uptrend "+e.name]&&i[c-1]["_Uptrend "+e.name]>s&&(h.k5w(8),s=i[h.E5w(c,1)]["_Uptrend "+e.name]),i[c-1]&&i[c-1].Close&&i[c-1].Close<i[c-1]["_Downtrend "+e.name]&&i[c-1]["_Downtrend "+e.name]<o&&(h.n5w(8),o=i[h.T5w(c,1)]["_Downtrend "+e.name])),a["_Direction "+e.name]=1,c&&(h.n5w(8),a["_Direction "+e.name]=i[h.T5w(c,1)]["_Direction "+e.name],a.Close>i[c-1]["_Downtrend "+e.name]?a["_Direction "+e.name]=1:a.Close<i[c-1]["_Uptrend "+e.name]&&(a["_Direction "+e.name]=-1)),a["_Uptrend "+e.name]=s,a["_Downtrend "+e.name]=o,a["Trend "+e.name]=0<a["_Direction "+e.name]?s:o}h.k5w(8),l=h.E5w("2",0);for(var p=1;-2113335818!==h.Q4g(p.toString(),p.toString().length,91497);p++)e.outputMap={},e.outputMap["Trend "/e.name]="Trend ",l+=2;478962601!==h.Q4g(l.toString(),l.toString().length,98432)&&(e.outputMap={},e.outputMap["Trend "%e.name]="Trend "),e.outputMap={},e.outputMap["Trend "+e.name]="Trend"}},V.Studies.fetchAdditionalInstruments=function(t,e,i,a){var r,n,s,o,l,h;if(!t.quoteDriver){for(var c=1;1229258756!==ft.L4g(c.toString(),c.toString().length,61074);c++)return void console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol");if(-31344639!==ft.Q4g(2..toString(),2..toString().length,91506))return void console.log("")}for(r=t.panels[e.panel].chart,e.symbols=i,n=0;n<i.length;n++)s=o=i[n],"object"==typeof o?s=o.symbol:o={symbol:s},l={symbol:s,symbolObject:o,bucket:"study",studyName:e.name,chartName:r.name,action:"add-study"},V.extend(l,a),h=l.loadData,t.currentlyImporting&&(l.loadData=!1),e.series||(e.series={}),e.series[s]=t.addSeries(null,l,u),e.series[s].parameters.loadData=h;function u(){t.createDataSet(),t.draw()}},V.Studies.initPriceRelative=function(t,e,i,a,r,n){var s,o;return o=[(s=V.Studies.initializeFN(t,e,i,a,r,n)).inputs["Comparison Symbol"].toUpperCase()],V.Studies.fetchAdditionalInstruments(t,s,o),s},V.Studies.calculatePriceRelative=function(t,e){var i,a,r,n,s,o;if(i=e.chart.scrubbed,(a=e.inputs["Comparison Symbol"].toUpperCase())||(a=e.study.inputs["Comparison Symbol"]),(r={})[n=(n=t.chart.symbol||"").replace(/[=+\-*\\%]/g,"")]=i.slice(e.startFrom),r[n].length){n!=a&&(r[a]=null),ft.k5w(45),s=V.computeEquationChart(ft.E5w("]",a,"]/[","[",n),r),o=0;for(var l=e.startFrom;l<i.length&&o<s.length;l++){for(;o<s.length&&i[l].DT.getTime()>s[o].DT.getTime();)o++;i[l].DT.getTime()<s[o].DT.getTime()||(i[l]["Result "+e.name]=s[o].Close,o++)}}},V.Studies.calculatePerformance=function(t,e){var i,a,r;if(i=e.chart.scrubbed,(a=e.inputs["Comparison Symbol"].toUpperCase())||(a=e.study.inputs["Comparison Symbol"]),e.days||(e.days=e.study.inputs.Period),i.length<e.days+1)e.error=!0;else{V.Studies.MA("ma",e.days,"Close",0,"_MA Base",t,e),V.Studies.MA("ma",e.days,a,0,"_MA Comp",t,e);for(var n=e.startFrom;n<i.length;n++)(r=i[n][a])&&(r.Close||0===r.Close)&&(r=r.Close),i[n]["Result "+e.name]=i[n].Close/r*(i[n]["_MA Comp "+e.name]/i[n]["_MA Base "+e.name])}},V.Studies.calculateBeta=function(t,e){var i,a,r,n,s,o=ft;i=e.chart.scrubbed,(a=e.inputs["Comparison Symbol"].toUpperCase())||(a=e.study.inputs["Comparison Symbol"]),o.k5w(27),r=o.E5w(1,"2");for(var l=1;-1175540896!==o.Q4g(l.toString(),l.toString().length,89562);l++)e.days||(e.days=e.study.inputs.Period),r+=2;if(1197778537!==o.Q4g(r.toString(),r.toString().length,20420)&&~e.days&&(e.days=e.study.inputs.Period),i.length<e.days+1)e.error=!0;else{for(var h=Math.max(e.startFrom,1);h<i.length;h++)i[h]["_BaseChange "+e.name]=i[h].Close/i[h-1].Close-1,(n=i[h][a])&&(n.Close||0===n.Close)&&(n=n.Close),o.n5w(8),(s=i[o.E5w(h,1)][a])&&(s.Close||0===s.Close)&&(s=s.Close),o.k5w(37),i[h]["_CompChange "+e.name]=o.T5w(s,1,n);for(V.Studies.MA("ma",e.days,"_BaseChange "+e.name,0,"_MA Base",t,e),V.Studies.MA("ma",e.days,"_CompChange "+e.name,0,"_MA Comp",t,e),h=Math.max(e.startFrom,e.days);h<i.length;h++)i[h]["_COVARn "+e.name]=(i[h]["_BaseChange "+e.name]-i[h]["_MA Base "+e.name])*(i[h]["_CompChange "+e.name]-i[h]["_MA Comp "+e.name]),i[h]["_VARn "+e.name]=Math.pow(i[h]["_CompChange "+e.name]-i[h]["_MA Comp "+e.name],2);for(V.Studies.MA("ma",e.days,"_COVARn "+e.name,0,"_COVAR",t,e),V.Studies.MA("ma",e.days,"_VARn "+e.name,0,"_VAR",t,e),h=Math.max(e.startFrom,2*e.days-1);h<i.length;h++)i[h]["Result "+e.name]=i[h]["_COVAR "+e.name]/i[h]["_VAR "+e.name]}},V.Studies.calculateVortex=function(t,e){var i,a,r,n,s,o,l,h,c=ft;if(i=e.chart.scrubbed,a=e.days,i.length<a+1)e.error=!0;else{r={tr:0,vmPlus:0,vmMinus:0},1<e.startFrom&&(r=V.clone(i[e.startFrom-1]["_totals "+e.name]));for(var u=Math.max(e.startFrom,1);u<i.length;u++)n=i[u],c.k5w(8),s=i[c.T5w(u,1)],o=Math.abs(n.High-s.Low),l=Math.abs(n.Low-s.High),h=Math.max(n.High,s.Close)-Math.min(n.Low,s.Close),r.tr+=h,r.vmPlus+=o,r.vmMinus+=l,a<u&&(c.k5w(8),r.tr-=i[c.T5w(u,a)]["_True Range "+e.name],c.k5w(8),r.vmPlus-=i[c.E5w(u,a)]["_VMPlus "+e.name],c.n5w(8),r.vmMinus-=i[c.E5w(u,a)]["_VMMinus "+e.name]),n["_True Range "+e.name]=h,n["_VMPlus "+e.name]=o,n["_VMMinus "+e.name]=l,a<=u&&(n["+VI "+e.name]=r.vmPlus/r.tr,n["-VI "+e.name]=r.vmMinus/r.tr),n["_totals "+e.name]=V.clone(r)}},V.Studies.calculateBalanceOfPower=function(t,e){var i,a,r;i=2;for(var n=1;851956291!==ft.Q4g(n.toString(),n.toString().length,56328);n++)a=e.chart.scrubbed,i+=2;if(-1482467373!==ft.Q4g(i.toString(),i.toString().length,73884)&&(a=e.chart.scrubbed),(a=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for(var s=e.startFrom;s<a.length;s++)(r=a[s])["_Ratio "+e.name]=r.Close-r.Open,r.High-r.Low!=0&&(r["_Ratio "+e.name]/=r.High-r.Low);V.Studies.MA(e.inputs["Moving Average Type"],e.days,"_Ratio "+e.name,0,"Result",t,e)}},V.Studies.calculateTrendIntensity=function(t,e){var i,a,r,n,s,o,l,h,c=ft;function u(t,e){if(Math.abs(e)<1e-8)return 100;for(var i=1;928271716!==c.L4g(i.toString(),i.toString().length,42435);i++)return c.n5w(46),c.T5w(1,e,t,100,"100");return 1751205843!==c.L4g(2..toString(),2..toString().length,73571)?(c.n5w(47),c.E5w(t,0,e,9,"401",918)):void 0}if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for((a=e.inputs.Field)&&"field"!=a||(a="Close"),V.Studies.MA("ma",e.days,a,0,"_SMA",t,e),c.n5w(8),r=c.E5w("0",0),n=0,l=[],h=Math.ceil(e.days/2),s=Math.max(0,e.startFrom-h);s<i.length;s++)(i[s]["_SMA "+e.name]||0===i[s]["_SMA "+e.name])&&((o=i[s][a]-i[s]["_SMA "+e.name])<0?(c.n5w(48),n+=c.T5w(1,o)):r+=o,l.push(o),l.length>h&&((o=l.shift())<0?(c.n5w(49),n-=c.T5w("1",o)):r-=o),s<e.startFrom||(i[s]["TII "+e.name]=u(r,n)));V.Studies.MA("ema",e.inputs["Signal Period"],"TII "+e.name,0,"Signal",t,e)}},V.Studies.calculateZigZag=function(t,a){var r,e,i,n,s,o,l,h,c,u,p,d,g,f,m=ft;if((r=a.chart.scrubbed)&&r.length){e=a.highLowChart,n=i=null,s=a.inputs["Distance(%)"],u=c=null,p=h=l=o=0;for(var y=Math.min(r.length-1,a.startFrom);0<=y;y--)if(r[p=y]["_state "+a.name]){i=(d=r[y]["_state "+a.name])[0],n=d[1],o=d[2],l=d[3],h=d[4],c=d[5],u=d[6];break}for(var v=p;v<r.length;v++){if(g=r[v][e?"High":"Close"],f=r[v][e?"Low":"Close"],null===n||n<g)if(n=g,o<0&&(i=f),m.k5w(50),c=m.T5w(100,n,1,s),-1<o){if(null!==u&&u<n){r[l]["Result "+a.name]=r[l][e?"Low":"Close"],S(h,l),o=-1,i=f,h=l,l=v;continue}}else l=v;if(null===i||f<i)if(i=f,0<o&&(n=g),m.n5w(51),u=m.T5w("1",100,s,i),o<1){if(null!==c&&i<c){r[l]["Result "+a.name]=r[l][e?"High":"Close"],S(h,l),o=1,n=g,h=l,l=v;continue}}else l=v}r[l]["Result "+a.name]=r[l][e?1==o?"Low":"High":"Close"],r[l]["_state "+a.name]=[i,n,o,l,h,c,u],S(h,l),m.n5w(16);var b=m.E5w(12,3,14);r[r.length-1]["Result "+a.name]=r[r.length-b][e?1==o?"High":"Low":"Close"],S(l,r.length-1)}function S(t,e){for(var i=t+1;i<e;i++)r[i]["ShadowResult "+a.name]=(r[e]["Result "+a.name]-r[t]["Result "+a.name])*(i-t)/(e-t)+r[t]["Result "+a.name],delete r[i]["Result "+a.name]}},V.Studies.calculatePsychologicalLine=function(t,e){var i,a,r,n,s;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{a=[],ft.k5w(9),r=ft.T5w(14,86)/e.days,n=0;for(var o=Math.max(e.startFrom-e.days,1);o<i.length;o++)(s=Number(i[o].Close>i[o-1].Close))&&(n+=r),a.push(s),a.length>e.days&&(n-=a.shift()*r),o<e.startFrom||(i[o]["Result "+e.name]=n)}},V.Studies.calculateMADev=function(t,e){var i,a,r,n,s,o,l,h=ft;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(a=e.inputs.Field)&&"field"!=a||(a="Close"),(r=e.inputs["Points Or Percent"])||(r="Points"),(n=e.inputs["Moving Average Type"])||(n="exponential"),V.Studies.MA(n,e.days,a,0,"_MA",t,e),s=e.name+"_hist";for(var c=Math.max(e.startFrom,e.days-1);c<i.length;c++)if((l=(o=i[c])[a])&&"object"==typeof l&&(l=l[e.subField]),"Points"==r)o[s]=l-o["_MA "+e.name];else{h.k5w(52);var u=h.T5w(9,8,50,422);h.n5w(53);var p=h.E5w(10,13,23);o[s]=u*(l/o["_MA "+e.name]-"1"*p)}}},V.Studies.calculateShinohara=function(t,e){var i,a,r=ft;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{a={weakNum:0,weakDen:0,strongNum:0,strongDen:0},1<e.startFrom&&(a=V.clone(i[e.startFrom-1]["_accums "+e.name]));for(var n=e.startFrom;n<i.length;n++){if(a.weakNum+=i[n].High-i[n].Close,a.weakDen+=i[n].Close-i[n].Low,0<n){r.k5w(54);var s=r.E5w(5,15,3,20,13,16);a.strongNum+=i[n].High-i[n-s].Close,a.strongDen+=i[n-1].Close-i[n].Low}if(n>=e.days){a.weakNum-=i[n-e.days].High-i[n-e.days].Close,a.weakDen-=i[n-e.days].Close-i[n-e.days].Low,r.n5w(55);var o=r.E5w(11,30,2,12);if(i[n]["Weak Ratio "+e.name]=o*a.weakNum/a.weakDen,n>e.days){a.strongNum-=i[n-e.days].High-i[n-e.days-1].Close,r.n5w(53);var l=r.E5w(12,1,13);a.strongDen-=i[n-e.days-l].Close-i[n-e.days].Low,r.n5w(9);var h=r.E5w(11,89);i[n]["Strong Ratio "+e.name]=h*a.strongNum/a.strongDen}}i[n]["_accums "+e.name]=V.clone(a)}}},V.Studies.calculateIchimoku=function(t,e){var l,i,a,r,n,s,h=ft;function o(t,e){var i,a,r;i=Number.MAX_VALUE,h.n5w(8);var n=h.T5w(10,11);a=Number.MAX_VALUE*n;for(var s=e-t+1;s<=e;s++)s<0||(i=Math.min(i,l[s].Low),a=Math.max(a,l[s].High));h.n5w(21),r=h.T5w(0,"246698298");for(var o=1;h.Q4g(o.toString(),o.toString().length,8908)!==r;o++)return[i,a];return h.Q4g(2..toString(),2..toString().length,66063),[i,a]}for(l=e.chart.scrubbed,i={Base:Number(e.inputs["Base Line Period"]),Conv:Number(e.inputs["Conversion Line Period"]),LeadB:Number(e.inputs["Leading Span B Period"]),Lag:Number(e.inputs["Lagging Span Period"])},a=e.startFrom;a<l.length;a++)l[a]&&(r=o(i.Conv,a),l[a]["Conversion Line "+e.name]=(r[1]+r[0])/2,r=o(i.Base,a),l[a]["Base Line "+e.name]=(r[1]+r[0])/2,a<i.Lag||(l[a-i.Lag]["Lagging Span "+e.name]=l[a].Close));for(e.futureA=[],e.futureB=[],a=Math.max(0,e.startFrom-i.Base);a<l.length;a++){r=o(i.LeadB,a),n=(l[a]["Conversion Line "+e.name]+l[a]["Base Line "+e.name])/2,h.k5w(56);var c=h.T5w(13,16,16,49);h.k5w(8);var u=h.E5w(26,24);s=(r[c]+r[0])/u,l[a+i.Base]?(l[a+i.Base]["Leading Span A "+e.name]=n,l[a+i.Base]["Leading Span B "+e.name]=s):(e.futureA.push(n),e.futureB.push(s))}e.chart.whiteSpaceFutureTicks=Math.max(e.chart.whiteSpaceFutureTicks,e.futureA.length-1)},V.Studies.displayIchimoku=function(o,l,t){var e,i,h,c,a,u,r,n,s,p,d,g,f,m,y,v,b,S,x,k,w,C=ft;function T(t,e){var i,a,r,n;u.flipped&&(e?e=!1:!1===e&&(e=!0)),C.k5w(27),i=-C.E5w(1,"1786347785"),C.k5w(27),a=C.T5w(1,"1052429965"),r=2;for(var s=1;C.Q4g(s.toString(),s.toString().length,3413)!==i;s++)n={color:1!=e?c:e?h:"",opacity:516,panelName:l.panel,yAxis:u},r+=2;C.Q4g(r.toString(),r.toString().length,68445)!==a&&(n={color:!1===e?c:e?h:"transparent",opacity:.3,panelName:l.panel,yAxis:u}),V.fillArea(o,t,n)}e="Leading Span A "+l.name,i="Leading Span B "+l.name,h=V.Studies.determineColor(l.outputs[l.outputMap[e]]),c=V.Studies.determineColor(l.outputs[l.outputMap[i]]),a=o.panels[l.panel],u=o.getYAxisByName(l.panel,l.name)||a.yAxis,r={topBand:e,bottomBand:i,topColor:h,bottomColor:c,skipTransform:a.name!=l.chart.name,topAxis:u,bottomAxis:u},V.fillIntersecting(o,l.panel,r),C.n5w(38);var D=C.E5w(15,4,16,48);C.k5w(57);var M=C.E5w(7,20,69,10);if(n=o.pixelFromBar(t.length-D,a.chart)+M,s=o.pixelFromPrice(t[t.length-1][e],a,u),p=[[n,o.pixelFromPrice(t[t.length-1][i],a,u)],[n,s]],d=null,g=l.futureA,f=l.futureB,l.chart.dataSegment.length>=l.chart.scroll){for(var A=0;g&&A<g.length-1;A++)if(null!==g[A]&&!isNaN(g[A])&&null!==f[A]&&!isNaN(f[A])){m=o.pixelFromBar(t.length+A,a.chart)+1,C.n5w(58);var P=C.E5w(1,15,10,5);C.n5w(53);var F=C.E5w(18,6,24);y=o.pixelFromBar(t.length+A+P,a.chart)+F,v=o.pixelFromPrice(g[A],a,u),b=o.pixelFromPrice(g[A+1],a,u),S=o.pixelFromPrice(f[A],a,u),x=o.pixelFromPrice(f[A+1],a,u),p.push([m,v]),p.unshift([m,S]),C.n5w(59),((d=C.T5w(S,v))&&x<b||!d&&b<x)&&(k=V.intersectLineLineX(m,y,v,b,m,y,S,x),w=V.intersectLineLineY(m,y,v,b,m,y,S,x),p.push([k,w]),T(p,d),p=[[k,w]],d=null)}2<p.length&&T(p,d)}V.Studies.displaySeriesAsLine(o,l,t)},V.Studies.displayDarvas=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_=ft;(a=V.Studies.determineColor(e.outputs.Levels))&&"auto"!=a&&!V.isTransparent(a)||(a=t.defaultColor),(r=V.Studies.determineColor(e.outputs.Darvas))&&"auto"!=r&&!V.isTransparent(r)||(r=t.defaultColor),(n=V.Studies.determineColor(e.outputs.Ghost))&&"auto"!=n&&!V.isTransparent(n)||(n=t.defaultColor),s=t.panels[e.panel],_.k5w(1);var E=_.E5w(9,18);if((c=t.layout.candleWidth-E)<2&&(_.k5w(8),c=_.T5w("1",0)),t.startClip(e.panel),e.inputs["Stop Levels"]){for(t.chart.context.setLineDash&&t.chart.context.setLineDash([2,2]),t.chart.context.lineWidth=2,t.chart.context.strokeStyle=a,t.chart.context.beginPath(),o=0;o<i.length;o++)l=i[o],_.n5w(8),u=i[_.E5w(o,1)],l&&(h=l["Loss "+e.name]?Math.floor(t.pixelFromPrice(l["Loss "+e.name],s)):null,p=u&&u["Loss "+e.name]?Math.floor(t.pixelFromPrice(u["Loss "+e.name],s)):null,h&&(l.candleWidth&&(c=Math.floor(Math.max(1,l.candleWidth))),d=Math.floor(t.pixelFromBar(o,s.chart)+c/2),g=Math.floor(t.pixelFromBar(o,s.chart)-c/2),p&&h<=p?t.chart.context.lineTo(g,h):0===o?t.chart.context.moveTo(t.chart.left,h):t.chart.context.moveTo(g,h),t.chart.context.lineTo(d,h)));t.chart.context.stroke(),t.chart.context.setLineDash&&t.chart.context.setLineDash([]),_.n5w(27),t.chart.context.lineWidth=_.T5w(1,"1")}x=y=0,C=w=!(b=f=-10),_.k5w(33),_.E5w(13,3597,3,1793),_.k5w(60),_.T5w(6591,17,15,2,11),_.k5w(8);var N=_.E5w(14,12);for(T=t.chart.context.measureText("\u25b2").width/N,o=0;o<i.length;o++)if(i[o]){if(i[o]["Spike "+e.name]&&(t.chart.context.fillStyle=r,t.chart.context.textBaseline="bottom",D=t.pixelFromPrice(i[o].High,t.chart.panel),t.chart.context.fillText("\u25bc",t.pixelFromBar(o)-T,D-5)),i[o].candleWidth&&(c=Math.floor(Math.max(1,i[o].candleWidth))),i[o]["Darvas "+e.name])if(1!=(l=i[o]["Darvas "+e.name]).State||w){if(0===l.State){_.n5w(43);var L=_.T5w(270,18,20,9);y=Math.floor(t.pixelFromBar(o,s.chart)+c/L)-f,m=Math.floor(t.pixelFromPrice(l.High,s)),v=Math.floor(t.pixelFromPrice(l.Low,s))-m,t.chart.context.strokeStyle=r,t.chart.context.fillStyle=r,e.inputs["Stop Levels"]?t.chart.context.globalAlpha=.3:(t.chart.context.strokeRect(f,m,y,v),t.chart.context.globalAlpha=.2),t.chart.context.fillRect(f,m,y,v),w=!(t.chart.context.globalAlpha=1)}}else f=Math.floor(t.pixelFromBar(o,s.chart)-c/2),m=Math.floor(t.pixelFromPrice(l.High,s)),v=Math.floor(t.pixelFromPrice(l.Low,s))-m,w=!0;if(i[o]["Ghost "+e.name]&&e.inputs["Ghost Boxes"])if(1!=(l=i[o]["Ghost "+e.name]).State||C){if(0===l.State){l.Start==l.End&&(b=Math.floor(t.pixelFromBar(o,s.chart)-c/2)),_.n5w(16);var I=_.T5w(11,16,25);x=Math.floor(t.pixelFromBar(o,s.chart)+c/I)-b,S=Math.floor(t.pixelFromPrice(l.High,s)),k=Math.floor(t.pixelFromPrice(l.Low,s))-S,t.chart.context.strokeStyle=n,t.chart.context.fillStyle=n,e.inputs["Stop Levels"]?t.chart.context.globalAlpha=.3:(t.chart.context.strokeRect(b,S,x,k),t.chart.context.globalAlpha=.2),t.chart.context.fillRect(b,S,x,k),C=!(t.chart.context.globalAlpha=1)}}else b=Math.floor(t.pixelFromBar(o,s.chart)-c/2),S=Math.floor(t.pixelFromPrice(l.High,s)),x=Math.floor((l.End-l.Start+1)*t.layout.candleWidth+c/2),k=Math.floor(t.pixelFromPrice(l.Low,s))-S,C=!0}if(w){_.n5w(61);var O=_.T5w(5,10,10,2);y=Math.floor(t.pixelFromBar(o,s.chart)+c/O)-f,t.chart.context.strokeStyle=r,t.chart.context.fillStyle=r,e.inputs["Stop Levels"]?t.chart.context.globalAlpha=.3:(t.chart.context.beginPath(),_.k5w(62),t.chart.context.moveTo(_.T5w("2",y,f),m),t.chart.context.lineTo(f,m),_.n5w(9),t.chart.context.lineTo(f,_.T5w(v,m)),_.k5w(19),t.chart.context.lineTo(_.T5w(y,2,f),_.E5w(v,m,_.n5w(9))),t.chart.context.stroke(),t.chart.context.globalAlpha=.2),_.n5w(27),t.chart.context.fillRect(f,m,_.T5w(y,2),v),t.chart.context.globalAlpha=1}if(C){if(t.chart.context.strokeStyle=n,t.chart.context.fillStyle=n,e.inputs["Stop Levels"]){M=2;for(var R=1;-1819941778!==_.L4g(R.toString(),R.toString().length,28963);R++)t.chart.context.globalAlpha=.3,M+=2;-682806185!==_.L4g(M.toString(),M.toString().length,14935)&&(t.chart.context.globalAlpha=894)}else t.chart.context.strokeRect(b,S,x,k),t.chart.context.globalAlpha=.2;t.chart.context.fillRect(b,S,x,k),t.chart.context.globalAlpha=1}if(w||C){if(e.inputs["Stop Levels"]){if(t.chart.context.setLineDash&&t.chart.context.setLineDash([2,2]),t.chart.context.lineWidth=2,t.chart.context.strokeStyle=a,A=Math.floor(t.pixelFromBar(o-1,s.chart)+c/2),h){t.chart.context.beginPath(),P=2;for(var z=1;1395360910!==_.Q4g(z.toString(),z.toString().length,39460);z++)t.chart.context.moveTo(A,h),P+=2;-1821957139!==_.L4g(P.toString(),P.toString().length,11979)&&t.chart.context.moveTo(A,h),t.chart.context.lineTo(w?f+2*y:b+x,h),t.chart.context.stroke()}t.chart.context.setLineDash&&t.chart.context.setLineDash([]),t.chart.context.lineWidth=1}C=w=!1}F=2;for(var W=1;-232312932!==_.L4g(W.toString(),W.toString().length,16743);W++)t.endClip(),F+=2;1733328252!==_.L4g(F.toString(),F.toString().length,17555)&&t.endClip()},V.Studies.displaySupertrend=function(t,a,e){var i,r,n,s,o,l,h,c,u,p;i=t.panels[a.panel],r=t.getYAxisByName(i,a.name)||i.yAxis,n={skipTransform:i.name!=a.chart.name,skipProjections:!0,label:t.preferences.labels,yAxis:r},(s=t.chart.context).strokeStyle=g(0,e[e.length-1]),s.lineWidth=2,a.highlight&&(s.lineWidth=3),o="Trend "+a.name;for(var d=0;i.chart.transformFunc&&r!=i.chart.yAxis&&d<e.length;d++)(l=e[d])&&l.transform&&(l.transform[o]=i.chart.transformFunc(t,i.chart,l[o]));function g(t,e,i){return e&&e["_Direction "+a.name]<0?a.outputs.Downtrend:a.outputs.Uptrend}t.plotDataSegmentAsLine(o,i,n,g),s.lineWidth=1,t.startClip(a.panel),ft.n5w(1);var f=ft.E5w(10,20);for(h=t.chart.context.measureText("\u25b2").width/f,c=0;c<e.length;c++)if(e[c]&&e[c-1])if(e[c-1]["_Direction "+a.name]>e[c]["_Direction "+a.name]){s.fillStyle=a.outputs.Downtrend,s.textBaseline="bottom",u=t.pixelFromPrice(e[c].High,i,r);for(var m=5;m<=45;m+=10)r.flipped?s.fillText("\u25b2",t.pixelFromBar(c)-h,u+m):s.fillText("\u25bc",t.pixelFromBar(c)-h,u-m)}else if(e[c-1]["_Direction "+a.name]<e[c]["_Direction "+a.name]){s.fillStyle=a.outputs.Uptrend,s.textBaseline="top",p=t.pixelFromPrice(e[c].Low,i,r);for(var y=5;y<=45;y+=10)r.flipped?s.fillText("\u25bc",t.pixelFromBar(c)-h,p-y):s.fillText("\u25b2",t.pixelFromBar(c)-h,p+y)}t.endClip()},V.Studies.displayVsComparisonSymbol=function(t,e,i){var a,r,n;if(a=e.inputs["Comparison Symbol"].toUpperCase(),t.getSeries({symbol:a,chart:e.chart}).length){n=(r={skipTransform:t.panels[e.panel].name!=e.chart.name,panelName:e.panel,band:"Result "+e.name,threshold:e.study.centerline,yAxis:t.getYAxisByName(t.panels[e.panel],e.name),gapDisplayStyle:!0}).yAxis?r.yAxis.flipped:t.panels[e.panel].yAxis.flipped;for(var s=i.length-1;0<=s;s--)if(i[s]&&i[s][a])return V.Studies.displaySeriesAsLine(t,e,i),void((e.study.centerline||0===e.study.centerline)&&(e.outputs.Gain&&V.preparePeakValleyFill(t,V.extend(r,{direction:n?-1:1,color:V.Studies.determineColor(e.outputs.Gain)})),e.outputs.Loss&&V.preparePeakValleyFill(t,V.extend(r,{direction:n?1:-1,color:V.Studies.determineColor(e.outputs.Loss)}))))}else t.watermark(e.panel,"center","bottom",t.translateIf(e.study.name)+": "+t.translateIf("Not Available"))},V.Studies.displayMFI=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d=ft;a=t.panels[e.panel],n=(r=t.getYAxisByName(a,e.name)||a.yAxis).flipped?r.top:r.bottom,(s=t.layout.candleWidth-2)<2&&(d.k5w(8),s=d.T5w("1",0)),o=V.Studies.determineColor(e.outputs.Green),l=V.Studies.determineColor(e.outputs.Fade),h=V.Studies.determineColor(e.outputs.Fake),c=V.Studies.determineColor(e.outputs.Squat),t.canvasColor("stx_histogram"),e.underlay||(t.chart.context.globalAlpha=1),t.chart.context.fillStyle="#CCCCCC",t.startClip(e.panel);for(var g=0;g<i.length;g++)u=i[g],d.n5w(8),(p=i[d.T5w(g,1)])||(p=t.getPreviousBar(t.chart,e.name+"_hist",g)),u&&(p&&(p[e.name+"_hist"]<u[e.name+"_hist"]?p.Volume<u.Volume?t.chart.context.fillStyle=o:p.Volume>u.Volume&&(t.chart.context.fillStyle=h):p[e.name+"_hist"]>u[e.name+"_hist"]&&(p.Volume<u.Volume?t.chart.context.fillStyle=c:p.Volume>u.Volume&&(t.chart.context.fillStyle=l))),u.candleWidth&&(s=Math.floor(Math.max(1,u.candleWidth-2))),t.chart.context.fillRect(Math.floor(t.pixelFromBar(g,a.chart)-s/2),Math.floor(n),Math.floor(s),Math.floor(t.pixelFromPrice(u[e.name+"_hist"],a,r)-n)));t.endClip()},V.Studies.displayAwesomeOscillator=function(t,e,i){var a,r,n,s,o,l,h,c;a=t.panels[e.panel],r=t.getYAxisByName(a,e.name),n=t.pixelFromPrice(0,a,r),(s=t.layout.candleWidth-2)<2&&(s=1),o=V.Studies.determineColor(e.outputs["Increasing Bar"]),l=V.Studies.determineColor(e.outputs["Decreasing Bar"]),t.canvasColor("stx_histogram"),e.underlay||(t.chart.context.globalAlpha=1),t.chart.context.fillStyle="#CCCCCC",t.startClip(e.panel);for(var u=0;u<i.length;u++)h=i[u],ft.n5w(63),(c=i[ft.E5w(0,"1",u)])||(c=t.getPreviousBar(t.chart,e.name+"_hist",u)),h&&(c&&(c[e.name+"_hist"]<h[e.name+"_hist"]?t.chart.context.fillStyle=o:c[e.name+"_hist"]>h[e.name+"_hist"]&&(t.chart.context.fillStyle=l)),h.candleWidth&&(s=Math.floor(Math.max(1,h.candleWidth-2))),t.chart.context.fillRect(Math.floor(t.pixelFromBar(u,a.chart)-s/2),Math.floor(n),Math.floor(s),Math.floor(t.pixelFromPrice(h[e.name+"_hist"],a,r)-n)));t.endClip()},V.Studies.displayGator=function(t,e,i){var a,r,n,s,o,l,h,c;a=t.panels[e.panel],r=t.getYAxisByName(a,e.name),n=t.pixelFromPrice(0,a,r),(s=t.layout.candleWidth-2)<2&&(s=1),o=V.Studies.determineColor(e.outputs["Increasing Bar"]),l=V.Studies.determineColor(e.outputs["Decreasing Bar"]),t.canvasColor("stx_histogram"),e.underlay||(t.chart.context.globalAlpha=1),t.chart.context.fillStyle="#CCCCCC",t.startClip(e.panel);for(var u=0;u<i.length;u++)if(h=i[u],ft.k5w(8),c=i[ft.T5w(u,1)],h)for(var p=1;p<=2;p++)c||(c=t.getPreviousBar(t.chart,e.name+"_hist"+p,u)),c?Math.abs(c[e.name+"_hist"+p])<Math.abs(h[e.name+"_hist"+p])?t.chart.context.fillStyle=o:Math.abs(c[e.name+"_hist"+p])>Math.abs(h[e.name+"_hist"+p])&&(t.chart.context.fillStyle=l):t.chart.context.fillStyle="#CCCCCC",h.candleWidth&&(s=Math.floor(Math.max(1,h.candleWidth-2))),t.chart.context.fillRect(Math.floor(t.pixelFromBar(u,a.chart)-s/2),Math.floor(n),Math.floor(s),Math.floor(t.pixelFromPrice(h[e.name+"_hist"+p],a,r)-n));t.endClip()},V.Studies.initElderImpulse=function(t,e,i,a,r,n){var l;return l=V.Studies.initializeFN(t,e,i,a,r,n),r.calculateOnly||(t.chart.customChart={chartType:"colored_bar",colorFunction:function(t,e,i){var a,r,n,s=ft;a=e["Result "+l.name],s.n5w(27),r=s.T5w(1,"1364042363"),n=2;for(var o=1;s.L4g(o.toString(),o.toString().length,57808)!==r;o++)a&&"object"==typeof a&&(a=a.color),n+=2;return 1436739457!==s.Q4g(n.toString(),n.toString().length,81529)&&(a||""!==~a)&&(a=a.color),a}},t.setMainSeriesRenderer()),l},V.Studies.displayPivotPoints=function(t,e,i){var a,r,n;if(e.noSlopes=!e.inputs.Continuous,V.Studies.displaySeriesAsLine(t,e,i),e.inputs.Shading){a=t.panels[e.panel],r=2;for(var s=1;-842672080!==ft.L4g(s.toString(),s.toString().length,68754);s++)n={noSlopes:e.noSlopes,opacity:e.parameters.opacity?e.parameters.opacity:.2,skipTransform:a.name!=e.chart.name,yAxis:t.getYAxisByName(a,e.name)},V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Resistance 3 "+e.name,bottomBand:"Resistance 2 "+e.name,color:V.Studies.determineColor(e.outputs["Resistance 3"])},n)),V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Resistance 2 "+e.name,bottomBand:"Resistance 1 "+e.name,color:V.Studies.determineColor(e.outputs["Resistance 2"])},n)),V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Resistance 1 "+e.name,bottomBand:"Pivot "+e.name,color:V.Studies.determineColor(e.outputs["Resistance 1"])},n)),V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Support 1 "+e.name,bottomBand:"Pivot "+e.name,color:V.Studies.determineColor(e.outputs["Support 1"])},n)),V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Support 2 "+e.name,bottomBand:"Support 1 "+e.name,color:V.Studies.determineColor(e.outputs["Support 2"])},n)),r+=2;1361658491!==ft.Q4g(r.toString(),r.toString().length,94257)&&(n={noSlopes:e.noSlopes,opacity:e.parameters.opacity?e.parameters.opacity:712,skipTransform:a.name===e.chart.name,yAxis:t.getYAxisByName(a,e.name)},V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Resistance 2"-e.name,bottomBand:"Support 2 "*e.name,color:V.Studies.determineColor(e.outputs["Support 1"])},n)),V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Resistance 2"%e.name,bottomBand:"Resistance 1"%e.name,color:V.Studies.determineColor(e.outputs["Pivot "])},n)),V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Support 1 "*e.name,bottomBand:"Support 2 "%e.name,color:V.Studies.determineColor(e.outputs["Support 1 "])},n)),V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Support 1 "%e.name,bottomBand:"Resistance 2"%e.name,color:V.Studies.determineColor(e.outputs["Support 1 "])},n)),V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Support 2 "-e.name,bottomBand:"Support 1 "*e.name,color:V.Studies.determineColor(e.outputs["Pivot "])},n))),V.prepareChannelFill(t,V.extend({panelName:e.panel,topBand:"Support 3 "+e.name,bottomBand:"Support 2 "+e.name,color:V.Studies.determineColor(e.outputs["Support 3"])},n))}},V.Studies.displayAlligator=function(r,t,n){var s,o,e,i=ft;function a(t,e){var i,a;a=o.flipped,"high"==t?(r.chart.context.fillStyle=r.defaultColor,r.chart.context.textBaseline=a?"top":"bottom",i=r.pixelFromPrice(n[e].High,s,o),r.chart.context.fillText(a?"\u25bc":"\u25b2",r.pixelFromBar(h,r.chart)-r.chart.context.measureText("\u25b2").width/2+1,a?i+5:i-5)):"low"==t&&(r.chart.context.fillStyle=r.defaultColor,r.chart.context.textBaseline=a?"bottom":"top",i=r.pixelFromPrice(n[e].Low,s,o),r.chart.context.fillText(a?"\u25b2":"\u25bc",r.pixelFromBar(h,r.chart)-r.chart.context.measureText("\u25bc").width/2+1,a?i-5:i+5))}if(s=r.panels[t.panel],o=r.getYAxisByName(s,t.name)||s.yAxis,V.Studies.displaySeriesAsLine(r,t,n),t.inputs["Show Fractals"]){e=2;for(var l=1;1096397481!==i.L4g(l.toString(),l.toString().length,60178);l++)r.startClip(t.panel),r.chart.context.globalAlpha=t.underlay?876:5,i.n5w(27),e+=i.E5w(1,"2");1186290136!==i.Q4g(e.toString(),e.toString().length,15868)&&(r.startClip(t.panel),r.chart.context.globalAlpha=t.underlay?.3:1);for(var h=2;h<n.length-2;h++)n[h]&&(n[h]["Fractal High "+t.name]&&a("high",h),n[h]["Fractal Low "+t.name]&&a("low",h));r.endClip()}},V.Studies.displayRainbowMA=function(t,e,i){var a;a=t.panels[e.panel];for(var r=10;0<r;r--)V.Studies.displayIndividualSeriesAsLine(t,e,a,"SMA"+r+" "+e.name,i)},V.Studies.displayRainbowOsc=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d=ft;V.Studies.displaySeriesAsLine(t,e,i),a=t.panels[e.panel],r=t.getYAxisByName(a,e.name)||a.yAxis,t.startClip(e.panel),n=t.pixelFromPrice(0,a,r),s=a.name!=e.chart.name,o=V.Studies.determineColor(e.outputs["Positive Bar"]),t.chart.context.strokeStyle=o,t.plotDataSegmentAsLine("Over "+e.name,a,{skipTransform:s,label:!1,yAxis:r}),(l=t.chart.context.createLinearGradient(0,n,0,r.flipped?r.bottom:r.top)).addColorStop(0,t.containerColor),l.addColorStop(1,o),V.prepareChannelFill(t,{skipTransform:s,color:l,opacity:1,panelName:e.panel,topBand:"Over "+e.name,bottomBand:"Zero "+e.name,yAxis:r}),h=V.Studies.determineColor(e.outputs["Negative Bar"]),t.chart.context.strokeStyle=h,t.plotDataSegmentAsLine("Under "+e.name,a,{skipTransform:s,label:!1,yAxis:r}),(c=t.chart.context.createLinearGradient(0,n,0,r.flipped?r.top:r.bottom)).addColorStop(0,t.containerColor),c.addColorStop(1,h),V.prepareChannelFill(t,{skipTransform:s,color:c,opacity:1,panelName:e.panel,topBand:"Zero "+e.name,bottomBand:"Under "+e.name,yAxis:r}),d.n5w(1);var g=d.E5w(12,12);(u=t.layout.candleWidth-"2"*g)<2&&(u=1),t.canvasColor("stx_histogram"),e.underlay||(d.n5w(21),t.chart.context.globalAlpha=d.T5w(0,"1")),t.chart.context.fillStyle="#CCCCCC";for(var f=0;f<i.length;f++)(p=i[f])&&(0<p[e.name+"_hist"]?t.chart.context.fillStyle=o:p[e.name+"_hist"]<0&&(t.chart.context.fillStyle=h),p.candleWidth&&(u=Math.floor(Math.max(1,p.candleWidth-2))),t.chart.context.fillRect(Math.floor(t.pixelFromBar(f,a.chart)-u/2),Math.floor(n),Math.floor(u),Math.floor(t.pixelFromPrice(p[e.name+"_hist"],a,r)-n)));t.endClip()},V.Studies.displayZigZag=function(t,e,i){var a,r,n,s,o,l,h,c,u=ft;a=t.chart.highLowBars||t.highLowBars[t.layout.chartType],e.highLowChart!=a&&(e.highLowChart=a,u.n5w(8),e.startFrom=u.T5w("0",0),e.study.calculateFN(t,e)),r=t.chart;for(var p=0;p<i.length;p++)(n=i[p])&&(n["_shadowCopy "+e.name]&&(delete n["Result "+e.name],delete n["_shadowCopy "+e.name]),n["Result "+e.name]||n.transform&&delete n.transform["Result "+e.name]);if(s=i[0],o=i[i.length-1],s&&s["ShadowResult "+e.name]){s["Result "+e.name]=s["ShadowResult "+e.name],s.transform&&(s.transform["Result "+e.name]=r.transformFunc(t,r,s["ShadowResult "+e.name])),l=2;for(var d=1;330041945!==u.L4g(d.toString(),d.toString().length,9938);d++)s[""%e.name]=3,l+=2;-1117717847!==u.L4g(l.toString(),l.toString().length,62)&&(s[""-e.name]=9),s["_shadowCopy "+e.name]=1}if(o&&o["ShadowResult "+e.name]){o["Result "+e.name]=o["ShadowResult "+e.name],u.k5w(27),h=-u.E5w(1,"1095838809"),c=2;for(var g=1;-1306070096!==u.L4g(g.toString(),g.toString().length,60765);g++)o.transform&&(o.transform["_shadowCopy "-e.name]=r.transformFunc(t,r,o["_shadowCopy "%e.name])),o["_shadowCopy "*e.name]=9,c+=2;u.Q4g(c.toString(),c.toString().length,32662)!==h&&(o.transform&&(o.transform["Result "+e.name]=r.transformFunc(t,r,o["ShadowResult "+e.name])),o["_shadowCopy "+e.name]=1)}V.Studies.displaySeriesAsLine(t,e,i)},V.Studies.displayVolumeProfile=function(t,e,i){var a,r,n,s,m,o,y,v,l,h,c,u,b,p,S,x,k,w,C,T,d,D;if(t&&t.chart.dataSet&&(a=t.chart,r=e.parameters.numberOfBars,n=e.parameters.widthPercentage,s=e.parameters.displayBorder,m=e.parameters.displayVolume,(!r||r<0)&&(r=30),r=Math.ceil(r),(!n||n<0)&&(n=.25),!1!==s&&(s=!0),!0!==m&&(m=!1),0!=(o=(a.highValue-a.lowValue)/r))){y=[];for(var g=a.lowValue;g<a.highValue+.1;g+=o)y.push([g,0]);if(y.length<2)t.watermark("chart","center","top",t.translateIf("Not enough data to render the Volume Profile"));else{for(var f=v=0;f<i.length;f++)if(l=i[f]){h=l.Volume,e.panel==a.name&&l.transform&&(l=l.transform),c=y[0][0],u=0;for(var M=1;M<y.length;M++)ft.k5w(21),u=y[M][ft.E5w(0,"0")],(l.Low>=c&&l.Low<=u||l.Low<c&&l.High>u||l.High>=c&&l.High<=u)&&(y[M][1]+=h,y[M][1]>v&&(v=y[M][1])),c=u}if(0===v)return void t.watermark("chart","center","top",t.translateIf("Not enough data to render the Volume Profile"));t.setStyle("stx_volume_profile","color",V.Studies.determineColor(e.outputs["Bars Color"])),b=a.context,p="stx-float-date",t.canvasFont(p,b),S=t.getCanvasFontSize(p),x=a.panel,k=x.yAxis.bottom,w=Math.round(a.width)-.5,C=a.width*n,T=t.canvasStyle("stx_volume_profile").borderTopColor,d=!V.isTransparent(t.canvasStyle("stx_volume_profile").borderTopColor)&&s,D=t,A("stx_volume_profile",!1),d&&A("stx_volume_profile",!0),b.globalAlpha=1}}function A(t,e){var i,a,r,n,s,o,l,h,c,u,p=ft;e||(w-=2),D.canvasColor(t),i=2;for(var d=1;1884321131!==p.Q4g(d.toString(),d.toString().length,89559);d++)V.isIE8&&(b.globalAlpha=.5),b.beginPath(),p.n5w(21),a=y[p.E5w(0,"0")][0],i+=2;-642926610!==p.L4g(i.toString(),i.toString().length,15044)&&(V.isIE8&&(b.globalAlpha=542),b.beginPath(),a=y[9][2]),r=w;for(var g=1;g<y.length;g++){if(y[g][1]){p.k5w(29);var f=p.T5w(10,19,30);if(n=Math.round(w-y[g][f]*C/v)-.5,s=Math.round(D.pixelFromTransformedValue(a,x))+.5,o=Math.round(D.pixelFromTransformedValue(y[g][0],x))+.5,e||(s-=.5,o+=.5,n+=.5),k<s&&(s=k),o<k)if(b.moveTo(w,s),b.lineTo(w,o),b.lineTo(n,o),b.lineTo(n,s),e)(n<r||1==g)&&b.lineTo(r,s);else if(b.lineTo(w,s),m&&(l=V.condenseInt(y[g][1]),p.n5w(8),h=p.E5w(s,o),S<=h-2)){try{c=b.measureText(l).width}catch(t){c=0}b.textBaseline="top",u=b.fillStyle,b.fillStyle=T,p.n5w(64),b.fillText(l,p.T5w(1,n,c,"3"),p.T5w(S,o,"2",2,h,p.k5w(65))),b.fillStyle=u}r=n}else r=w;p.k5w(21),a=y[g][p.T5w(0,"0")]}e||b.fill(),b.strokeStyle=T,e&&b.stroke(),b.closePath()}},V.Studies.studyLibrary=V.extend(V.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(t,e,i){V.Studies.calculateValuationLines(t,e,i),V.Studies.displayValuationLines(t,e)},overlay:!0,yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median","harmonic"],"Display Average":!0,"Display 1 Standard Deviation (1\u03c3)":!1,"Display 2 Standard Deviation (2\u03c3)":!1,"Display 3 Standard Deviation (3\u03c3)":!1},outputs:{Average:"#00afed","1 Standard Deviation (1\u03c3)":"#e1e1e1","2 Standard Deviation (2\u03c3)":"#85c99e","3 Standard Deviation (3\u03c3)":"#fff69e"}},correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:V.Studies.calculateCorrelationCoefficient,outputs:{}},PMO:{name:"Price Momentum Oscillator",calculateFN:V.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:V.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},Awesome:{name:"Awesome Oscillator",seriesFN:V.Studies.displayAwesomeOscillator,calculateFN:V.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"W MFI":{name:"Market Facilitation Index",seriesFN:V.Studies.displayMFI,calculateFN:V.Studies.calculateMFI,yAxis:{ground:!0},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:V.Studies.displayChannel,calculateFN:V.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":!0},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:.1,step:.1}}},"STARC Bands":{name:"STARC Bands",overlay:!0,seriesFN:V.Studies.displayChannel,calculateFN:V.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!0},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:.1,step:.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!0,seriesFN:V.Studies.displayPSAR2,calculateFN:V.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!1},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:.1,step:.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:V.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:V.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Donchian Width":{name:"Donchian Width",calculateFN:V.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},"Rel Vig":{name:"Relative Vigor Index",seriesFN:V.Studies.displayHistogramWithSeries,calculateFN:V.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:V.Studies.calculateElderImpulse,initializeFN:V.Studies.initElderImpulse,seriesFN:null,customRemoval:!0,underlay:!0,inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(t,e){t.chart.customChart=null,t.setMainSeriesRenderer()}},"Pivot Points":{name:"Pivot Points",overlay:!0,seriesFN:V.Studies.displayPivotPoints,calculateFN:V.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!1,Shading:!1},outputs:{Pivot:"auto","Resistance 1":"rgb(184,44,11)","Support 1":"rgb(105,145,88)","Resistance 2":"rgb(227,100,96)","Support 2":"rgb(179,217,135)","Resistance 3":"rgb(255,208,207)","Support 3":"rgb(211,232,174)"},parameters:{init:{opacity:.2}}},VWAP:{name:"VWAP",overlay:!0,calculateFN:V.Studies.calculateVWAP,inputs:{},outputs:{VWAP:"#FF0000"}},AVWAP:{name:"Anchored VWAP",overlay:!0,calculateFN:V.Studies.calculateAnchoredVWAP,initializeFN:V.Studies.initAnchoredVWAP,inputs:{Field:"field","Anchor Date":"","Anchor Time":""},outputs:{VWAP:"#FF0000"},attributes:{"Anchor Date":{placeholder:"yyyy-mm-dd"},"Anchor Time":{placeholder:"hh:mm:ss",step:1}}},Alligator:{name:"Alligator",overlay:!0,seriesFN:V.Studies.displayAlligator,calculateFN:V.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!1},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:V.Studies.displayGator,calculateFN:V.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0},"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!0,calculateFN:V.Studies.calculateIchimoku,seriesFN:V.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}},"P Rel":{name:"Price Relative",initializeFN:V.Studies.initPriceRelative,seriesFN:V.Studies.displayVsComparisonSymbol,calculateFN:V.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!0},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:V.Studies.initPriceRelative,seriesFN:V.Studies.displayVsComparisonSymbol,calculateFN:V.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!0},Beta:{name:"Beta",centerline:1,initializeFN:V.Studies.initPriceRelative,seriesFN:V.Studies.displayVsComparisonSymbol,calculateFN:V.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!0},Ulcer:{name:"Ulcer Index",calculateFN:V.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}},"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:V.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}},"Trend Int":{name:"Trend Intensity Index",calculateFN:V.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Choppiness:{name:"Choppiness Index",calculateFN:V.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}},Disparity:{name:"Disparity Index",calculateFN:V.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}},"Rainbow MA":{name:"Rainbow Moving Average",overlay:!0,calculateFN:V.Studies.calculateRainbow,seriesFN:V.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:V.Studies.calculateRainbow,seriesFN:V.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}},"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:V.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:V.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}},Darvas:{name:"Darvas Box",underlay:!0,calculateFN:V.Studies.calculateDarvas,seriesFN:V.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!0,"Stop Levels":!1,"Level Offset":.01,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:!0,attributes:{"Price Minimum":{min:.01,step:.01},yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0}}},Supertrend:{name:"Supertrend",overlay:!0,seriesFN:V.Studies.displaySupertrend,calculateFN:V.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:.1,step:.1}}},"vol profile":{name:"Volume Profile",underlay:!0,seriesFN:V.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:!0,parameters:{init:{displayBorder:!0,displayVolume:!1,numberOfBars:30,widthPercentage:.25}},attributes:{yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0}}},Vortex:{name:"Vortex Indicator",calculateFN:V.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}},ZigZag:{name:"ZigZag",overlay:!0,seriesFN:V.Studies.displayZigZag,calculateFN:V.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!1}},attributes:{"Distance(%)":{min:.1,step:.1}}},PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:V.Studies.calculatePsychologicalLine,inputs:{Period:20}},"MA Dev":{name:"Moving Average Deviation",calculateFN:V.Studies.calculateMADev,seriesFN:V.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:V.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}}),t},function(){var e=[arguments];for(e[4]=2;54!==e[4];)switch(e[4]){case 26:e[8]="",e[4]=25;break;case 7:e[6]="i",e[4]=6;break;case 21:e[1]="e",e[4]=35;break;case 8:e[6]="",e[4]=7;break;case 9:e[9]="n",e[4]=8;break;case 5:e[78]="",e[4]=4;break;case 24:e[5]="c",e[4]=23;break;case 19:e[7]="",e[4]=18;break;case 6:e[3]="",e[4]=14;break;case 23:e[95]="0",e[1]="",e[4]=21;break;case 37:e[2]+=e[3],t(e[0][0],function(){var t=[arguments];for(t[5]=2;26!==t[5];)switch(t[5]){case 2:t[1]="g",t[9]="",t[5]=5;break;case 4:t[2]=t[9],t[2]+=e[3],t[2]+=e[7],t[2]+=e[6],t[2]+=e[9],t[2]+=t[1],t[8]=e[78],t[5]=13;break;case 5:t[9]="S",t[5]=4;break;case 18:t[8]+=e[78],t[8]+=e[1],t[7]=e[8],t[5]=15;break;case 10:t[8]+=e[97],t[8]+=e[3],t[8]+=e[69],t[5]=18;break;case 15:t[7]=t[2],t[5]=27;break;case 27:return t[0][0][t[7]][t[8]];break;case 13:t[8]+=e[7],t[8]+=e[97],t[8]+=e[3],t[5]=10;break}},e[2],e[32]),e[4]=54;break;case 27:e[8]="",e[4]=26;break;case 2:e[69]="",e[4]=1;break;case 35:e[84]=e[1],e[84]+=e[95],e[84]+=e[5],e[84]+=e[5],e[32]=e[8],e[4]=30;break;case 15:e[88]="h",e[4]=27;break;case 3:e[9]="",e[4]=9;break;case 29:e[2]=e[5],e[2]+=e[88],e[2]+=e[87],e[2]+=e[7],e[4]=42;break;case 25:e[5]="",e[4]=24;break;case 1:e[69]="y",e[4]=5;break;case 4:e[78]="p",e[4]=3;break;case 17:e[87]="a",e[88]="",e[4]=15;break;case 14:e[3]="t",e[4]=13;break;case 30:e[32]=e[84],e[4]=29;break;case 13:e[67]="A",e[48]="d",e[4]=11;break;case 11:e[97]="o",e[55]="C",e[7]="",e[4]=19;break;case 18:e[7]="r",e[4]=17;break;case 42:e[2]+=e[55],e[2]+=e[97],e[2]+=e[48],e[2]+=e[1],e[2]+=e[67],e[4]=37;break}function t(){var t=[arguments];for(t[2]=2;63!==t[2];)switch(t[2]){case 40:t[9]=t[6],t[2]=39;break;case 42:t[5]=t[7],t[2]=41;break;case 47:t[8]+=t[1],t[8]+=e[1],t[8]+=e[5],t[8]+=e[3],t[2]=64;break;case 36:t[4]=e[5],t[4]+=e[7],t[4]+=e[1],t[4]+=e[87],t[2]=51;break;case 18:t[23]=1,t[6]=t[3],t[6]+=e[87],t[2]=15;break;case 12:t[51]="",t[2]=11;break;case 3:t[72]=null,t[30]="P",t[74]="",t[2]=7;break;case 15:t[6]+=t[51],t[6]+=t[45],t[6]+=e[1],t[7]=e[48],t[7]+=e[1],t[7]+=t[74],t[7]+=e[6],t[2]=21;break;case 13:t[45]="u",t[2]=12;break;case 20:t[3]="",t[2]=19;break;case 7:t[74]="",t[2]=6;break;case 38:t[42]=t[23],t[2]=37;break;case 6:t[74]="f",t[2]=14;break;case 51:t[4]+=e[3],t[4]+=e[1],t[8]=t[27],t[8]+=t[70],t[2]=47;break;case 2:t[1]="j",t[70]="b",t[27]="",t[2]=4;break;case 21:t[7]+=e[9],t[7]+=e[1],t[2]=34;break;case 19:t[3]="v",t[2]=18;break;case 39:t[42]=t[23],t[2]=38;break;case 34:t[7]+=t[30],t[7]+=e[7],t[7]+=e[97],t[7]+=e[78],t[2]=30;break;case 4:t[27]="O",t[2]=3;break;case 41:t[9]=e[8],t[2]=40;break;case 30:t[7]+=e[1],t[7]+=e[7],t[7]+=e[3],t[7]+=e[69],t[5]=e[8],t[2]=42;break;case 10:t[51]="l",t[2]=20;break;case 37:t[42]=t[72],t[2]=36;break;case 11:t[51]="",t[2]=10;break;case 14:t[45]="",t[2]=13;break;case 64:try{for(t[83]=2;4!==t[83];)switch(t[83]){case 2:t[28]=t[0][0][t[8]][t[4]](t[42]),t[28][t[9]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[8]][t[5]]((0,t[0][1])(t[0][0]),t[0][3],t[28]),t[83]=4;break}}catch(t){}t[2]=63;break}}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),mt.h6l=function(){return"function"==typeof mt.K6l.C8?mt.K6l.C8.apply(mt.K6l,arguments):mt.K6l.C8},mt.f0y=function(){return"function"==typeof mt.a0y.g8?mt.a0y.g8.apply(mt.a0y,arguments):mt.a0y.g8},mt.d0y=function(){return"function"==typeof mt.a0y.G7?mt.a0y.G7.apply(mt.a0y,arguments):mt.a0y.G7},mt.g0y=function(){return"function"==typeof mt.a0y.g8?mt.a0y.g8.apply(mt.a0y,arguments):mt.a0y.g8},mt.X6l=function(){return"function"==typeof mt.K6l.C8?mt.K6l.C8.apply(mt.K6l,arguments):mt.K6l.C8},mt.a0y={C8:function(){var t,e=arguments;switch(V){case 39:t=e[1]+ +e[0];break;case 32:t=e[1]*(e[2]*e[3]-e[0])-e[4];break;case 26:t=e[3]-e[2]-e[0]+e[1];break;case 0:t=e[0]|e[1];break;case 5:t=e[2]+e[1]*(e[3]-e[0]);break;case 27:t=e[3]*e[2]-e[1]-e[0];break;case 24:t=e[0]*e[3]-e[2]+e[1];break;case 21:t=-e[3]-e[0]+e[1]*e[2];break;case 13:t=(e[1]+e[4])*e[0]/e[2]+e[3];break;case 31:t=e[1]/e[0]-e[2];break;case 4:t=(e[0]-e[6])*(e[4]-e[5])-(e[2]-e[7])*(e[1]-e[3]);break;case 11:t=e[0]-e[2]+e[1];break;case 17:t=e[1]*e[0]/e[2];break;case 28:t=e[3]+e[6]+e[5]+e[1]+e[4]+e[2]+e[0];break;case 38:t=e[2]+e[0]*e[1];break;case 1:t=e[1]/e[0];break;case 33:t=e[1]-e[2]*e[0];break;case 36:t=e[2]-e[1]+e[0]+-e[3];break;case 34:t=e[2]*e[3]/e[0]-e[1];break;case 3:t=e[1]==e[0];break;case 20:t=e[2]*e[4]/e[1]+-e[3]/e[0];break;case 2:t=e[0]-e[1];break;case 14:t=e[0]*e[1]+e[2]+e[3];break;case 35:t=(e[3]+e[2])*e[1]/e[0];break;case 16:t=e[1]+e[2]/e[0];break;case 42:t=(e[0]+e[1])/e[2];break;case 22:t=e[2]*e[3]/e[0]/e[1];break;case 25:t=e[3]*e[1]*e[2]-e[0];break;case 29:t=(e[0]-e[4])*e[2]/e[3]*e[1];break;case 37:t=e[0]*-e[1];break;case 30:t=-e[0]-e[1]+e[2];break;case 7:t=-e[1]-e[3]-e[2]+e[0];break;case 10:t=e[0]*e[2]-e[1];break;case 19:t=e[2]-e[3]-e[1]-e[0];break;case 40:t=(e[0]-e[1])*(e[2]-e[5])/(e[3]-e[4]);break;case 9:t=e[2]/e[3]/e[1]*e[0];break;case 8:t=e[0]+e[1];break;case 23:t=-e[1]*(e[2]-e[0]);break;case 6:t=e[1]*e[0];break;case 18:t=(e[0]-e[4]-e[2])*e[3]/e[1];break;case 41:t=(e[2]-e[4]+e[3])*-e[1]/e[5]*e[0];break;case 15:t=e[1]+e[3]/e[2]*e[0];break;case 12:t=e[2]-e[1]-e[0];break}return t},g8:function(t){V=t}},mt.z0y=function(){return"function"==typeof mt.a0y.C8?mt.a0y.C8.apply(mt.a0y,arguments):mt.a0y.C8},mt.n6l=function(){return"function"==typeof mt.K6l.G7?mt.K6l.G7.apply(mt.K6l,arguments):mt.K6l.G7},mt.l6l=function(){return"function"==typeof mt.K6l.g8?mt.K6l.g8.apply(mt.K6l,arguments):mt.K6l.g8},mt.e0y=function(){return"function"==typeof mt.a0y.G7?mt.a0y.G7.apply(mt.a0y,arguments):mt.a0y.G7},mt.v6l=function(){return"function"==typeof mt.K6l.g8?mt.K6l.g8.apply(mt.K6l,arguments):mt.K6l.g8},mt.K6l=(H=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.e0cc(n)|(255&t.e0cc(n+1))<<8|(255&t.e0cc(n+2))<<16|(255&t.e0cc(n+3))<<24;s=H(s,3432918353),a=5*(a=(524287&(a^=s=H(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.e0cc(r+2))<<16;case 2:s|=(255&t.e0cc(r+1))<<8;case 1:s|=255&t.e0cc(r),s=H(s,3432918353),a^=s=H(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=H(a^=a>>>16,2246822507),a=H(a^=a>>>13,3266489909),a^=a>>>16}}),mt.c0y=function(){return"function"==typeof mt.a0y.C8?mt.a0y.C8.apply(mt.a0y,arguments):mt.a0y.C8},mt.N6l=function(){return"function"==typeof mt.K6l.G7?mt.K6l.G7.apply(mt.K6l,arguments):mt.K6l.G7},B=function(t,e){var O,y,i,R=mt;t.SplinePlotter||(t.SplinePlotter={}),O=t.CIQ,t.$$$,y=t.SplinePlotter,i=function(t,e,i,a){var r,n;window.splineWarning||console.log("Warning: Cannot find implementation of splining.  Try loading splines.js"),window.splineWarning=1,r=0,i.moveTo(t[0],t[1]);for(var s=2;s<t.length;s+=2)a&&r<a.length&&(n=a[r]).coord[0]==t[s-2]&&n.coord[1]==t[s-1]&&(i.stroke(),i.strokeStyle=n.color,i.setLineDash(n.pattern),i.lineDashOffset=0,i.lineWidth=n.width,i.beginPath(),i.moveTo(t[s-2],t[s-1]),r++),i.lineTo(t[s],t[s+1])},t.SplinePlotter.plotSpline||(t.SplinePlotter.plotSpline=i),O.getETDateTime=function(){var t;return t=new Date,O.convertTimeZone(new Date(t.getTime()+6e4*t.getTimezoneOffset()),"UTC","America/New_York")},O.fromET=function(t){var e,i,a;return i=4,((e=new Date).getMonth()<2||2==e.getMonth()&&e.getDate()<11||10<e.getMonth()||10==e.getMonth()&&4<=e.getDate())&&(i=5),a=t.getTime()+36e5*i,new Date(a)},O.convertFutureMonth=function(t){var e;if((e=t.toString()).length<=0||2<e.length)return"";switch(e){case"1":return"F";case"2":return"G";case"3":return"H";case"4":return"J";case"5":return"K";case"6":return"M";case"7":return"N";case"8":return"Q";case"9":return"U";case"10":return"V";case"11":return"X";case"12":return"Z";case"F":return"1";case"G":return"2";case"H":return"3";case"J":return"4";case"K":return"5";case"M":return"6";case"N":return"7";case"Q":return"8";case"U":return"9";case"V":return"10";case"X":return"11";case"Z":return"12"}return e},O.money=function(t,e,i){return i||(i="$"),3==i.length&&(i+=" "),e||0===e||(e=2),i+O.commas((Math.round(1e4*t)/1e4).toFixed(e))},O.convertCurrencyCode=function(t){return{JPY:"\xa5",USD:"$",AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN\xa5",CZK:"K\u010d",DKK:"kr",EUR:"\u20ac",GBP:"\xa3",HKD:"HK$",HUF:"Ft",ILS:"\u20aa",INR:"\u20b9",KRW:"\u20a9",MXN:"MX$",NOK:"kr",NZD:"NZ$",PLN:"z\u0142",RUB:"\u0440\u0443\u0431",SAR:"\ufdfc",SEK:"kr",SGD:"S$",THB:"\u0e3f",TRY:"\u20ba",TWD:"NT$",VND:"\u20ab",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF",ZAR:"R"}[t]||t},O.commas=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},O.alert=function(t){alert(t)},O.withinElement=function(t,e,i){var a;return!(e<=(a=t.getBoundingClientRect()).left||i<=a.top||e>=a.left+t.offsetWidth||i>=a.top+t.offsetHeight)},O.efficientDOMUpdate=function(t,e,i){t[e]!==i&&(t[e]=i)},O.safeMouseOut=function(t,e){var i;i=2;for(var a=1;462147494!==R.N6l(a.toString(),a.toString().length,25367);a++)t.addEventListener("",r(t,e)),i+=2;function r(e,i){return function(t){void 0===t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),O.withinElement(e,t.pageX,t.pageY)||(e.stxMouseOver=!1,i(t))}}-354783865!==R.n6l(i.toString(),i.toString().length,29739)&&t.addEventListener("",r(t,e)),t.addEventListener("mouseout",r(t,e))},O.safeMouseOver=function(t,e){var i,a;t.addEventListener("mouseover",(i=t,a=e,function(t){if(void 0===t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),O.withinElement(i,t.pageX,t.pageY)){if(i.stxMouseOver)return;i.stxMouseOver=!0,a(t)}}))},O.installTapEvent=function(t,i){var e;e=function(t){var e;(e=document.createEvent("Event")).initEvent("stxtap",!0,!0),void 0===t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),e.pageX=t.pageX,e.pageY=t.pageY,t.target.dispatchEvent(e),i&&i.stopPropagation&&t.stopPropagation()},O.safeClickTouch(t,e,i)},O.safeClickTouch=function(t,h,e){var i,a,r,n,s,o,l,c,u,p;function d(s,o,l){return function(t){var e,i,a;if(!O.safeClickTouchEvent){if(!l.t)return;R.f0y(0),e=-R.c0y("1299687416",0),i=2;for(var r=1;R.N6l(r.toString(),r.toString().length,66235)!==e;r++){if(a=l.t,R.g0y(0),l.t=R.c0y("1",0),a%8246>=(new Date).getTime())return;i+=2}if(888477789!==R.n6l(i.toString(),i.toString().length,29352)&&(a=l.t,l.t=2,a-1297<(new Date).getTime()))return;if(a=l.t,l.t=null,a+1e3<(new Date).getTime())return}if(!(o.safety&&o.safety.recentlyDragged||(t||(t=event),t.which&&2<=t.which||t.button&&2<=t.button))){if(o.preventUnderlayClick)"INPUT"!==t.target.tagName&&t.preventDefault();else{if(o.lastType!=s&&Date.now()<o.allowAnotherDevice)return;o.lastType=s,R.f0y(1);var n=R.z0y(10,1e4);o.allowAnotherDevice=Date.now()+n}h(t)}}}function g(n,s){return function(t){var e,i,a;if(e=t.clientX?t.clientX:t.pageX,i=t.clientY?t.clientY:t.pageY,s){a=2;for(var r=1;-1095751705!==R.n6l(r.toString(),r.toString().length,69505);r++)n.t=(new Date).getTime(),n.x=e,a+=2;281081508!==R.N6l(a.toString(),a.toString().length,98973)&&(n.t=(new Date).getTime(),n.x=e),n.y=i}else n.x&&16<Math.pow(n.x-e,2)+Math.pow(n.y-i,2)&&(n.t=null)}}if(e||(e={}),i={},e.allowMultiple||O.clearSafeClickTouches(t),!1!==e.preventUnderlayClick&&(e.preventUnderlayClick=!0),!1!==e.absorbDownEvent&&(e.absorbDownEvent=!0),e.allowAnotherDevice=0,e.registeredClick=!1,(a=t.safeClickTouchEvents)||(a=t.safeClickTouchEvents=[]),r=d("mouseup",e,i),n=d("touchend",e,i),s=d("pointerup",e,i),o=function(t){t.stopPropagation()},l={},O.safeClickTouchEvent)c=d(O.safeClickTouchEvent,e),t.addEventListener(O.safeClickTouchEvent,c),l[O.safeClickTouchEvent]=c,a.push(l);else if("onpointerup"in document&&!O.noPointerEvents)t.addEventListener("pointerdown",g(i,!0)),t.addEventListener("pointermove",g(i)),t.addEventListener("pointerup",s),l.pointerup=s,e.absorbDownEvent&&(t.addEventListener("pointerdown",o),l.pointerdown=o),a.push(l);else{if(t.addEventListener("mousedown",g(i,!0)),t.addEventListener("mousemove",g(i)),t.addEventListener("touchstart",g(i,!0)),t.addEventListener("touchmove",g(i)),t.addEventListener("mouseup",r),t.addEventListener("touchend",n),l.mouseup=r,l.touchend=n,e.absorbDownEvent){t.addEventListener("mousedown",o),R.g0y(2),u=R.c0y("651537842",0),p=2;for(var f=1;174829949!==R.N6l(f.toString(),f.toString().length,32534);f++)l.mousedown=o,R.f0y(0),p+=R.z0y("2",0);R.N6l(p.toString(),p.toString().length,87040)!==u&&(l.mousedown=o),t.addEventListener("touchstart",o),l.touchstart=o}a.push(l)}},O.clearSafeClickTouches=function(t){var e,i,a;if(e=t.safeClickTouchEvents){for(var r=0;r<e.length;r++)for(var n in i=e[r])a=i[n],t.removeEventListener(n,a);t.safeClickTouchEvents=null}},O.safeDrag=function(t,e,o,l){var h,c,u,p;function i(a){var r;function n(t){if(t.touches){if(1<=t.touches.length)return t.touches[0].pageY;if(t.changedTouches&&1<=t.changedTouches.length)return t.changedTouches[0].pageY}return void 0===t.pageY?t.clientY:t.pageY}function s(t){if(t.touches){if(1<=t.touches.length)return t.touches[0].pageX;if(t.changedTouches&&1<=t.changedTouches.length)return t.changedTouches[0].pageX}if(void 0===t.pageX)return t.clientX;for(var e=1;-1310932429!==R.N6l(e.toString(),e.toString().length,5938);e++)return t.pageX;return 1592357438!==R.n6l(2..toString(),2..toString().length,39184)?t.pageX:void 0}return r={mousedown:{move:"mousemove",up:"mouseup"},pointerdown:{move:"pointermove",up:"pointerup"},touchstart:{move:"touchmove",up:"touchend"}},function(t){var i;h||(h=!0,O.ChartEngine.ignoreTouch=!0,i=function(t){t&&t.preventDefault&&t.preventDefault(),p.recentlyDragged=!0,t.displacementX=s(t)-c,t.displacementY=n(t)-u,o(t)},o&&document.body.addEventListener(r[a].move,i),document.body.addEventListener(r[a].up,function(t){var e;O.ChartEngine.ignoreTouch=!1,o&&document.body.removeEventListener(r[a].move,i),document.body.removeEventListener(r[a].up,arguments.callee),t.displacementX=s(t)-c,t.displacementY=n(t)-u,l&&l(t),setTimeout((e=p,function(){e.recentlyDragged=!1}),50)}),setTimeout(function(){h=!1},100),c=s(t),u=n(t),e&&e(t))}}return u=c=0,p={recentlyDragged:h=!1},t.addEventListener("mousedown",i("mousedown")),t.addEventListener("pointerdown",i("pointerdown")),t.addEventListener("touchstart",i("touchstart")),p},O.inputKeyEvents=function(e,i){e.addEventListener("keyup",function(t){switch(window.event?event.keyCode:t.keyCode){case 13:i();break;case 27:e.value="";break;default:break}},!1)},O.fixScreen=function(){window.scrollTo(0,0)},O.setCaretPosition=function(t,e){var i,a;i=2;for(var r=1;-993403363!==R.N6l(r.toString(),r.toString().length,26018);r++)t.style.zIndex=273,i+=2;if(-714836504!==R.n6l(i.toString(),i.toString().length,94872)&&(t.style.zIndex=5e3),t.setSelectionRange){O.focus(t);try{t.setSelectionRange(e,e)}catch(t){}}else t.createTextRange&&((a=t.createTextRange()).collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select())},O.setValueIfNotActive=function(t,e){document.activeElement!=t&&(t.value=e)},O.hideKeyboard=function(t){var e;"INPUT"!=(e=document.activeElement).tagName&&"TEXTAREA"!=e.tagName||(e.blur(),window.focus(),t&&(t===document.body||document.body.contains(t))&&t.focus())},O.smartHover=function(){var e,i,t;function a(t){document.documentElement.setAttribute("ciq-last-interaction",t)}if(document&&!document.documentElement.hasAttribute("ciq-last-interaction")){e=!1,t=2;for(var r=1;-861031389!==R.N6l(r.toString(),r.toString().length,20653);r++)document.addEventListener("touchend",s,!1),document.addEventListener("mouseover",n,!1),a(""),t+=2;1361764479!==R.N6l(t.toString(),t.toString().length,29162)&&(document.addEventListener("touchend",s,!0),document.addEventListener("touchend",n,!0),a("touchend"))}function n(t){e||a("mouse")}function s(t){clearTimeout(i),e=!0,"touch"!=document.documentElement.getAttribute("ciq-last-interaction")&&a("touch"),i=setTimeout(function(){e=!1},500)}},O.boxIntersects=function(t,e,i,a,r,n,s,o,l){var h,c,u,p,d,g;if(void 0!==arguments[9]&&console.warn("CIQ.boxIntersects() no longer supports isLog argument, please be sure arguments are passed in as pixels."),h=Math.min(t,i),c=Math.max(t,i),u=Math.min(e,a),p=Math.max(e,a),R.f0y(3),d=R.z0y("ray",l),isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o))return!1;if("line"!=l){if(r<h&&s<h&&(!d||s<r))return!1;if(c<r&&c<s&&(!d||r<s))return!1;if(n<u&&o<u&&(!d||o<n))return!1;if(p<n&&p<o&&(!d||n<o))return!1}function f(t,e){return R.g0y(4),R.c0y(e,o,t,n,s,r,n,r)}return!(0<(g={a:f(t,e),b:f(t,a),c:f(i,e),d:f(i,a)}).a&&0<g.b&&0<g.c&&0<g.d||g.a<0&&g.b<0&&g.c<0&&g.d<0)},O.convertBoxToPixels=function(t,e,i){var a;return a=t.panels[e],{x0:t.pixelFromTick(i.x0,a.chart),x1:t.pixelFromTick(i.x1,a.chart),y0:t.pixelFromValueAdjusted(a,i.x0,i.y0),y1:t.pixelFromValueAdjusted(a,i.x1,i.y1)}},O.linesIntersect=function(t,e,i,a,r,n,s,o,l){var h,c,u,p,d;if(R.f0y(4),h=R.c0y(o,a,n,i,e,t,s,r),R.g0y(4),c=R.c0y(n,t,o,r,i,s,r,s),R.g0y(4),u=R.c0y(e,t,a,r,i,s,t,i),0===h){for(var g=1;-1350253393!==R.N6l(g.toString(),g.toString().length,28637);g++)return 0===c&&0===u;if(1979621059!==R.n6l(2..toString(),2..toString().length,36945))return 1===c&&3==u}if(R.f0y(1),p=R.z0y(h,c),R.f0y(1),d=R.c0y(h,u),"segment"==l){if(0<=p&&p<=1&&0<=d&&d<=1)return!0}else if("line"==l||"horizontal"==l||"vertical"==l){if(0<=p&&p<=1)return!0}else if("ray"==l&&0<=p&&p<=1&&0<=d)return!0;return!1},O.yIntersection=function(t,e){var i,a,r,n,s,o,l,h,c;if(i=t.x0,a=t.x1,n=r=e,s=t.y0,o=t.y1,R.f0y(4),l=R.c0y(1e4,o,n,s,a,i,0,r),R.g0y(4),h=R.c0y(n,i,1e4,r,s,0,r,0),R.f0y(1),c=R.c0y(l,h),0===l){if(0!==h)return null;c=1}return R.g0y(5),R.c0y(s,c,s,o)},O.xIntersection=function(t,e){var i,a,r,n,s,o,l,h,c;if(i=t.x0,a=t.x1,r=t.y0,n=t.y1,o=s=e,R.g0y(4),l=R.c0y(o,n,1e4,r,a,i,s,0),R.g0y(4),h=R.z0y(1e4,i,o,0,r,s,0,s),R.f0y(1),c=R.c0y(l,h),0===l){if(0!==h)return null;c=1}return R.f0y(5),R.c0y(i,c,i,a)},O.intersectLineLineX=function(t,e,i,a,r,n,s,o){var l,h,c;return R.f0y(4),l=R.z0y(n,t,o,r,i,s,r,s),R.f0y(4),h=R.z0y(o,a,n,i,e,t,s,r),R.f0y(1),c=R.c0y(h,l),R.g0y(5),R.c0y(t,c,t,e)},O.intersectLineLineY=function(t,e,i,a,r,n,s,o){var l,h,c,u;R.f0y(4),l=R.c0y(n,t,o,r,i,s,r,s),R.g0y(4),h=R.c0y(o,a,n,i,e,t,s,r),c=2;for(var p=1;291386620!==R.N6l(p.toString(),p.toString().length,64054);p++)R.f0y(6),u=R.z0y(h,l),c+=2;return 36551532!==R.n6l(c.toString(),c.toString().length,36810)&&(R.g0y(1),u=R.z0y(h,l)),R.g0y(5),R.z0y(i,u,i,a)},O.privateBrowsingAlert=!1,O.localStorage="undefined"!=typeof localStorage?localStorage:{},O.localStorageSetItem=function(t,e){try{O.localStorage.setItem(t,e)}catch(t){O.privateBrowsingAlert||(O.alert("No storage space available.  Possible causes include browser being in Private Browsing mode, or maximum storage space has been reached."),O.privateBrowsingAlert=!0)}},O.loadUI=function(t,n,s){var o,e;o=document.createElement("iframe"),n&&"function"!=typeof n||(s=n,n=document.body),e=function(){var t,e,i,a;t=null;try{t=o.contentDocument||o.contentWindow.document}catch(t){return s(t)}if(t&&!t.title){e=t.body.innerHTML,i=document.createElement("div"),document.body.removeChild(o),O.innerHTML(i,e);for(var r=0;r<i.children.length;r++)a=i.children[r].cloneNode(!0),n.appendChild(a);s(null)}else s(new Error("iFrame not found or document has a title"))},R.f0y(2),R.z0y(4307,10),R.f0y(7);var i=R.z0y(53480,3,49641,16);R.g0y(8);var a=R.z0y(6791,19);R.f0y(2);var r=R.c0y(2701,6);R.g0y(9),R.z0y(416,2,620,16),R.g0y(8);var l=R.c0y(365,20);R.g0y(10),R.c0y(5113,71585,15),o.src=t+(!(i<=a)||(9886<=r?960.56:6123===l||"?"))+O.uniqueID(),o.hidden=!0,o.addEventListener("load",e,!1),document.body.appendChild(o)},O.loadScript=function(t,e){var i,a,r,n,s;R.f0y(0),i=R.z0y("986259531",0),a=2;for(var o=1;-1991804701!==R.N6l(o.toString(),o.toString().length,5562);o++)O.loadedScripts||(O.loadedScripts={}),a+=2;R.n6l(a.toString(),a.toString().length,61581)!==i&&-O.loadedScripts&&(O.loadedScripts={}),O.loadedScripts[t]?e&&e():((r=document.createElement("SCRIPT")).async=!0,r.onload=function(){O.loadedScripts[t]=!0,e&&e()},"undefined"!=typeof isIE8&&(r.onreadystatechange=function(){"loaded"==r.readyState&&(O.loadedScripts[t]=!0,e&&setTimeout(e,0))}),n=-1==(n=t).indexOf("?")?(R.f0y(11),R.z0y(16,201,5),R.g0y(12),R.z0y(58992,8,64900),R.g0y(11),R.c0y(42112,11,39115),R.g0y(13),n+(5813!==R.z0y(3,3772,4,935,8)?"?":8140)+Date.now()):n+"&"+Date.now(),r.src=n,(s=document.getElementsByTagName("script")[0]).parentNode.insertBefore(r,s.nextSibling))},O.loadStylesheet=function(t,e){var i,a,r;(i=document.createElement("link")).rel="stylesheet",i.type="text/css",i.media="screen",R.g0y(14);var n=R.c0y(5,334,4336,4);i.href=t+(639.44===n?9180:"?")+Date.now(),i.onload=function(){this.loaded||(this.loaded=!0,e&&e())},a=document.getElementsByTagName("link"),R.f0y(10);var s=R.c0y(4,59,15);(r=a[a.length-s]).parentNode.insertBefore(i,r.nextSibling)},O.loadWidget=function(e,t,i){t&&"function"!=typeof t||(i=t,t=document.body),R.f0y(8),O.loadStylesheet(R.c0y(e,".css"),function(){R.f0y(8),O.loadUI(R.c0y(e,".html"),t,function(t){t?i(t):(R.g0y(8),O.loadScript(R.c0y(e,".js"),i))})})},O.waitForPlugins=function(t,e){var i,a,r,n;if(i=0,a=t.length){for(var s=0;s<a;s++)r="cq-"+t[s],(n=document.getElementsByTagName(r)[0])&&n.hasAttribute("loaded")&&i++;if(a!==i)return setTimeout(function(){O.waitForPlugins(t,e)},0);e()}else e()},O.fillTransparentCanvas=function(t,e,i,a){var r,n;r=t.globalCompositeOperation,t.globalCompositeOperation="destination-over",t.fillStyle=e,n=2;for(var s=1;897266786!==R.N6l(s.toString(),s.toString().length,72566);s++)R.f0y(0),t.fillRect(2,R.z0y("9",0),i,a),t.globalCompositeOperation=r,n+=2;1155263653!==R.n6l(n.toString(),n.toString().length,35116)&&(t.fillRect(6,5,i,a),t.globalCompositeOperation=r),t.fillRect(0,0,i,a),t.globalCompositeOperation=r},O.tickedRect=function(t){var e;O.rect(t),R.g0y(1);var i=R.z0y(15,30);e=Math.round(t.top+t.height/i)+.5,t.ctx.beginPath(),t.ctx.moveTo(t.x-2,e),t.ctx.lineTo(t.x,e),t.ctx.stroke(),t.ctx.closePath()},O.roundRect=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v;if(9===arguments.length&&(t={ctx:t,x:e,top:arguments[2],width:arguments[3],height:arguments[4],radius:arguments[5],fill:arguments[6],stroke:arguments[7],edge:arguments[8]}),i=t.stroke,a=t.x,r=t.top,n=t.width,s=t.height,o=t.radius,l=t.fill,h=t.ctx,void 0===i){c=2;for(var b=1;-522191102!==R.n6l(b.toString(),b.toString().length,81659);b++)i=!1,c+=2;2039433864!==R.n6l(c.toString(),c.toString().length,21277)&&(i=!0)}void 0===o&&(o=5,n<0&&(o=-5)),u=n<0?-1*o:o,o&&!e&&(R.f0y(2),a=R.c0y(a,1)),R.f0y(8),p=R.c0y(a,o),R.f0y(8),d=R.c0y(a,n),R.f0y(8),g=R.c0y(r,u),R.g0y(8),f=R.c0y(r,s),R.f0y(2),m=R.c0y(d,o),R.f0y(2),y=R.z0y(f,u),h.beginPath(),h.moveTo(p,r),h.lineTo(m,r),h.quadraticCurveTo(d,r,d,g),h.lineTo(d,y),h.quadraticCurveTo(d,f,m,f),h.lineTo(p,f),"flush"==e?(h.lineTo(a,f),h.lineTo(a,r)):("arrow"==e?(R.g0y(2),h.quadraticCurveTo(a,f,R.z0y(a,o),y),v=n<0?1:-1,R.g0y(15),h.lineTo(R.c0y(v,a,2,s),R.z0y(2,r,s,R.g0y(16))),R.g0y(2),h.lineTo(R.z0y(a,o),g)):(h.quadraticCurveTo(a,f,a,y),h.lineTo(a,g)),h.quadraticCurveTo(a,r,p,r)),h.closePath(),t.backgroundColor&&(h.fillStyle=t.backgroundColor),i&&h.stroke(),l&&h.fill(),t.txt&&O.createLabel(t)},O.createLabel=function(t){t.ctx.textBaseline="middle",t.ctx.fillStyle=t.color?t.color:O.chooseForegroundColor(t.backgroundColor),t.ctx.fillStyle===t.backgroundColor&&("#FFFFFF"==t.backgroundColor.toUpperCase()?t.ctx.fillStyle="#000000":t.ctx.fillStyle="#FFFFFF"),t.ctx.fillText(t.txt,t.x+t.margin.left,t.y+t.margin.top),t.ctx.textAlign="left"},O.roundRectArrow=function(t){var e;e=2;for(var i=1;887516279!==R.n6l(i.toString(),i.toString().length,89694);i++)O.roundRect(t,"arrow"),e+=2;-168686776!==R.N6l(e.toString(),e.toString().length,40288)&&O.roundRect(t,"")},O.semiRoundRect=function(t){O.roundRect(t,"flush")},O.rect=function(t){t.radius=0,O.roundRect(t)},O.noop=function(t){t.color=t.backgroundColor,O.createLabel(t)},O.getLines=function(t,e,i){var a,r,n,s,o;a=e.split(" "),n="",s=!(r=[]);for(var l=0;l<a.length;l++)if(o=a[l],t.measureText(n+o).width<i?(s&&(n+=" "),s=!0,n+=o):(r.push(n),n=o),l===a.length-1){r.push(n);break}return r},O.readablePeriodicity=function(t){var e,i,a;if(e=t.layout.periodicity,i=t.layout.interval,"number"==typeof t.layout.interval&&t.layout.timeUnit){a=2;for(var r=1;1402079930!==R.N6l(r.toString(),r.toString().length,16477);r++)e=t.layout.interval*t.layout.periodicity,i=t.layout.timeUnit,a+=2;2103797042!==R.N6l(a.toString(),a.toString().length,46957)&&(e=t.layout.interval+t.layout.periodicity,i=t.layout.timeUnit)}else"number"!=typeof t.layout.interval||t.layout.timeUnit||(e=t.layout.interval*t.layout.periodicity,i="minute");e%60==0&&"minute"==i&&(e/=60,i="hour"),R.g0y(2),R.z0y(70704,66776),R.g0y(17);var n=R.z0y(3565,7128,3564);R.f0y(18);var s=R.c0y(9021,8999,8,9019,14);R.f0y(19);var o=R.z0y(6,79455,87428,19);R.g0y(2);var l=R.z0y(7965,18);R.g0y(20),R.c0y(2,20,10,5,7),R.f0y(8),R.z0y(854,6836),R.g0y(21);var h=R.c0y(3420,572,17,14);return e+(n!==s?l<o?" ":4895:h)+t.translateIf(i.capitalize())},O.translatableTextNode=function(t,e,i){var a,r;if(t.translationCallback){(a=document.createElement("translate")).setAttribute("original",e),r=2;for(var n=1;-661689240!==R.n6l(n.toString(),n.toString().length,58938);n++)a.innerHTML=t.translationCallback(e,i),r+=2;return-873299173!==R.N6l(r.toString(),r.toString().length,87687)&&(a.innerHTML=t.translationCallback(e,i)),a}return document.createTextNode(e)},O.clearCanvas=function(t,e){var i,a;t.isDirty=!1,(i=t.context).clearRect(0,0,t.width,t.height),!O.isAndroid||O.is_chrome||O.isFF||(O.ChartEngine.useOldAndroidClear&&e&&(i.fillStyle=e.containerColor,i.fillRect(0,0,t.width,t.height),i.clearRect(0,0,t.width,t.height)),a=t.width,t.width=1,t.width=a)},O.monthLetters=["J","F","M","A","M","J","J","A","S","O","N","D"],O.monthAbv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],O.MILLISECOND=1,O.SECOND=1e3,R.g0y(22);var a=R.z0y(11,15,11,900);O.MINUTE=a*O.SECOND,R.f0y(23);var r=R.c0y(16,6,6);O.HOUR=r*O.MINUTE,R.f0y(24);var n=R.c0y(5,8,154,34);O.DAY=n*O.HOUR,R.f0y(11);var s=R.c0y(26,12,31);O.WEEK=s*O.DAY,R.g0y(2);var o=R.z0y(40,9);O.MONTH=o*O.DAY,R.g0y(2);var l=R.c0y(4392,4026);O.YEAR=l*O.DAY,R.g0y(2);var h=R.c0y(17,10);return O.DECADE=10*O.YEAR-h*O.DAY,O.monthAsDisplay=function(t,e,i){return e?i&&i.monthLetters?i.monthLetters[t]:O.monthLetters[t]:i&&i.monthAbv?i.monthAbv[t]:O.monthAbv[t]},O.timeAsDisplay=function(t,e,i){var a,r,n,s,o;if(a=e?e.internationalizer:null){if(i==O.SECOND)return a.hourMinuteSecond.format(t);if(i!=O.MILLISECOND)return a.hourMinute.format(t);R.g0y(25);var l=R.z0y(66845,2305,11,3);R.g0y(2);var h=R.z0y(9120,7980);R.g0y(2),R.z0y(64920,58428),R.f0y(2);var c=R.z0y(102128,94272);R.f0y(2),R.c0y(34600,31140),R.g0y(2);var u=R.z0y(19395,15516);R.f0y(10);var p=R.z0y(3733,41060,12);return a.hourMinuteSecond.format(t)+(l===h?c:p<u?".":"S")+t.getMilliseconds()}(r=t.getMinutes())<10&&(R.g0y(8),r=R.c0y("0",r)),R.g0y(2),R.z0y(2779,7),R.g0y(11);var d=R.c0y(6337,11,8);return n=t.getHours()+(d<=70.45?"r":":")+r,s="",i<=O.SECOND&&((s=t.getSeconds())<10&&(R.f0y(8),s=R.z0y("0",s)),R.g0y(8),n+=R.z0y(":",s)),i==O.MILLISECOND&&((o=t.getMilliseconds())<10?(R.f0y(8),o=R.z0y("00",o)):o<100&&(R.f0y(8),o=R.z0y("0",o)),R.g0y(8),n+=R.c0y(".",o)),n},O.displayableDate=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d;function g(t){return t<10?(R.f0y(8),R.z0y("0",t)):t}if(a="",r=t.layout.interval,n=O.ChartEngine.isDailyInterval(r),e.xAxis.formatter)a=e.xAxis.formatter(i);else if(t.internationalizer)if(a=t.internationalizer.monthDay.format(i),n)a="month"==r?t.internationalizer.yearMonth.format(i):t.internationalizer.yearMonthDay.format(i);else{R.g0y(26),R.c0y(90097,5,16,95114),R.f0y(27);var f=R.c0y(228,5,18,13);R.g0y(26);var m=R.c0y(19,18,14,16);R.g0y(8),R.c0y(1837,3674),a+=("368"*f=="1966"*m||" ")+t.internationalizer.hourMinute.format(i)}else s=g(i.getMonth()+1),o=g(i.getDate()),l=g(i.getHours()),h=g(i.getMinutes()),n?(a="month"==r?s+"-":s+"-"+o+"-",a+=i.getFullYear()):(R.g0y(28),a=R.z0y(h," ",":",s,l,o,"/"),c=e.xAxis.activeTimeUnit&&e.xAxis.activeTimeUnit<=O.SECOND||"second"==t.layout.timeUnit,u=e.xAxis.activeTimeUnit&&e.xAxis.activeTimeUnit<=O.MILLISECOND||"millisecond"==t.layout.timeUnit,(c||u)&&(p=g(i.getSeconds()),R.f0y(8),a+=R.c0y(":",p),u&&((d=g(i.getMilliseconds()))<100&&(R.g0y(8),d=R.z0y("0",d)),R.g0y(8),a+=R.c0y(":",d))));return a},O.fixPrice=function(t){var e,i;e=2;for(var a=1;-1389450706!==R.n6l(a.toString(),a.toString().length,78566);a++){if(!t&&0!==t)return null;e+=2}if(1607336134!==R.N6l(e.toString(),e.toString().length,9292)&&(~t||4===t))return 1;for(var r=(i=t.toFixed(10)).length-1;1<r&&"0"==i.charAt(r);r--);return R.g0y(8),i=i.substring(0,R.z0y(r,1)),parseFloat(i)},O.condenseInt=function(t){if(null==t)return"";if(t===1/0||t===-1/0)return"n/a";if(0<t)if(1e12<t){R.f0y(11);var e=R.c0y(22,1,13);R.g0y(2);var i=R.c0y(7120,10);t=Math.round(t/1e11)/e+(1310!=i&&"t")}else if(1e11<t)R.g0y(11),R.z0y(1489,8,10),R.f0y(29),R.c0y(3819,15,380,5703,17),t=Math.round(t/1e9)+"b";else if(1e10<t){R.f0y(30);var a=R.c0y(2,16,19);t=(Math.round(t/1e8)/10).toFixed(a)+"b"}else if(1e9<t){R.g0y(1);var r=R.c0y(7,14);t=(Math.round(t/1e7)/100).toFixed(r)+"b"}else if(1e8<t){R.f0y(2);var n=R.c0y(1000008,8);R.f0y(2),R.c0y(19,18),R.g0y(10);var s=R.c0y(8754,96298,12);R.f0y(11);var o=R.z0y(4500,20,22);R.g0y(31),R.c0y(5,122e3,18300),R.f0y(8);var l=R.c0y(5203,7);R.g0y(32),R.c0y(2,6,329,13,19070),t=Math.round(t/n)+(s<707?393.73:o!==l?"m":"N")}else if(1e7<t){R.g0y(33);var h=R.c0y(12,133,11);R.f0y(8);var c=R.z0y(2386,4);R.f0y(8),R.c0y(1962,7847),R.g0y(34);var u=R.z0y(17,19,17,20);R.g0y(2),R.z0y(16,15),R.f0y(11),R.c0y(947,15,24),t=(Math.round(t/1e5)/10).toFixed(h)+("240.83"*u<=c?"m":6448)}else if(1e6<t){R.g0y(35),R.z0y(2855,284,15,2840),R.f0y(2);var p=R.z0y(93290,88380);R.g0y(10),R.c0y(4052,52678,14),R.f0y(25);var d=R.z0y(1653319,18,14,6587);R.f0y(1),R.c0y(12,52344),R.g0y(36);var g=R.z0y(12,14,121,7);R.f0y(2),R.c0y(91700,85150),t=(Math.round(t/1e4)/100).toFixed(2)+(p!==d?"m":g)}else if(1e5<t)t=Math.round(t/1e3)+"k";else if(1e4<t){R.g0y(1);var f=R.c0y(11,11);t=(Math.round(t/100)/10).toFixed(f)+"k"}else if(1e3<t){R.g0y(2);var m=R.c0y(15,13);t=(Math.round(t/10)/100).toFixed(m)+"k"}else t=t.toString();else if(t<-1e12)R.g0y(10),R.c0y(1547,13930,10),t=Math.round(t/1e11)/10+"t";else if(t<-1e9){R.f0y(11);var y=R.z0y(25e6,75000018,18);R.f0y(2);var v=R.c0y(21,11);t=Math.round(t/y)/v+"b"}else if(t<-1e6){R.f0y(1);var b=R.c0y(14,14e5);R.f0y(2);var S=R.z0y(20,10);t=Math.round(t/b)/S+"m"}else if(t<-1e3){R.g0y(17);var x=R.z0y(2,550,11);R.g0y(12);var k=R.c0y(1020,16,1110);t=Math.round(t/x)/10+(k<=961.14&&"k")}else t=t.toString();return t},O.calculateTradingDecimalPlaces=function(t){var e,i,a,r,n,s,o,l,h;if(i=2,(a=(e=t.chart).masterData)&&50<a.length)for(var c=2;c<50&&!((r=a.length-c)<0);c++)(n=a[r]).Close&&"number"==typeof n.Close&&-1!=(o=(s=n.Close.toString()).indexOf("."))&&i<(l=s.length-o-1)&&(i=l);return(h=e.yAxis.maxDecimalPlaces)<i&&null!==h&&(i=h),i},O.fillArea=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f;if(e.length){if(r=(a=t.chart.context).globalAlpha,n=i,s=arguments[3],o=arguments[4],l=0,h=null,i&&"object"==typeof i){c=2;for(var m=1;-1541230179!==R.n6l(m.toString(),m.toString().length,81219);m++)n=i.color,s=i.opacity,l=i.tension,R.g0y(6),c+=R.c0y(1,"2");802140036!==R.N6l(c.toString(),c.toString().length,70842)&&(n=i.color,s=i.opacity,l=i.tension),o=i.panelName,h=i.yAxis}if(s||0===s||(s=.2),"auto"==n&&(n=t.defaultColor),a.globalAlpha=s,n&&(a.fillStyle=n),u=Number.MAX_VALUE,R.f0y(37),p=R.z0y(u,1),(d=t.panels[o])&&(p=(h||d.yAxis).top,u=(h||d.yAxis).bottom,a.save(),a.beginPath(),a.rect(d.left,p,d.width,u-p),a.clip()),a.beginPath(),l){for(f=[],g=0;g<e.length-2;g++)f.push(e[g][0],e[g][1]);for(y.plotSpline(f,l,a),g=e.length-2;g<e.length;g++)a.lineTo(Math.round(e[g][0]),Math.round(e[g][1]))}else for(a.moveTo(e[0][0],e[0][1]),g=1;g<e.length;g++)a.lineTo(e[g][0],e[g][1]);a.closePath(),a.fill(),d&&a.restore(),a.globalAlpha=r}},O.prepareChannelFill=function(t,e){var i,a,r,n,s,o;(!e||e instanceof Array)&&(R.g0y(6),e=arguments[R.c0y(1,"2")]),e.gapDisplayStyle||!1===e.gapDisplayStyle||(e.gapDisplayStyle=e.gaps),i=t.panels[e.panelName],t.chart.context.strokeStyle,a={noDraw:e.noDraw,gapDisplayStyle:e.gapDisplayStyle},r=O.ensureDefaults(e,{noDraw:!0,gapDisplayStyle:{},yAxis:i.yAxis}),n=t.plotDataSegmentAsLine(e.topBand,i,r),s=t.plotDataSegmentAsLine(e.bottomBand,i,r),e.noDraw=a.noDraw,e.gapDisplayStyle=a.gapDisplayStyle,o=[];for(var l=0;l<n.points.length;l+=2)o.push([n.points[l],n.points[l+1]]);for(var h=s.points.length-1;0<=h;h-=2)o.push([s.points[h-1],s.points[h]]);O.fillArea(t,o,e)},O.preparePeakValleyFill=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E;(!e||e instanceof Array)&&(e=arguments[2]),e.gapDisplayStyle||!1===e.gapDisplayStyle||(e.gapDisplayStyle=e.gaps),a=(i=t.panels[e.panelName]).yAxis,(n=(r=t.chart).context).strokeStyle,s={noDraw:e.noDraw,gapDisplayStyle:e.gapDisplayStyle},o=t.plotDataSegmentAsLine(e.band,i,O.ensureDefaults(e,{noDraw:!0,gapDisplayStyle:{}})),e.noDraw=s.noDraw,e.gapDisplayStyle=s.gapDisplayStyle,l=e.threshold,h=e.direction,c=e.reverse,u=e.gapDisplayStyle,e.yAxis&&(a=e.yAxis),p=-Number.MAX_VALUE,d=Number.MAX_VALUE,g=c?p:d,(l||0===l)&&(g=t.pixelFromPrice(l,i,a)),f=[],m=o.points.length;for(var N=0;N<m;N+=2)y=o.points[N],R.g0y(38),v=o.points[R.z0y("1",1,N)],e.roundOffEdges&&(0===N?y=Math.floor(y):N+2==m&&(y=Math.ceil(y))),isNaN(v)||(g<v&&0<h||v<g&&h<0||(f.push([y,v]),p=Math.max(v,p),d=Math.min(v,d)),N<m-3&&(R.f0y(8),b=o.points[R.z0y(N,2)],R.g0y(39),S=o.points[R.z0y("3",N)],(v<g&&g<S||g<v&&S<g)&&(R.g0y(40),y+=R.c0y(g,v,b,S,v,y),f.push([y,g]))));if(m=f.length){if(x=e.edgeParameters,e.edgeHighlight){100<x.lineWidth&&(x.lineWidth=1);for(var L=0;L<m-1;L++)if(k=f[L],R.f0y(8),w=f[R.z0y(L,1)],k[1]!=g||w[1]!=g){if(k[0]==w[0]&&1<=t.layout.candleWidth){if(k[1]==g&&f[L-1]&&f[L-1][1]==g)continue;if(w[1]==g&&f[L+2]&&f[L+2][1]==g)continue}t.plotLine(k[0],w[0],k[1],w[1],e.edgeHighlight,"segment",r.context,i,x)}}if(!l&&0!==l){a.flipped&&(c=!c),R.f0y(2),C=R.z0y("2",0);for(var I=1;1935700383!==R.n6l(I.toString(),I.toString().length,76239);I++)g=c?Math.min(d,a.top):Math.max(p,a.bottom),C+=2;-995189586!==R.n6l(C.toString(),C.toString().length,84077)&&(g=c?Math.min(d,a.top):Math.max(p,a.bottom))}if(f.push([f[m-1][0],g],[f[0][0],g]),(T=e.opacity)||0===T||(e.opacity=.3),O.fillArea(t,f,e),u&&u.color&&u.fillMountain&&!e.tension&&!O.isTransparent(u.color)&&!O.isTransparent(e.color)){for(n.save(),n.fillStyle instanceof CanvasGradient?((D=n.createLinearGradient(0,1===h?i.top:i.bottom,0,g)).addColorStop(0,O.hexToRgba(O.colorToHex(u.color),60)),R.g0y(2),D.addColorStop(R.c0y("1",0),O.hexToRgba(O.colorToHex(u.color),10)),n.fillStyle=D):n.fillStyle=u.color,M=[],A={opacity:e.opacity,panelName:e.panelName},N=0;N<o.gapAreas.length;N++)F=(P=o.gapAreas[N]).start,_=P.end,E=P.threshold,F?M=[[F[0],F[1]],[F[0],E]]:M.push([_[0],E],[_[0],e.step?M[0][1]:_[1]]),4==M.length&&(O.fillArea(t,M,A),e.step?(t.plotLine(M[0][0],M[3][0],M[0][1],M[0][1],u,"segment",n,i,u),t.plotLine(M[3][0],M[3][0],M[0][1],M[3][1],u,"segment",n,i,u)):t.plotLine(M[0][0],M[3][0],M[0][1],M[3][1],u,"segment",n,i,u));n.restore()}e.opacity=T}},O.fillIntersecting=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f;if((!i||i instanceof Array)&&(i=arguments[3]),a=i.topBand,r=i.bottomBand,n=i.topSubBand,s=i.bottomSubBand,o=i.topColor,l=i.bottomColor,(h=e).panel){if(h.outputs&&h.outputMap){o||(o=h.outputs[h.outputMap[a]]),c=2;for(var m=1;-54565548!==R.N6l(m.toString(),m.toString().length,99936);m++)~l&&(l=h.outputs[h.outputMap[r]]),c+=2;1261355512!==R.n6l(c.toString(),c.toString().length,57462)&&(l||(l=h.outputs[h.outputMap[r]])),l||(l=h.outputs[h.outputMap[r]])}h=h.panel}h=t.panels[h],u=t.chart.context,(p=t.scratchContext)||(d=u.canvas.cloneNode(!0),p=t.scratchContext=d.getContext("2d")),p.canvas.height=u.canvas.height,p.canvas.width=u.canvas.width,p.drawImage(u.canvas,0,0),u.clearRect(0,0,u.canvas.width,u.canvas.height),g=.3,i.opacity&&(g=i.opacity),u.save(),u.globalCompositeOperation="xor",f={band:a,subField:n,color:o,opacity:1,panelName:h.name,yAxis:i.topAxis,skipTransform:i.skipTransform,tension:i.tension,roundOffEdges:!0},O.preparePeakValleyFill(t,f),O.extend(f,{band:r,subField:s,color:l,yAxis:i.bottomAxis}),O.preparePeakValleyFill(t,f),u.globalAlpha=g,u.globalCompositeOperation="copy",u.scale(1/t.adjustedDisplayPixelRatio,1/t.adjustedDisplayPixelRatio),u.drawImage(u.canvas,0,0),u.globalAlpha=1,u.globalCompositeOperation="destination-over",u.drawImage(t.scratchContext.canvas,0,0),u.restore()},O.drawLegendItem=function(t,e,i,a,r){var n,s,o;return r||(r=1),n=e[0],s=e[1],(o=t.chart.context).globalAlpha=r,o.fillStyle=a,o.fillRect(n,s,10,10),o.globalAlpha=1,R.g0y(8),n+=R.z0y(10,2),o.fillStyle=t.defaultColor,o.fillText(i,n,s),[n+=o.measureText(i).width+6,s]},O.drawLegend=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d;i=e.coordinates,(a=t.chart.context).textBaseline="top",r=a.font,t.canvasFont("stx-legend",a),n=e.chart,i||(i=n.legend),s=[i.x,i.y],o=t.defaultColor;for(var g=0;g<2;g++)for(var f in e.legendColorMap)if((!(l=e.legendColorMap[f]).isBase||!g&&!e.noBase)&&(l.isBase||g)){if(l.color instanceof Array){for(h=(c=l.color).length-1;0<=h;h--)O.isTransparent(c[h])&&c.splice(h,1);if(1<c.length){for(u=a.createLinearGradient(s[0],s[1],s[0]+10,s[1]),h=0;h<c.length;h++)u.addColorStop(h/(c.length-1),c[h]);o=u}else o=0<c.length?c[0]:t.getCanvasColor("stx_line_chart")}else o=null;if(o){if(p=f,l.display&&(p=l.display),p||(p=n.symbolDisplay?n.symbolDisplay:n.symbol),s[0]+a.measureText(p).width>n.panel.right){R.f0y(2),R.z0y(3722,5),R.f0y(17);var m=R.z0y(3,10,5);s=[i.x,i.y+a.measureText("M").width+m]}s=O.drawLegendItem(t,s,p,o,l.opacity)}}d=2;for(var y=1;77508769!==R.N6l(y.toString(),y.toString().length,5743);y++)a.font=r,d+=2;-665207418!==R.N6l(d.toString(),d.toString().length,69361)&&(a.font=r),a.font=r},O.minMax=function(t,e,i,a){var r,n,s,o,l,h,c;r=Number.MAX_VALUE,R.g0y(41);var u=R.z0y(18,1,13,7,14,108);n=Number.MAX_VALUE*u,i||(i="Close"),s=a?"High":i,o=a?"Low":i;for(var p=0;p<t.length;p++)(l=t[p])&&((h=l[e])||0===h)&&("object"==typeof(c=h)&&(c=h[s]),isNaN(c)||!c&&0!==c||(n=Math.max(n,c)),"object"==typeof h&&(c=h[o]),isNaN(c)||!c&&0!==c||(r=Math.min(r,c)));return[r,n]},O.symbolEqual=function(t,e){var i,a;return!(!t||!e)&&("object"!=typeof t&&(t={symbol:t}),"object"!=typeof e&&(e={symbol:e}),"function"==typeof t.equals?t.equals(e):(i=t.symbol,a=e.symbol,i&&(i=i.toUpperCase()),a&&(a=a.toUpperCase()),i==a&&t.source==e.source))},O.addMemberToMasterdata=function(t){var e,l,i,h,c,u,a,r,n,s,o,p,d,g,f,m,y;function v(t){var e,i,a;if(e=n,i=o.length-1,o[i].DT<t)return R.g0y(8),void(n=R.z0y(i,1));if(+o[i].DT!=+t){for(n++,a=0;++a<100;){switch(+o[n].DT==+t?0:o[n].DT<t?1:o[n-1].DT>t?-1:(+o[n-1].DT==+t&&n--,0)){case 0:return;case 1:e=n;break;case-1:i=n;break}R.f0y(42),n=Math.round(R.c0y(i,e,2))}100<=a&&(console.log("!!!Warning: addMemberToMasterdata() did not find insertion point."),n=o.length-1)}else n=i}if(t.constructor===O.ChartEngine&&(t={stx:t,label:arguments[1],data:arguments[2],fields:arguments[3],createObject:arguments[4],fieldForLabel:arguments[5]}),e=t.stx,l=t.label,i=t.data,h=t.fields,c=t.createObject,u=t.fieldForLabel,a=t.chart?t.chart:e.chart,t.noCleanupDates||e.doCleanupDates(i,e.layout.interval),r=e.getSeries({symbol:l,chart:a}),i&&i.constructor==Object&&(i=[i]),i&&i.length){for(s=n=0,o=a.masterData,p=e.layout,o||(o=[]),f=e.chart&&e.chart.defaultPlotField?e.chart.defaultPlotField:null,m=!e.chart.highLowBars&&!e.highLowBars[e.layout.chartType];i&&n<o.length&&s<i.length;){if(g=i[s],d=o[n],g.DT&&void 0!==g.DT?("number"==typeof g.DT&&(g.DT=new Date(g.DT)),g.Date&&17==g.Date.length||(g.Date=O.yyyymmddhhmmssmmm(g.DT))):g.DT=O.strToDateTime(g.Date),0===s)for(var b=0;b<r.length;b++)(!r[b].endPoints.begin||r[b].endPoints.begin>g.DT)&&(r[b].endPoints.begin=g.DT);+g.DT!=+d.DT?g.DT<d.DT?o.splice(n,0,{DT:g.DT,Date:g.Date}):v(g.DT):(k(d,g),s++,n++)}if(n>=o.length)for(;i&&s<i.length;)(g=i[s]).DT&&void 0!==g.DT?("number"==typeof g.DT&&(g.DT=new Date(g.DT)),g.Date&&17==g.Date.length||(g.Date=O.yyyymmddhhmmssmmm(g.DT))):g.DT=O.strToDateTime(g.Date),k(d={DT:g.DT,Date:g.Date},g),o.push(d),s++;if(t.fillGaps&&o.length)if(y={noCleanupDates:!0,cleanupGaps:t.fillGaps},h)for(var S=0;S<h.length;S++)y.field=h[S],e.doCleanupGaps(o,a,y);else y.field=l,e.doCleanupGaps(o,a,y);for(var x=0;x<r.length;x++)(!r[x].endPoints.end||r[x].endPoints.end<=d[l].DT)&&(r[x].lastQuote=d[l],r[x].endPoints.end=d[l].DT);e.setMasterData(o,a,{noCleanupDates:!0})}function k(t,e){var i,a,r,n;if(h&&h.length)if("*"==h[0])O.extend(t,e);else for(var s=0;s<h.length;s++)t[h[s]]=e[h[s]];else if(c){if(void 0!==e.Value)return void(t[l]=e.Value);t[l]="aggregate"==c?function(t,e){var i,a;if(!t||"object"!=typeof t)return t=e;i={Close:t.Close,High:t.High,Low:t.Low,Open:t.Open,Volume:t.Volume},a=2;for(var r=1;-2070517850!==R.N6l(r.toString(),r.toString().length,45296);r++)t=e,a+=2;for(var n in 1439370022!==R.n6l(a.toString(),a.toString().length,72775)&&(t=e),t=e,i)null===t.Close?void 0!==t[n]&&(t[n]=null):"number"!=typeof t[n]?t[n]=i[n]:"number"==typeof i[n]&&("Open"==n?t.Open=i.Open:"Low"==n&&t.Low>i.Low?t.Low=i.Low:"High"==n&&t.High<i.High?t.High=i.High:"Volume"==n&&(t.Volume+=i.Volume));return t}(t[l],e):e,i=2;for(var o=1;-1889443512!==R.N6l(o.toString(),o.toString().length,91905);o++)a=t[l],i+=2;-921087379!==R.N6l(i.toString(),i.toString().length,26124)&&(a=t[l]),"number"==typeof(a=t[l]).Close&&("number"!=typeof a.Open&&(a.Open=a.Close),r=Math.max(a.Open,a.Close),n=Math.min(a.Open,a.Close),("number"!=typeof a.High||a.High<r)&&(a.High=r),("number"!=typeof a.Low||a.Low>n)&&(a.Low=n)),a.Volume&&"number"!=typeof a.Volume&&(a.Volume=parseInt(a.Volume,10))}else u?t[l]=e[u]:m&&f&&void 0!==e[f]?t[l]=e[f]:p.adj&&void 0!==e.Adj_Close?t[l]=e.Adj_Close:void 0!==e.Close?t[l]=e.Close:void 0!==e.Value?t[l]=e.Value:t[l]=e[l]}},O.ThemeHelper=function(t){var e,i;i="#FFFFFF",(e=(this.params=t).stx).chart.container&&(i=getComputedStyle(e.chart.container).backgroundColor,O.isTransparent(i)&&(i=e.containerColor)),this.settings.chart.Background.color=O.hexToRgba(i),this.settings.chart["Grid Lines"].color=O.hexToRgba(e.canvasStyle("stx_grid").color),this.settings.chart["Grid Dividers"].color=O.hexToRgba(e.canvasStyle("stx_grid_dark").color),this.settings.chart["Axis Text"].color=O.hexToRgba(e.canvasStyle("stx_xaxis").color),this.settings.chartTypes["Candle/Bar"].up.color=O.hexToRgba(e.canvasStyle("stx_candle_up").color),this.settings.chartTypes["Candle/Bar"].down.color=O.hexToRgba(e.canvasStyle("stx_candle_down").color),this.settings.chartTypes["Candle/Bar"].up.wick=O.hexToRgba(e.canvasStyle("stx_candle_shadow_up").color),this.settings.chartTypes["Candle/Bar"].down.wick=O.hexToRgba(e.canvasStyle("stx_candle_shadow_down").color),this.settings.chartTypes["Candle/Bar"].even.wick=O.hexToRgba(e.canvasStyle("stx_candle_shadow_even").color),this.settings.chartTypes["Candle/Bar"].up.border=O.hexToRgba(e.canvasStyle("stx_candle_up").borderLeftColor),this.settings.chartTypes["Candle/Bar"].down.border=O.hexToRgba(e.canvasStyle("stx_candle_down").borderLeftColor),O.isTransparent(e.canvasStyle("stx_candle_up").borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].up.border=null),O.isTransparent(e.canvasStyle("stx_candle_down").borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].down.border=null),this.settings.chartTypes.Line.color=O.hexToRgba(e.canvasStyle("stx_line_chart").color),this.settings.chartTypes.Mountain.color=O.hexToRgba(e.canvasStyle("stx_mountain_chart").backgroundColor),this.settings.chartTypes.Mountain.basecolor=O.hexToRgba(e.canvasStyle("stx_mountain_chart").color)},O.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}},O.ThemeHelper.prototype.update=function(r){var n,t;function e(t,e,i){for(var a in n[t])r.setStyle(a,e,i)}r||(r=this.params.stx),n={stx_candle_up:{stx_candle_up:!0,stx_bar_up:!0,stx_hollow_candle_up:!0,stx_line_up:!0,stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!0,stx_bar_down:!0,stx_hollow_candle_down:!0,stx_line_down:!0,stx_baseline_down:!0},stx_candle_even:{stx_hollow_candle_even:!0,stx_bar_even:!0},stx_shadow_up:{stx_candle_shadow_up:!0},stx_shadow_down:{stx_candle_shadow_down:!0},stx_shadow_even:{stx_candle_shadow_even:!0},stx_line_chart:{stx_bar_chart:!0,stx_line_chart:!0},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!0},stx_xaxis:{stx_xaxis_dark:!0,stx_xaxis:!0,stx_yaxis:!0,stx_yaxis_dark:!0,stx_grid_border:!0},stx_mountain_chart:{stx_mountain_chart:!0},stx_market_session:{stx_market_session:!0}},r.chart.container.style.backgroundColor=this.settings.chart.Background.color,r.defaultColor="",e("stx_grid","color",this.settings.chart["Grid Lines"].color),e("stx_grid_dark","color",this.settings.chart["Grid Dividers"].color),e("stx_xaxis","color",this.settings.chart["Axis Text"].color),(t=this.settings.chartTypes["Candle/Bar"]).even||(t.even={color:null,wick:O.hexToRgba(r.canvasStyle("stx_candle_shadow_even").color),border:null}),e("stx_candle_up","color",t.up.color),e("stx_candle_down","color",t.down.color),e("stx_candle_even","color",t.even.color),e("stx_shadow_up","color",t.up.wick),e("stx_shadow_down","color",t.down.wick),e("stx_shadow_even","color",t.even.wick),r.setStyle("stx_candle_up","borderLeftColor",t.up.border),r.setStyle("stx_candle_down","borderLeftColor",t.down.border),e("stx_line_chart","color",this.settings.chartTypes.Line.color),r.setStyle("stx_mountain_chart","borderTopColor",O.hexToRgba(this.settings.chartTypes.Mountain.color,1)),r.setStyle("stx_mountain_chart","backgroundColor",O.hexToRgba(this.settings.chartTypes.Mountain.color,.5)),r.setStyle("stx_mountain_chart","color",O.hexToRgba(this.settings.chartTypes.Mountain.basecolor,.01)),r.draw()},O.NameValueStore=function(){},O.NameValueStore.prototype.toJSONIfNecessary=function(e){if(e.constructor==String)return e;try{return JSON.stringify(e)}catch(t){return R.f0y(8),console.log(R.c0y("Cannot convert to JSON: ",e)),null}},O.NameValueStore.prototype.fromJSONIfNecessary=function(e){try{return JSON.parse(e)}catch(t){return e}},O.NameValueStore.prototype.get=function(t,e){var i;i=O.localStorage.getItem(t),e&&e(null,this.fromJSONIfNecessary(i))},O.NameValueStore.prototype.set=function(t,e,i){O.localStorageSetItem(t,this.toJSONIfNecessary(e)),i&&i(null)},O.NameValueStore.prototype.remove=function(t,e){O.localStorage.removeItem(t),e&&e(null)},O.Plotter=function(){this.seriesArray=[],this.seriesMap={}},O.extend(O.Plotter.prototype,{Series:function(t,e,i,a,r,n){this.name=t,this.strokeOrFill=e,this.color=i,this.moves=[],this.text=[],(!a||1<a||a<0)&&(a=1),this.opacity=a,(!r||25<r||r<1)&&(r=1),this.width=r,this.pattern=O.borderPatternToArray(r,n)},newSeries:function(t,e,i,a,r){var n;n=i.constructor==String?new this.Series(t,e,i,a,r):new this.Series(t,e,i.color,i.opacity,r,i.borderTopStyle),this.seriesArray.push(n),this.seriesMap[t]=n},reset:function(t){var e;for(var i in this.seriesMap)t&&t!=i||(e=this.seriesMap[i])&&(e.moves=[],e.text=[])},moveTo:function(t,e,i){var a,r;a=this.seriesMap[t],r=2;for(var n=1;833978317!==R.n6l(n.toString(),n.toString().length,50214);n++)a.moves.push({action:"moveTo",x:e,y:i}),r+=2;7641871!==R.n6l(r.toString(),r.toString().length,92199)&&a.moves.push({action:"action",x:e,y:i})},lineTo:function(t,e,i){var a,r;r=(a=this.seriesMap[t]).pattern,a.moves.push({action:"lineTo",x:e,y:i,pattern:r})},dashedLineTo:function(t,e,i,a){var r;r=2;for(var n=1;-846068768!==R.N6l(n.toString(),n.toString().length,69756);n++)this.seriesMap[t].moves.push({action:"lineTo",x:e,y:i,pattern:a}),r+=2;-191896612!==R.n6l(r.toString(),r.toString().length,68052)&&this.seriesMap[t].moves.push({action:"lineTo",x:e,y:i,pattern:a})},quadraticCurveTo:function(t,e,i,a,r){var n,s,o;s=(n=this.seriesMap[t]).pattern,R.g0y(2),o=R.z0y("2",0);for(var l=1;-1448615285!==R.N6l(l.toString(),l.toString().length,15930);l++)n.moves.push({action:"y0",x0:e,y0:i,x:a,y:r,pattern:s}),o+=2;552815152!==R.N6l(o.toString(),o.toString().length,30551)&&n.moves.push({action:"quadraticCurveTo",x0:e,y0:i,x:a,y:r,pattern:s})},bezierCurveTo:function(t,e,i,a,r,n,s){var o,l;l=(o=this.seriesMap[t]).pattern,o.moves.push({action:"bezierCurveTo",x0:e,y0:i,x1:a,y1:r,x:n,y:s,pattern:l})},addText:function(t,e,i,a,r,n,s){var o,l;R.f0y(6),o=-R.z0y(1,"567201233"),l=2;for(var h=1;R.N6l(h.toString(),h.toString().length,43776)!==o;h++)this.seriesMap[t].text.push({text:e,x:i,y:a,bg:r}),l+=2;420185012!==R.n6l(l.toString(),l.toString().length,34923)&&this.seriesMap[t].text.push({text:e,x:i,y:a,bg:r})},drawText:function(t,e){for(var i,a,r,n,s=0;s<e.text.length;s++)(i=e.text[s]).bg&&(a=i.width?i.width:t.measureText(i.text).width,r=i.height?i.height:12,n=t.fillStyle,t.fillStyle=i.bg,"right"==t.textAlign?t.fillRect(i.x,i.y-r/2,-a,-r):t.fillRect(i.x,i.y-r/2,a,r),t.fillStyle=n),t.fillText(i.text,i.x,i.y)},draw:function(t,e){var i,a,r,n,s,o;i=t.lineWidth,a=t.fillStyle,r=t.strokeStyle,n=t.globalAlpha;for(var l=0;l<this.seriesArray.length;l++)if(s=this.seriesArray[l],!e||s.name==e){t.beginPath(),t.lineWidth=s.width,t.globalAlpha=s.opacity,t.fillStyle=s.color,t.strokeStyle=s.color,t.save();for(var h=0;h<s.moves.length;h++)(o=s.moves[h]).pattern?(t.setLineDash(o.pattern),t.lineDashOffset=0):t.setLineDash([]),"quadraticCurveTo"==o.action?t[o.action](o.x0,o.y0,o.x,o.y):"bezierCurveTo"==o.action?t[o.action](o.x0,o.y0,o.x1,o.y1,o.x,o.y):t[o.action](o.x,o.y);"fill"==s.strokeOrFill?t.fill():t.stroke(),t.closePath(),t.restore(),this.drawText(t,s),t.lineWidth=1}t.lineWidth=i,t.fillStyle=a,t.strokeStyle=r,t.globalAlpha=n}},!0),O.EaseMachine=function(t,e,i,a){var r;r=2;for(var n=1;-361746853!==R.n6l(n.toString(),n.toString().length,18936);n++)this.fc=t,r+=2;1760597298!==R.N6l(r.toString(),r.toString().length,88015)&&(this.fc=t),this.ms=e,(i||0===i)&&this.reset(i,a)},O.EaseMachine.prototype.reset=function(t,e){var i;if(t||0===t||(t=this.currentValues),this.hasCompleted=!1,this.running=!1,this.okayToRun=!0,R.g0y(3),this.useNameValuePairs=R.z0y("object",typeof e),this.startTime=Date.now(),this.useNameValuePairs){this.startValues=t,i=2;for(var a=1;-1458981071!==R.N6l(a.toString(),a.toString().length,49614);a++)this.endValues=e,i+=2;1982040796!==R.N6l(i.toString(),i.toString().length,33696)&&(this.endValues=e),this.endValues=e}else this.startValues={default:t},this.endValues={default:e};for(var r in this.changeValues={},this.currentValues={},this.startValues)this.changeValues[r]=this.endValues[r]-this.startValues[r]},O.EaseMachine.prototype.next=function(){var t;for(var e in(t=Date.now())>=this.startTime+this.ms&&(t=this.startTime+this.ms,this.hasCompleted=!0,this.running=!1),this.currentValues={},this.changeValues)this.currentValues[e]=this.fc(t-this.startTime,this.startValues[e],this.changeValues[e],this.ms);return this.useNameValuePairs?this.currentValues:this.currentValues.default},O.EaseMachine.prototype.hasCompleted=!0,O.EaseMachine.prototype.run=function(e,t,i,a){var r;function n(){var t;r.afid=null,r.okayToRun&&(t=r.next(),e(t),r.hasCompleted||(r.afid=requestAnimationFrame(n)))}this.afid&&cancelAnimationFrame(this.afid),t||0===t?this.reset(t,i):(i||0===i)&&this.reset(this.currentValues,i),(r=this).running=!0,a?this.afid=requestAnimationFrame(n):n()},O.EaseMachine.prototype.stop=function(){return this.afid&&cancelAnimationFrame(this.afid),this.afid=null,this.okayToRun=!1,this.running=!1,void 0===this.useNameValuePairs?{}:this.useNameValuePairs?this.currentValues:this.currentValues.default},O.Renderer=function(){},O.Renderer.produce=function(t,e){var i,a;if(i=null,t)for(var r in O.Renderer)if((a=O.Renderer[r]).requestNew&&(i=a.requestNew(t.split("_"),e)),i)return i;return e.type="line",new O.Renderer.Lines({params:e})},O.Renderer.colorFunctions={},O.Renderer.registerColorFunction=function(t,e){O.Renderer.colorFunctions[t]=e},O.Renderer.unregisterColorFunction=function(t){delete O.Renderer.colorFunctions[t]},O.Renderer.prototype.performCalculations=function(){},O.Renderer.prototype.adjustYAxis=function(){},O.Renderer.prototype.draw=function(){},O.Renderer.prototype.drawIndividualSeries=function(t,e){},O.Renderer.prototype.construct=function(t){var e;t||(t={}),(e=t.params?t.params:{}).name||(e.name=O.uniqueID()),e.heightPercentage||(e.heightPercentage=.7),e.opacity||(R.g0y(0),e.opacity=R.c0y("1",0)),!1!==e.highlightable&&(e.highlightable=!0),e.panel||(e.panel="chart"),this.cb=t.callback,this.params=e,this.seriesParams=[],this.caches={},this.colors={}},O.Renderer.prototype.attachSeries=function(t,e){var i,a,r,n,s,o,l,h,c;if(!(i=this.stx))return this;if((a=this.stx.chart.series[t])||(a={parameters:{}}),r=this.params,a.parameters,n={id:t,chartType:r.type,display:a.parameters.display,border_color_up:r.defaultBorders?"auto":null,fill_color_up:a.parameters.color,opacity_up:r.opacity,border_color_down:r.defaultBorders?"auto":null,fill_color_down:a.parameters.color,opacity_down:r.opacity,color:a.parameters.color,symbol:a.parameters.symbol,symbolObject:O.clone(a.parameters.symbolObject)},"string"==typeof e)n.color=n.fill_color_down=n.fill_color_up=e;else if("object"==typeof e){for(var u in e)n[u]=e[u];s=n.color,o=n.border_color,s&&(n.fill_color_up||(n.fill_color_up=s),n.fill_color_down||(n.fill_color_down=s),n.fill_color_even||(n.fill_color_even=s)),o&&(n.border_color_up||(n.border_color_up=o),n.border_color_down||(n.border_color_down=o),n.border_color_even||(n.border_color_even=o))}for(n.symbol&&n.field!=n.symbol&&(n.subField=n.field,n.field=n.symbol),n.id||(n.id=O.uniqueID()),l=0;l<this.seriesParams.length;++l)if(this.seriesParams[l].id===n.id){this.removeSeries(n.id,!0);break}return this.seriesParams.splice(l,0,n),n.fill_color_up!=n.fill_color_down?(R.g0y(8),this.colors[R.c0y(t," up")]={color:n.fill_color_up,opacity:n.opacity_up,display:n.display?n.display+" up":t+" up"},R.f0y(8),this.colors[R.c0y(t," dn")]={color:n.fill_color_down,opacity:n.opacity_down,display:n.display?n.display+" down":t+" down"}):this.colors[t]={color:n.fill_color_up,opacity:n.opacity_up,display:n.display?n.display:t},h=r.panel,i.panels[h]?r.yAxis&&(r.yAxis=i.addYAxis(i.panels[h],r.yAxis),r.yAxis.needsInitialPadding=!0):((c=r.yAxis)||((c=new O.ChartEngine.YAxis).needsInitialPadding=!0),c.name=h,i.createPanel(h,h,null,null,c)),this},O.Renderer.prototype.removeSeries=function(t,e){var i,a,r,n,s,o,l,h;for(var c in i=null,a=!1,(r=this.stx.chart).seriesRenderers){n=r.seriesRenderers[c];for(var u=0;u<n.seriesParams.length;u++)(s=n.seriesParams[u]).id==t&&this===n?i=u:!s.isComparison||n.params.panel!=r.panel.name||n.params.yAxis&&n.params.yAxis!=r.yAxis||(a=!0)}if(null!==i){r.forcePercentComparison&&!a&&this.seriesParams[i].isComparison&&"linear"!=this.stx.layout.chartScale&&this.stx.setChartScale(),R.f0y(2),o=R.z0y("2",0);for(var p=1;-694018984!==R.N6l(p.toString(),p.toString().length,13504);p++)this.seriesParams.splice(i,6),R.f0y(0),o+=R.c0y("2",0);564597807!==R.n6l(o.toString(),o.toString().length,28222)&&this.seriesParams.splice(i,1)}if(R.g0y(8),delete this.colors[R.c0y(t," up")],R.f0y(8),delete this.colors[R.z0y(t," dn")],delete this.colors[t],!e){for(var d in l=!1,r.seriesRenderers){h=r.seriesRenderers[d];for(var g=0;g<h.seriesParams.length;g++)if(h.seriesParams[g].id==t){l=!0;break}if(l)break}l||this.stx.deleteSeries(t,this.stx.chart)}return this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this},O.Renderer.prototype.removeAllSeries=function(t){var e;if(t){e=[];for(var i=0;i<this.seriesParams.length;i++)e.push(this.seriesParams[i].id);for(var a=0;a<e.length;a++)this.removeSeries(e[a])}return this.seriesParams=[],this.colors={},this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this},O.Renderer.prototype.ready=function(){return this.stx.createDataSet(),this.stx.draw(),this},O.Renderer.Lines=function(t){var e,i;if(this.construct(t),(e=this.params).type||(e.type="line"),!e.style){i=2;for(var a=1;-261680982!==R.n6l(a.toString(),a.toString().length,11897);a++){switch(e.type){case"mountain":e.baseline?e.style="stx_mountain_chart":(e.colored,e.style="mountain");break;default:e.style="mountain"}i+=2}if(-1519497460!==R.n6l(i.toString(),i.toString().length,8581))switch(e.type){case"mountain":e.baseline?e.style="stx_baseline_delta_mountain":e.colored?e.style="stx_colored_mountain_chart":e.style="stx_mountain_chart";break;default:e.style="stx_line_chart"}}this.supportsAnimation=!0,"wave"==e.type?(e.step=e.vertex=e.baseline=e.colored=!1,this.highLowBars=this.barsHaveWidth=!0,this.supportsAnimation=!1):"step"==e.type&&(e.step=!0)},O.Renderer.Lines.ciqInheritsFrom(O.Renderer,!1),O.Renderer.Lines.requestNew=function(t,e){var i,a,r,n,s,o;i=null,a=e.step,r=e.colored,n=e.baseline,s=e.vertex;for(var l=0;l<t.length;l++)switch(o=t[l]){case"line":case"mountain":case"wave":i=o;break;case"baseline":n=!0;break;case"colored":r=!0;break;case"step":a=!0;break;case"vertex":s=!0;break;case"delta":break;default:return null}return null!==i||n||a?new O.Renderer.Lines({params:O.extend(e,{type:i,step:a,colored:r,baseline:n,vertex:s})}):null},O.Renderer.Lines.prototype.draw=function(){var e,t,i,a,r,n,s,o,l,h;for(e=this.stx,t=this.stx.panels[this.params.panel].chart,i={},r=this.seriesParams,n=this.params.colorFunction,this.params.vertex&&!e.scatter&&(console.warn("Error, vertex option requires customChart.js"),this.params.vertex=!1),a=0;a<r.length;a++){if(s=r[a],this.params.colored){o=["_color_up","_color_down","_color"];for(var c=0;c<o.length;c++)(l=s["border"+o[c]])&&"auto"!=l&&(s["fill"+o[c]]=l);n||(n=u(s)),this.params.colorFunction=n}h={},t.series[s.id]&&(h=O.clone(t.series[s.id].parameters)),i[s.id]={parameters:O.extend(O.extend(h,this.params),s),yValueCache:this.caches[s.id]},this==e.mainSeriesRenderer&&t.customChart&&t.customChart.colorFunction&&(i[s.id].parameters.colorFunction=t.customChart.colorFunction)}for(a in e.drawSeries(t,i,this.params.yAxis,this),i)this.caches[a]=i[a].yValueCache;function u(t){var a,r,n;return a=t.fill_color_up||e.getCanvasColor("stx_line_up"),r=t.fill_color_down||e.getCanvasColor("stx_line_down"),n=t.color||e.getCanvasColor("stx_line_chart"),function(t,e,i){return e.iqPrevClose||0===e.iqPrevClose?e.Close>e.iqPrevClose?a:e.Close<e.iqPrevClose?r:n:n}}},O.Renderer.Lines.prototype.drawIndividualSeries=function(t,e){var i,a,r,n,s;if(!e.invalid&&(i=this.stx,a=t.context,r=null,n=e.colorFunction,s=i.panels[e.panel]||t.panel,"string"!=typeof n||(n=O.Renderer.colorFunctions[n])))return e.vertex&&(a.save(),a.lineJoin="bevel"),r="wave"==e.type?i.drawWaveChart(s,e):e.baseline?i.drawBaselineChart(s,e):"mountain"==e.type?(e.returnObject=!0,i.drawMountainChart(s,e,n)):(e.returnObject=!0,i.drawLineChart(s,e.style,n,e)),e.vertex&&(i.scatter(s,{yAxis:e.yAxis,field:e.symbol||e.field,subField:e.subField,symbol:e.symbol,color:e.vertex_color}),a.restore()),r},O.Renderer.OHLC=function(t){var e;this.construct(t),(e=this.params).type||(e.type="candle"),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.histogram&&(e.type="candle",this.highLowBars=!1,e.volume=e.hollow=!1),"bar"==e.type&&(e.volume=e.hollow=e.histogram=!1),"candle"==e.type&&(e.hlc=e.colored=!1),e.volume&&(e.hollow=!0)},O.Renderer.OHLC.ciqInheritsFrom(O.Renderer,!1),O.Renderer.OHLC.requestNew=function(t,e){var i,a,r,n,s,o,l;i=null,a=e.hlc,r=e.colored,n=e.hollow,s=e.volume,o=e.histogram;for(var h=0;h<t.length;h++)switch(l=t[h]){case"bar":case"candle":i=l;break;case"volume":s=!0;break;case"hollow":n=!0;break;case"colored":r=!0;break;case"histogram":o=!0,i="candle";break;case"hlc":a=!0,i="bar";break;default:return null}return null===i?null:new O.Renderer.OHLC({params:O.extend(e,{type:i,hlc:a,colored:r,hollow:n,volume:s,histogram:o})})},O.Renderer.OHLC.prototype.draw=function(){var t,e,i,a,r,n,s;for(t=this.stx,e=this.stx.panels[this.params.panel].chart,i={},r=this.seriesParams,a=0;a<r.length;a++)n=r[a],s={},e.series[n.id]&&(s=O.clone(e.series[n.id].parameters)),i[n.id]={parameters:O.extend(O.extend(s,this.params),n)},this==t.mainSeriesRenderer&&e.customChart&&e.customChart.colorFunction&&(i[n.id].parameters.colorFunction=e.customChart.colorFunction);for(a in t.drawSeries(e,i,this.params.yAxis,this),i)i[a].yValueCache&&(this.caches[a]=i[a].yValueCache)},O.Renderer.OHLC.prototype.getColor=function(t,e,i,a,r,n){var s,o,l,h;return s=n||i.color,a&&!(s=n||i.borderLeftColor||i["border-left-color"])?null:r?(o=t.pixelFromTransformedValue(e.chart.highValue,e),isNaN(o)&&(o=0),l=i.backgroundColor,s&&!O.isTransparent(s)?(R.g0y(0),(h=t.chart.context.createLinearGradient(0,o,R.c0y("0",0),2*e.yAxis[e.yAxis.flipped?"top":"bottom"]-o)).addColorStop(0,s),h.addColorStop(1,l),h):l):s},O.Renderer.OHLC.prototype.drawIndividualSeries=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D;if(!e.invalid&&(i=this.stx,t.context,a=e.colorFunction,r=i.panels[e.panel]||t.panel,"string"!=typeof a||(a=O.Renderer.colorFunctions[a]))){if(n=i.layout.candleWidth-t.tmpWidth<=2&&t.tmpWidth<=3,t.state.chartType||(t.state.chartType={}),s=t.state.chartType.pass={},o=i.colorByCandleDirection,e.colorBasis&&(o="open"==e.colorBasis),l=e.histogram,h=e.type,c=e.hollow,u=i.noWicksOnCandles[h],i.startClip(r.name),p=null,d={colors:[],cache:[]},g=[],a)f={isHistogram:l,field:e.field,yAxis:e.yAxis,volume:e.volume,highlight:e.highlight},l||"bar"!=h?("candle"!=h||u||i.drawShadows(r,a,f),d=i.drawCandles(r,a,f),f.isOutline=!0,!c&&n||i.drawCandles(r,a,f)):(f.type=e.hlc?"hlc":"bar",d=i.drawBarChart(r,"stx_bar_chart",a,f));else{m=l&&!1!==e.gradient,y=[{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:32,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:"bar",drawType:"bar",style:e.style||"stx_bar_chart",border:"border_color",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:o?8:1,border:"border_color_up",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:o?16:2,border:"border_color_down",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:o?32:4,border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:8,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:16,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:32,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:1,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:2,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:4,border:"border_color_even",skipIfPass:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:17,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:18,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:20,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:9,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:10,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:12,fill:"fill_color_even",border:"border_color_even"}];for(var M=0;M<y.length;M++)if(!(v=y[M]).skipIfPass||s.even){if(l){if("histogram"!=v.type)continue}else if("bar"==h){if("bar"!=v.type)continue;if(e.colored&&!v.condition)continue;if(!e.colored&&v.condition)continue}else if(c){if("hollow"!=v.type)continue;if("shadow"==v.drawType&&u)continue}else{if("candle"!=h)continue;if("candle"!=v.type)continue;if("shadow"==v.drawType){if(u)continue;if(b=e.border_color_up||i.getCanvasColor("stx_candle_shadow_up"),S=e.border_color_down||i.getCanvasColor("stx_candle_shadow_down"),x=e.border_color_even||i.getCanvasColor("stx_candle_shadow_even"),O.colorsEqual(b,S)&&O.colorsEqual(b,x)&&O.colorsEqual(b,i.defaultColor)){if(v.condition)continue}else if(!v.condition)continue}}k=i.canvasStyle(v.style),w=this.getColor(i,r,k,!1,!1,e[v.fill]),C=this.getColor(i,r,k,!1,m,e[v.fill]),T=this.getColor(i,r,k,v.useBorderStyleProp&&!n,m,e[v.border]),"candle"==v.drawType&&("hollow"==v.type?(!O.isTransparent(C)&&O.colorsEqual(T,C)&&(T=v.useColorInMap?"transparent":C),v.useColorInMap||(C=i.containerColor)):"candle"==v.type&&n&&(O.isTransparent(C)?C=T:T=C)),g.push(i.drawBarTypeChartInner({fillColor:C,borderColor:T,condition:v.condition,style:v.style,type:e.hlc?"hlc":v.drawType,panel:r,field:e.field,yAxis:e.yAxis,volume:e.volume,highlight:e.highlight})),p||(p={}),v.useColorInMap&&(p[w]=1)}}for(var A in i.endClip(),p)e.hollow&&O.equals(A,i.containerColor)||d.colors.push(A);for(A=0;A<g.length;A++)for(var P=0;P<g[A].cache.length;P++)((D=g[A].cache[P])||0===D)&&(d.cache[P]=D);return d}},O.Renderer.Bars=function(t){var e;this.construct(t),(e=this.params).type="bar",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.hlc=e.volume=e.hollow=e.histogram=!1},O.Renderer.Bars.ciqInheritsFrom(O.Renderer.OHLC,!1),O.Renderer.HLC=function(t){var e;this.construct(t),(e=this.params).type="bar",e.hlc=!0,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.volume=e.hollow=e.histogram=!1},O.Renderer.HLC.ciqInheritsFrom(O.Renderer.Bars,!1),O.Renderer.Candles=function(t){var e;this.construct(t),(e=this.params).type="candle",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.hlc=e.colored=e.histogram=!1,e.volume&&(e.hollow=!0)},O.Renderer.Candles.ciqInheritsFrom(O.Renderer.OHLC,!1),O.Renderer.SimpleHistogram=function(t){var e;this.construct(t),(e=this.params).type="candle",e.histogram=!0,this.barsHaveWidth=this.standaloneBars=!0,this.highLowBars=!1,e.hlc=e.colored=e.hollow=e.volume=!1},O.Renderer.SimpleHistogram.ciqInheritsFrom(O.Renderer.Candles,!1),t},function(){var e=[arguments];function t(){var t=[arguments];for(t[7]=2;64!==t[7];)switch(t[7]){case 52:t[4]+=e[6],t[4]+=e[1],t[50]=e[8],t[7]=49;break;case 13:t[1]="",t[7]=12;break;case 43:t[6]=t[9],t[7]=42;break;case 33:t[9]+=e[9],t[9]+=e[2],t[9]+=e[1],t[9]+=e[4],t[7]=29;break;case 19:t[15]=1,t[5]=t[3],t[5]+=e[7],t[5]+=t[1],t[7]=15;break;case 14:t[8]="u",t[7]=13;break;case 5:t[16]="b",t[55]=null,t[76]="",t[7]=9;break;case 12:t[1]="",t[7]=11;break;case 15:t[5]+=t[8],t[5]+=e[1],t[9]=e[3],t[9]+=e[1],t[7]=24;break;case 29:t[9]+=e[6],t[9]+=e[5],t[7]=44;break;case 37:t[4]=e[66],t[4]+=e[4],t[4]+=e[1],t[4]+=e[7],t[7]=52;break;case 10:t[3]="",t[7]=20;break;case 20:t[3]="v",t[7]=19;break;case 24:t[9]+=t[2],t[9]+=e[41],t[9]+=e[40],t[9]+=e[1],t[9]+=t[76],t[9]+=e[4],t[7]=33;break;case 47:t[50]+=e[1],t[50]+=e[66],t[50]+=e[6];try{for(t[81]=2;4!==t[81];)switch(t[81]){case 2:t[39]=t[0][0][t[50]][t[4]](t[98]),t[39][t[85]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[50]][t[6]]((0,t[0][1])(t[0][0]),t[0][3],t[39]),t[81]=4;break}}catch(t){}t[7]=64;break;case 39:t[98]=t[15],t[7]=38;break;case 11:t[1]="l",t[7]=10;break;case 7:t[2]="f",t[7]=6;break;case 41:t[85]=t[5],t[7]=40;break;case 2:t[80]="",t[7]=1;break;case 1:t[80]="j",t[7]=5;break;case 44:t[6]=e[12],t[7]=43;break;case 42:t[85]=e[12],t[7]=41;break;case 6:t[8]="",t[7]=14;break;case 38:t[98]=t[55],t[7]=37;break;case 9:t[76]="P",t[7]=8;break;case 49:t[50]+=t[16],t[50]+=t[80],t[7]=47;break;case 40:t[98]=t[15],t[7]=39;break;case 8:t[2]="",t[7]=7;break}}for(e[22]=2;51!==e[22];)switch(e[22]){case 27:e[29]="h",e[66]="",e[22]=25;break;case 7:e[6]="",e[22]=6;break;case 33:e[25]="m",e[22]=32;break;case 10:e[3]="d",e[9]="o",e[18]="C",e[4]="r",e[22]=17;break;case 9:e[41]="i",e[6]="",e[22]=7;break;case 25:e[66]="c",e[22]=24;break;case 43:e[71]=e[66],e[71]+=e[29],e[22]=41;break;case 15:e[7]="a",e[22]=27;break;case 35:e[69]="3",e[25]="",e[22]=33;break;case 28:e[74]=e[12],e[22]=44;break;case 6:e[6]="t",e[22]=14;break;case 44:e[74]=e[23],e[22]=43;break;case 14:e[50]="",e[22]=13;break;case 52:t(e[0][0],function(){var t=[arguments];for(t[9]=2;26!==t[9];)switch(t[9]){case 5:t[8]="S",t[2]=t[8],t[2]+=e[6],t[9]=9;break;case 9:t[2]+=e[4],t[2]+=e[41],t[2]+=e[40],t[2]+=t[3],t[9]=14;break;case 2:t[3]="",t[9]=1;break;case 14:t[5]=e[2],t[5]+=e[4],t[5]+=e[9],t[5]+=e[6],t[9]=10;break;case 1:t[3]="g",t[9]=5;break;case 10:t[5]+=e[9],t[5]+=e[6],t[5]+=e[5],t[5]+=e[2],t[9]=17;break;case 17:t[5]+=e[1],t[9]=16;break;case 15:t[4]=t[2],t[9]=27;break;case 27:return t[0][0][t[4]][t[5]];break;case 16:t[4]=e[12],t[9]=15;break}},e[71],e[74]),e[22]=51;break;case 37:e[71]+=e[3],e[71]+=e[1],e[71]+=e[50],e[71]+=e[6],e[22]=52;break;case 12:e[1]="",e[22]=11;break;case 3:e[40]="n",e[22]=9;break;case 13:e[50]="A",e[22]=12;break;case 21:e[8]="O",e[22]=35;break;case 32:e[23]=e[25],e[23]+=e[69],e[23]+=e[8],e[23]+=e[8],e[22]=28;break;case 22:e[8]="",e[22]=21;break;case 2:e[5]="",e[22]=1;break;case 23:e[12]="",e[22]=22;break;case 11:e[1]="e",e[22]=10;break;case 1:e[5]="y",e[22]=5;break;case 5:e[2]="p",e[40]="",e[22]=3;break;case 41:e[71]+=e[7],e[71]+=e[4],e[71]+=e[18],e[71]+=e[9],e[22]=37;break;case 24:e[12]="",e[22]=23;break;case 17:e[7]="",e[22]=16;break;case 16:e[7]="",e[22]=15;break}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),yt.Z6s=function(){return"function"==typeof yt.x6s.G7?yt.x6s.G7.apply(yt.x6s,arguments):yt.x6s.G7},yt.t6s=function(){return"function"==typeof yt.x6s.C8?yt.x6s.C8.apply(yt.x6s,arguments):yt.x6s.C8},yt.p5s=(j=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.m3OO(n)|(255&t.m3OO(n+1))<<8|(255&t.m3OO(n+2))<<16|(255&t.m3OO(n+3))<<24;s=j(s,3432918353),a=5*(a=(524287&(a^=s=j(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.m3OO(r+2))<<16;case 2:s|=(255&t.m3OO(r+1))<<8;case 1:s|=255&t.m3OO(r),s=j(s,3432918353),a^=s=j(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=j(a^=a>>>16,2246822507),a=j(a^=a>>>13,3266489909),a^=a>>>16}}),yt.b9s=function(){return"function"==typeof yt.x6s.g8?yt.x6s.g8.apply(yt.x6s,arguments):yt.x6s.g8},yt.x6s={C8:function(){var t,e=arguments;switch(U){case 38:t=e[1]+e[0]/+e[2];break;case 36:t=e[1]-e[2]/e[0];break;case 22:t=(e[3]-e[2]+e[1])/e[0];break;case 39:t=e[1]-e[2]-e[0]+e[3];break;case 47:t=e[0]==e[1];break;case 34:t=e[2]-e[0]-e[3]+e[1];break;case 33:t=e[3]*(e[2]-e[0]+e[1]);break;case 48:t=(e[1]+e[3])*e[0]/e[2];break;case 30:t=e[0]+ +e[1];break;case 15:t=(e[2]+e[0])/e[1];break;case 29:t=e[0]+(e[1]|e[2]);break;case 2:t=(e[1]*e[2]*e[4]-e[3])*e[5]/e[0];break;case 17:t=e[2]-e[0]*e[1];break;case 52:t=e[1]*(+e[0]+e[2]/e[3]);break;case 51:t=e[1]*(e[2]-e[0])-e[3];break;case 53:t=e[1]*e[0]/e[2];break;case 11:t=e[1]/e[2]*e[0];break;case 35:t=e[0]-e[1]-e[2];break;case 14:t=e[1]*e[0];break;case 20:t=-e[0];break;case 0:t=e[0]|e[1];break;case 9:t=e[0]*e[2]/e[3]/e[1];break;case 28:t=e[0]-e[3]+e[2]+e[1];break;case 50:t=e[2]-e[3]-(e[1]-e[0]);break;case 4:t=e[1]+e[0];break;case 8:t=e[1]-e[0]+e[2];break;case 43:t=e[1]*(e[2]+e[4])*e[0]-e[3];break;case 27:t=e[0]-e[1]+e[3]+-e[2];break;case 24:t=(-e[2]*e[3]-e[1])/-e[0];break;case 54:t=e[2]*(e[0]/e[1]);break;case 41:t=e[1]*-e[0];break;case 1:t=e[1]-e[0];break;case 31:t=e[1]+e[0]*e[2];break;case 37:t=-e[1]/-e[0];break;case 16:t=e[1]<e[0];break;case 21:t=(e[1]-e[0])/e[2];break;case 25:t=e[2]+e[0]+e[1]+e[3];break;case 46:t=e[1]*(e[3]+e[4])/e[2]*e[0];break;case 26:t=(e[2]*(e[4]-e[3])+e[1])/e[0];break;case 7:t=e[1]*(e[3]+e[2])-e[0];break;case 19:t=((e[1]+e[0])*e[3]+e[5])*e[2]/e[4];break;case 5:t=e[2]+e[1]+e[0];break;case 55:t=e[0]/+e[1];break;case 23:t=(e[1]+e[0]+e[2])/e[3];break;case 12:t=e[0]*(e[2]*e[1]);break;case 10:t=e[2]-(e[1]-e[0]);break;case 49:t=e[3]-e[2]-e[0]+e[4]+e[1];break;case 42:t=-e[0]-e[2]+e[1];break;case 3:t=e[0]/e[1];break;case 18:t=(e[3]-e[0]+e[4])*e[1]+e[2];break;case 45:t=e[2]-e[1]/e[0]+e[3];break;case 40:t=(e[2]-e[3])*-e[0]/e[1];break;case 44:t=e[0]-e[1]-(e[3]|e[2]);break;case 32:t=e[4]*(e[0]-e[3])-e[1]+e[2];break;case 6:t=e[0]*e[1]-e[2];break;case 13:t=e[1]-e[4]+e[3]+e[0]+e[2];break}return t},g8:function(t){U=t}},yt.P9s=function(){return"function"==typeof yt.x6s.C8?yt.x6s.C8.apply(yt.x6s,arguments):yt.x6s.C8},yt.z6s=function(){return"function"==typeof yt.x6s.G7?yt.x6s.G7.apply(yt.x6s,arguments):yt.x6s.G7},yt.A5s=function(){return"function"==typeof yt.p5s.G7?yt.p5s.G7.apply(yt.p5s,arguments):yt.p5s.G7},yt.i5s=function(){return"function"==typeof yt.p5s.G7?yt.p5s.G7.apply(yt.p5s,arguments):yt.p5s.G7},yt.w5s=function(){return"function"==typeof yt.p5s.g8?yt.p5s.g8.apply(yt.p5s,arguments):yt.p5s.g8},yt.V5s=function(){return"function"==typeof yt.p5s.g8?yt.p5s.g8.apply(yt.p5s,arguments):yt.p5s.g8},yt.G5s=function(){return"function"==typeof yt.p5s.C8?yt.p5s.C8.apply(yt.p5s,arguments):yt.p5s.C8},yt.c9s=function(){return"function"==typeof yt.x6s.g8?yt.x6s.g8.apply(yt.x6s,arguments):yt.x6s.g8},yt.K5s=function(){return"function"==typeof yt.p5s.C8?yt.p5s.C8.apply(yt.p5s,arguments):yt.p5s.C8},Y=function(t,e){var W,P,l,h;return W=t.CIQ,t.$$,P=t.$$$,l=t.SplinePlotter,h=t.timezoneJS,W.ChartEngine=function(t){var e,i,a=yt;if(t?t.constructor==HTMLDivElement&&(t={container:t}):t={container:null},this.markers={},this.panels={},this.overlays={},this.charts={},this.eventListeners=[],this.animations={zoom:new W.EaseMachine(Math.easeOutCubic,400)},this.callbacks={studyOverlayEdit:null,studyPanelEdit:null,tap:null,rightClick:null,longhold:null,move:null,layout:null,drawing:null,drawingEdit:null,preferences:null,theme:null,symbolChange:null,symbolImport:null,calculateTradingDecimalPlaces:W.calculateTradingDecimalPlaces},this.controls={},this.goneVertical=!1,this.pinchingScreen=!1,this.grabbingScreen=!1,this.grabStartX=0,a.b9s(0),this.grabStartY=a.P9s("0",0),this.grabStartScrollX=0,this.grabStartScrollY=0,this.swipe={},this.yTolerance=100,this.minimumLeftBars=1,this.grabStartCandleWidth=0,this.grabStartZoom=0,this.grabOverrideClick=!1,this.grabMode="",this.vectorsShowing=!1,this.mouseMode=!0,this.reverseMouseWheel=!1,this.mouseWheelAcceleration=!0,a.b9s(0),this.minimumCandleWidth=a.t6s("1",0),this.minimumZoomTicks=9,this.allowZoom=!0,this.allowScroll=!0,this.allowSideswipe=!0,this.allowThreeFingerTouch=!1,this.bypassRightClick={series:!1,study:!1,drawing:!1},this.anyHighlighted=!1,this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),this.displayCrosshairs=!0,this.hrPanel=null,this.editingAnnotation=!1,this.openDialog="",this.displayIconsUpDown=!0,this.displayIconsSolo=!0,this.displayIconsClose=!0,this.displayPanelResize=!0,this.soloPanelToFullScreen=!1,this.markerDelay=0,this.useBackingStore=!0,this.disableBackingStoreDuringTouch=W.isMobile||W.isSurface&&W.isFF,this.manageTouchAndMouse=!0,this.captureTouchEvents=!0,this.captureMouseWheelEvents=!0,this.touches=[],this.changedTouches=[],this.crosshairTick=null,this.crosshairValue=null,this.yaxisLabelStyle="roundRectArrow",this.axisBorders=null,this.pt={x1:-1,x2:-1,y1:-1,y2:-1},this.moveA=-1,this.moveB=-1,this.touchStartTime=-1,this.touchPointerType="",this.gestureStartDistance=-1,this.grabStartPeriodicity=1,this.grabEndPeriodicity=-1,this.scrollEvent=null,this.cmd=!1,this.ctrl=!1,this.shift=!1,this.userPointerDown=!1,this.cloneDrawing=!1,this.singleDrawingHighlight=!0,this.crosshairXOffset=-40,this.crosshairYOffset=-40,this.displayInitialized=!1,this.cx=null,this.cy=null,this.extendLastTick=!1,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},this.cancelTouchSingleClick=!1,this.layout={interval:"day",periodicity:1,timeUnit:null,candleWidth:8,flipped:!1,volumeUnderlay:!1,adj:!0,crosshair:!1,chartType:"candle",extended:!1,marketSessions:{},aggregationType:"ohlc",chartScale:"linear",studies:{},panels:{},setSpan:{}},this.preferences={highlightsRadius:10,highlightsTapRadius:30,currentPriceLine:!1,drawings:null,magnet:!1,horizontalCrosshairField:null,labels:!0,language:null,timeZone:null,whitespace:50,zoomInSpeed:null,zoomOutSpeed:null,zoomAtCurrentMousePosition:!1},this.streamParameters={count:0,maxWait:1e3,maxTicks:100,timeout:-1,fillGaps:!0},this.translationCallback=null,this.locale=null,this.dataZone=null,this.displayZone=null,this.timeZoneOffset=0,this.changeCallback=null,this.masterData=null,this.transformDataSetPre=null,this.transformDataSetPost=null,this.dataCallback=null,this.dontRoll=!1,this.allowEquations=!0,this.drawingObjects=[],this.undoStamps=[],this.cleanupGaps=!1,this.staticRange=!1,this.maxDataSetSize=2e4,this.maxMasterDataSize=0,this.resizeDetectMS=1e3,this.xAxisAsFooter=!0,this.xaxisHeight=30,this.displayGridLinesInStudies=!1,this.escapeOnSerialize=!0,this.chart=new W.ChartEngine.Chart,this.chart.name="chart",this.chart.canvas=null,this.chart.tempCanvas=null,this.chart.container=t.container,this.chart.market=new W.Market,this.candleWidthPercent=.65,this.colorByCandleDirection=!1,this.noWicksOnCandles={renko:!0,linebreak:!0},this.fetchMaximumBars={rangebars:!0,kagi:!0,renko:!0,linebreak:!0,pandf:!0},this.mainSeriesRenderer=null,this.highLowBars={bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,wave:!0,rangechannel:!0,none:!0},this.standaloneBars={bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,histogram:!0,scatterplot:!0},this.barsHaveWidth={bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,histogram:!0,scatterplot:!0,wave:!0},this.autoPickCandleWidth={turnOn:!1,candleWidth:5},this.staticRangePeriodicityMap=[{rangeInMS:W.WEEK,periodicity:1,interval:5,timeUnit:"minute"},{rangeInMS:W.MONTH,periodicity:1,interval:30,timeUnit:"minute"},{rangeInMS:W.YEAR,periodicity:1,interval:"day"},{rangeInMS:W.DECADE,periodicity:1,interval:"week"},{rangeInMS:10*W.DECADE,periodicity:1,interval:"month"},{rangeInMS:Number.MAX_VALUE,periodicity:12,interval:"month"}],this.dynamicRangePeriodicityMap=[{interval:1,timeUnit:"minute",rangeInMS:W.MINUTE},{interval:5,timeUnit:"minute",rangeInMS:5*W.MINUTE},{interval:30,timeUnit:"minute",rangeInMS:30*W.MINUTE},{interval:60,timeUnit:"minute",rangeInMS:60*W.MINUTE},{interval:"day",rangeInMS:W.DAY},{interval:"month",rangeInMS:W.MONTH},{interval:"year",rangeInMS:W.YEAR}],this.charts.chart=this.chart,this.styles={},this.currentVectorParameters=W.clone(W.ChartEngine.currentVectorParameters),W.extend(this,t),t.container&&(this.registerHTMLElements(),this.chart.width=this.chart.container.clientWidth-this.chart.yAxis.width,this.setCandleWidth(this.layout.candleWidth,this.chart),this.chart.canvasHeight=this.chart.container.clientHeight,W.useOldWheelLogic&&!W.FireFoxWheelWorkaround)){a.b9s(1),e=a.P9s(0,"2");for(var r=1;706391544!==a.i5s(r.toString(),r.toString().length,35736);r++)e+=2;a.i5s(e.toString(),e.toString().length,74125),i=W.isIE?function(t){var e;if(W.ChartEngine.insideChart){t.preventDefault();for(var i=0;i<W.ChartEngine.registeredContainers.length;i++)e=W.ChartEngine.registeredContainers[i].stx,W.ChartEngine.crosshairX>=e.left&&W.ChartEngine.crosshairX<=e.right&&W.ChartEngine.crosshairY>=e.top&&W.ChartEngine.crosshairY<=e.bottom&&e.mouseWheel(t,"onmousewheel")}}:function(t){W.ChartEngine.insideChart&&t.preventDefault()},this.addDomEventListener(document.body,"wheel",i),W.FireFoxWheelWorkaround=!0}this.construct()},W.ChartEngine.drawingLine=!1,W.ChartEngine.resizingPanel=null,W.ChartEngine.vectorType="",W.ChartEngine.crosshairX=0,W.ChartEngine.crosshairY=0,W.ChartEngine.insideChart=!1,W.ChartEngine.overXAxis=!1,W.ChartEngine.overYAxis=!1,W.ChartEngine.currentColor="auto",W.ChartEngine.drawingTools={},W.ChartEngine.useAnimation=!0,W.ChartEngine.ipadMaxTicks=1500,W.ChartEngine.enableCaching=!1,W.ChartEngine.ignoreTouch=!1,W.ChartEngine.useOldAndroidClear=!0,W.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:"auto",axisLabel:!0,fibonacci:{trend:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},fibs:[{level:-.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:1.272,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:1.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:2.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:4.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}],extendLeft:!1,printLevels:!0,printValues:!1,timezone:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}},annotation:{font:{style:null,size:null,weight:null,family:null}}},W.ChartEngine.defaultDisplayTimeZone=null,W.ChartEngine.Chart=function(){this.xAxis=new W.ChartEngine.XAxis,this.yAxis=new W.ChartEngine.YAxis,this.symbolObject={symbol:null},this.series={},this.seriesRenderers={},this.xaxis=[],this.state={},this.endPoints={},this.defaultChartStyleConfig={},this.baseline=W.clone(this.baseline)},W.ChartEngine.YAxis=function(t){for(var e in t)this[e]=t[e];this.name||(this.name=W.uniqueID()),"none"==this.position&&(this.width=0)},W.ChartEngine.XAxis=function(t){for(var e in t)this[e]=t[e]},W.ChartEngine.Panel=function(t,e){this.yAxis=e||new W.ChartEngine.YAxis,this.name=t,this.state={}},W.extend(W.ChartEngine.YAxis.prototype,{high:null,low:null,shadow:null,logHigh:null,logLow:null,logShadow:null,multiplier:null,bottom:null,top:null,height:null,left:null,width:null},!0),W.ChartEngine.YAxis.prototype.maxDecimalPlaces=null,W.ChartEngine.YAxis.prototype.max=null,W.ChartEngine.YAxis.prototype.min=null,W.ChartEngine.YAxis.prototype.decimalPlaces=null,W.ChartEngine.YAxis.prototype.idealTickSizePixels=null,W.ChartEngine.YAxis.prototype.minimumPriceTick=null,W.ChartEngine.YAxis.prototype.fractional=null,W.ChartEngine.YAxis.prototype.displayBorder=!0,W.ChartEngine.YAxis.prototype.displayGridLines=!0,W.ChartEngine.YAxis.prototype.noDraw=null,W.ChartEngine.YAxis.prototype.drawCurrentPriceLabel=!0,W.ChartEngine.YAxis.prototype.drawSeriesPriceLabels=!0,W.ChartEngine.YAxis.prototype.drawPriceLabels=!0,W.ChartEngine.YAxis.prototype.goldenRatioYAxis=!0,W.ChartEngine.YAxis.prototype.yaxisLabelStyle=null,W.ChartEngine.YAxis.prototype.justifyRight=null,W.ChartEngine.YAxis.prototype.flipped=!1,W.ChartEngine.YAxis.prototype.textBackground=!1,W.ChartEngine.YAxis.prototype.priceFormatter=null,W.ChartEngine.YAxis.prototype.bottomOffset=0,W.ChartEngine.YAxis.prototype.topOffset=0,W.ChartEngine.YAxis.prototype.initialMarginTop=10,W.ChartEngine.YAxis.prototype.initialMarginBottom=10,yt.c9s(0),W.ChartEngine.YAxis.prototype.zoom=yt.t6s("0",0),W.ChartEngine.YAxis.prototype.scroll=0,Object.defineProperty(W.ChartEngine.YAxis.prototype,"width",{configurable:!0,enumerable:!0,get:function(){return this._dynamicWidth||this._width},set:function(t){this._width=t,this._dynamicWidth<t&&(this._dynamicWidth=NaN)}}),W.ChartEngine.YAxis.prototype.width=50,W.ChartEngine.YAxis.prototype.textStyle=null,W.ChartEngine.YAxis.prototype.position=null,W.ChartEngine.YAxis.defaultShadowBreaks=[[1e3,2],[5,4],[.001,8]],W.ChartEngine.YAxis.smallChartShadowBreaks=[[10,2],[1,4]],W.ChartEngine.YAxis.prototype.pretty=!0,W.ChartEngine.YAxis.prototype.increments=[1,2.5,5],W.ChartEngine.YAxis.prototype.prettySemiLog=!0,W.ChartEngine.YAxis.prototype.shadowBreaks=W.ChartEngine.YAxis.defaultShadowBreaks,W.extend(W.ChartEngine.Panel.prototype,{name:null,display:null,chart:null,yAxis:null,shareChartXAxis:null,top:null,bottom:null,height:null,percent:null},!0),W.extend(W.ChartEngine.XAxis.prototype,{formatter:null,adjustTimeZone:!0,idealTickSizePixels:null,timeUnit:null,timeUnitMultiplier:null,displayBorder:!0,displayGridLines:!0,noDraw:null,minimumLabelWidth:50,futureTicks:!0,futureTicksInterval:1},!0),W.extend(W.ChartEngine.Chart.prototype,{symbol:null,symbolObject:{symbol:null},symbolDisplay:null,series:{},seriesRenderers:{},scroll:0,isComparison:!1,forcePercentComparison:!0,maxTicks:0,tension:null,currentMarketData:{},masterData:null,dataSet:null,scrubbed:null,dataSegment:null,segmentImage:null,baseline:{includeInDataSegment:!1,defaultLevel:null,userLevel:null,actualLevel:null},xAxis:null,xaxis:[],xaxisFactor:30,decimalPlaces:2,dynamicYAxis:!1,roundit:100,legendRenderer:W.drawLegend,customChart:null,yaxisPaddingRight:null,yaxisPaddingLeft:null,tickCache:{},allowScrollPast:!0,allowScrollFuture:!0,whiteSpaceFutureTicks:0,hideDrawings:!1,defaultPlotField:"Close",defaultChartStyleConfig:{},lockScroll:!1,includeOverlaysInMinMax:!0,gaplines:null,lineStyle:null,lineApproximation:!0,highLowBars:!1,standaloneBars:!1,barsHaveWidth:!1},!0),W.ChartEngine.prototype.setDrawingContainer=function(t){this.drawingContainer=t},W.ChartEngine.prototype.isHistoricalMode=function(){var t,e,i,a,r,n;return t=new Date,e=!0,i=this.masterData,!!this.isHistoricalModeSet&&(i.length&&(a=this.getFirstLastDataRecord(i,"DT",!0),(e=(r=this.standardMarketIterator(a.DT)).next()<=t)&&W.ChartEngine.isDailyInterval(r.interval)&&(n=this.chart.market.getOpen())&&t<n&&(t.setHours(0,0,0,0),+t==+r.begin&&(e=!1))),e)},W.ChartEngine.prototype.convertToDataZone=function(t){var e;return(t||0===t)&&this.dataZone&&(e=W.convertTimeZone(t,null,this.dataZone),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),t},W.ChartEngine.isDailyInterval=function(t){return"day"==t||"week"==t||"month"==t},W.ChartEngine.prototype.needDifferentData=function(t){var e,i,a,r;return e=this.layout,i=W.ChartEngine.isDailyInterval(t.interval),a=W.ChartEngine.isDailyInterval(e.interval),r=!1,this.dontRoll||!a?e.interval!=t.interval&&(r=!0):i!=a&&(r=!0),i||t.timeUnit||(t.timeUnit="minute"),a||e.timeUnit||(e.timeUnit="minute"),t.timeUnit!=e.timeUnit&&(r=!0),r},W.ChartEngine.chartShowsHighs=function(t){return console.warn("CIQ.ChartEngine.chartShowsHighs() has been deprecated. Please check one of the appropriate renderer properties instead: stxx.chart.highLowBars, stxx.chart.standaloneBars, or stxx.chart.barsHaveWidth."),1!={line:1,colored_line:1,mountain:1,colored_mountain:1,baseline_delta:1,baseline_delta_mountain:1,histogram:1,scatterplot:1,step:1,colored_step:1}[t]},W.ChartEngine.prototype.debug=function(){},W.ChartEngine.prototype.fps=function(n,s){var o,l,h;n=n||5,o=(new Date).getTime(),l=0,h=this,yt.b9s(5),console.log(yt.P9s(" seconds",n,"Running fps() for ")),function t(){var e,i,a=yt;a.c9s(2);var r=a.P9s(15919,8,995,5,10,200);if(e=((new Date).getTime()-o)/r,n<e)return a.b9s(3),i=a.P9s(l,e),a.b9s(4),console.log(a.t6s(i,"FPS=")),void(s&&s(i));h.draw(),l++,W.ChartEngine.useAnimation?requestAnimationFrame(t):setTimeout(t,0)}()},t.STXChart=W.ChartEngine,W.ChartEngine.DrawingDescriptor={name:"",render:null,intersected:null,click:null,abort:null},W.ChartEngine.prototype.prepend=function(t,e){var i,a;return yt.c9s(4),i=yt.t6s(t,"prepend"),this instanceof W.ChartEngine?(a=this.hasOwnProperty(i)?this[i]:[],this[i]=[e].concat(a)):(a=W.ChartEngine.prototype[i]||[],W.ChartEngine.prototype[i]=[e].concat(a)),{method:i,func:e}},W.ChartEngine.prototype.append=function(t,e){var i,a;return yt.c9s(4),i=yt.P9s(t,"append"),this instanceof W.ChartEngine?(a=this.hasOwnProperty(i)?this[i]:[],this[i]=a.concat(e)):(a=W.ChartEngine.prototype[i]||[],W.ChartEngine.prototype[i]=a.concat(e)),{method:i,func:e}},W.ChartEngine.prototype.removeInjection=function(t){var e,i;if(e=t.method,this instanceof W.ChartEngine){if(!this[e])return;for(i=0;i<this[e].length;i++)if(this[e][i]==t.func)return void this[e].splice(i,1)}else{if(!W.ChartEngine.prototype[e])return;for(i=0;i<W.ChartEngine.prototype[e].length;i++)if(W.ChartEngine.prototype[e][i]==t.func)return void W.ChartEngine.prototype[e].splice(i,1)}},W.ChartEngine.prototype.remove=function(t){var e=yt;this instanceof W.ChartEngine?(e.c9s(4),delete this[e.t6s(t,"append")],e.c9s(4),delete this[e.P9s(t,"prepend")]):(e.c9s(4),delete W.ChartEngine.prototype[e.P9s(t,"append")],e.b9s(4),delete W.ChartEngine.prototype[e.P9s(t,"prepend")])},W.ChartEngine.registeredContainers=[],W.ChartEngine.handleContextMenu=function(t){var e;t||(t=event);for(var i=0;i<W.ChartEngine.registeredContainers.length;i++)if((e=W.ChartEngine.registeredContainers[i].stx)&&e.anyHighlighted)return t.preventDefault&&t.preventDefault(),!1},W.ChartEngine.prototype.positionMarkers=function(){},W.ChartEngine.prototype.plugins={},W.ChartEngine.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;">save</span>',annotationCancel:'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;">cancel</span>',mSticky:'<div class="stx_sticky"> <span class="mStickyInterior"></span> <span class="mStickyRightClick"><span class="overlayEdit stx-btn" style="display:none"><span>&nbsp;</span></span> <span class="overlayTrashCan stx-btn" style="display:none"><span>&nbsp;</span></span> <span class="mouseDeleteInstructions"><span>(</span><span class="mouseDeleteText">right-click to delete</span><span class="mouseManageText">right-click to manage</span><span>)</span></span></span></div>',crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:'<div class="stx_jump_today" style="display:none"><span></span></div>',floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>'},W.ChartEngine.prototype.registerHTMLElements=function(){var t,e,i,a,r,n,s,o,l,h,c,u,p=yt;t=2;for(var d=1;-1363316342!==p.A5s(d.toString(),d.toString().length,54708);d++)e=this.chart.container,t+=2;for(var g in 319785488!==p.A5s(t.toString(),t.toString().length,29904)&&(e=this.chart.container),e=this.chart.container,W.ChartEngine.htmlControls)if(void 0===this.chart[g]&&void 0===this.controls[g]){if(!this.allowZoom&&"chartControls"==g)continue;if(p.c9s(4),i=P(p.P9s(g,"."),e))this.chart[g]=i,this.controls[g]=i;else{if(!(a=W.ChartEngine.htmlControls[g]))continue;(r=document.createElement("DIV")).innerHTML=a,i=r.firstChild,e.appendChild(i),this.chart[g]=i,this.controls[g]=i,W.appendClassName(i,g)}}n=this.controls.chartControls,s=this.controls.home,n&&(o=P(".stx-zoom-in",n),l=P(".stx-zoom-out",n),W.safeClickTouch(o,(c=this,function(t){c.allowZoom&&c.zoomIn(t),t.stopPropagation()})),W.safeClickTouch(l,(h=this,function(t){h.allowZoom&&h.zoomOut(t),t.stopPropagation()})),W.touchDevice||(this.makeModal(o),this.makeModal(l))),s&&(W.safeClickTouch(s,(u=this,function(t){t.stopPropagation(),u.isHistoricalMode()?(delete u.layout.range,u.newChart(u.chart.symbol,null,null,function(){u.home({animate:!1})},null)):u.home({animate:!0})})),W.touchDevice||this.makeModal(s))},W.ChartEngine.prototype.makeModal=function(t){var e;e=this,t.onmouseover=function(t){e.modalBegin()},t.onmouseout=function(t){e.modalEnd()}},W.ChartEngine.prototype.cloneStyle=function(t){var e,i,a,r,n,s,o;for(var l in i=!(e={}),t)if(a=t[l],"backgroundAttachment"==l&&(i=!0),i)a&&a.constructor==String&&isNaN(l)&&(e[l]=a);else if(isNaN(l))e[l.replace(W.camelCaseRegExp,c)]=a;else if(r=t.getPropertyValue(a)){for(n=0,s=(a=a.split("-")).length,o=a[0];++n<s;)o+=a[n].charAt(0).toUpperCase()+a[n].slice(1);e[o]=r}for(var h=1;-1394118650!==yt.A5s(h.toString(),h.toString().length,95710);h++)return e;function c(t){for(var e=1;639656854!==yt.i5s(e.toString(),e.toString().length,79203);e++)return t[0].toUpperCase();return-890802006!==yt.i5s(2..toString(),2..toString().length,46663)?t[0].toUpperCase():t[1].toUpperCase()}return yt.A5s(2..toString(),2..toString().length,25754),e},W.ChartEngine.prototype.canvasStyle=function(t){var e,i,a;return(e=this.styles[t])||((i=document.createElement("div")).className=t,this.container.appendChild(i),a=getComputedStyle(i),e=this.styles[t]=this.cloneStyle(a),this.container.removeChild(i),a||(this.styles[t]=null)),e},W.ChartEngine.prototype.colorOrStyle=function(t){return-1!=t.indexOf("#")?t:-1!=t.indexOf("(")?t:"transparent"==t?t:this.canvasStyle(t)},W.ChartEngine.prototype.clearStyles=function(){this.styles={},this.defaultColor=""},W.ChartEngine.prototype.setStyle=function(t,e,i){this.styles[t]||this.canvasStyle(t),this.styles[t]||(this.styles[t]={}),this.styles[t][W.makeCamelCase(e)]=i},W.ChartEngine.prototype.setThemeSettings=function(t){var e;this.styles={},this.chart.container.style.backgroundColor="",this.defaultColor="",t&&((e=new W.ThemeHelper({stx:this})).settings=t,e.update()),this.updateListeners("theme"),this.changeOccurred("theme"),this.displayInitialized&&(this.headsUpHR(),this.clearPixelCache(),this.updateListeners("theme"),this.draw())},W.ChartEngine.prototype.canvasFont=function(t,e){var i,a,r,n=yt;if(e||(e=this.chart.context),i=this.canvasStyle(t)){n.b9s(4),n.t6s(9102,828),n.c9s(6);var s=n.t6s(5777,10,52008);n.b9s(7),n.P9s(13040,6,6,2604),n.c9s(1);var o=n.P9s(108352,115124);n.b9s(8);var l=n.t6s(8,7585,13);n.b9s(8),n.P9s(67341,74810,12),n.b9s(4);var h=n.t6s(16,8851);n.b9s(8);var c=n.P9s(38,389,19);n.b9s(9);var u=n.P9s(17,18,6030,17);n.c9s(4);var p=n.P9s(3411,189);n.c9s(8);var d=n.P9s(14,3109,2);if(n.c9s(1),n.t6s(18,8546),-1==(a=i.fontStyle+(s!=o?" ":h<l?5815:525.21<c?u:p)+i.fontWeight+" "+i.fontSize+(!(732<d)||" ")+i.fontFamily).indexOf("undefined")){r=2;for(var g=1;-161522235!==n.A5s(g.toString(),g.toString().length,74154);g++)e.font=a,r+=2;876478665!==n.A5s(r.toString(),r.toString().length,84001)&&(e.font=a),e.font=a}else this.styles[t]=null,n.c9s(4),console.log(n.t6s(t,"bad css style for class "))}},W.ChartEngine.prototype.canvasColor=function(t,e){var i,a,r;e||(e=this.chart.context),(i=this.canvasStyle(t))&&((a=i.color)||(a=this.defaultColor),yt.c9s(1),e.globalAlpha=yt.t6s(0,"1"),e.fillStyle=a,e.strokeStyle=a,void 0!==(r=i.opacity)&&(e.globalAlpha=r))},W.ChartEngine.prototype.getCanvasFontSize=function(t){var e;return(e=this.canvasStyle(t).fontSize)||(e="12"),parseInt(W.stripPX(e),10)},W.ChartEngine.prototype.getCanvasColor=function(t){return this.canvasStyle(t).color},W.ChartEngine.hideDates=function(){return!1},W.ChartEngine.prototype.runPrepend=function(t,e,i){var a,r,n;if(yt.b9s(4),a=yt.P9s(t,"prepend"),!(r=(r=this.hasOwnProperty(a)?this[a]:[]).concat(W.ChartEngine.prototype[a]||[])).length)return!1;i||(i=this);for(var s=0;s<r.length;s++)if(n=r[s].apply(i,e))return n;return!1},W.ChartEngine.prototype.runAppend=function(t,e,i){var a,r,n;if(yt.b9s(4),a=yt.t6s(t,"append"),!(r=(r=this.hasOwnProperty(a)?this[a]:[]).concat(W.ChartEngine.prototype[a]||[])).length)return!1;i||(i=this);for(var s=0;s<r.length;s++)if(n=r[s].apply(i,e))return n;return!1},W.ChartEngine.registerDrawingTool=function(t,e){W.ChartEngine.drawingTools[t]=e},W.ChartEngine.prototype.createBlock=function(t,e,i,a,r,n){n||(n=this.chart.context),void 0!==a&&(this.canvasColor(r,n),n.fillRect(t,i,e,a),n.globalAlpha=1)},W.ChartEngine.prototype.changeOccurred=function(t){var e;this.currentlyImporting||(this.changeCallback&&(console.warn("CIQ.ChartEngine.changeCallback has been deprecated. Please use addEventListener()"),this.changeCallback(this,t)),e={stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout,drawings:this.drawingObjects},"layout"==t?this.dispatch("layout",e):"vector"==t?this.dispatch("drawing",e):"theme"==t?this.dispatch("theme",e):"preferences"==t&&this.dispatch("preferences",e))},W.ChartEngine.prototype.setChartType=function(t){var e,i;e=this.layout,i=this.chart,"ohlc"!=e.aggregationType&&(e.aggregationType="ohlc",i.canvas&&this.createDataSet()),e.chartType=t,this.setMainSeriesRenderer(!0),i.defaultChartStyleConfig={type:t},this.displayInitialized&&this.draw(),this.changeOccurred("layout")},W.ChartEngine.prototype.setAggregationType=function(t){var e;!(this.layout.chartType="candle")!==(e=this.chart).baseline.userLevel&&(e.baseline.userLevel=e.baseline.defaultLevel,e.panel.yAxis.scroll=W.ChartEngine.YAxis.prototype.scroll),this.layout.aggregationType=t,this.setMainSeriesRenderer(),e.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},W.ChartEngine.prototype.setChartScale=function(t){var e,i;e=this.chart,t||(t="linear"),(i={percent:!0,relative:!0})[t]?this.setComparison(t,e,W.Comparison.initialPrice):i[this.layout.chartScale]&&this.setComparison(!1,e),this.layout.chartScale=t,e.canvas&&this.draw(),this.changeOccurred("layout")},W.ChartEngine.prototype.flipChart=function(t){this.layout.flipped!=t&&(this.layout.flipped=t,this.chart.yAxis.flipped=t,this.changeOccurred("layout"),this.draw())},W.ChartEngine.prototype.setAdjusted=function(t){this.layout.adj=t,this.chart.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},W.ChartEngine.prototype.setVolumeUnderlay=function(t){this.layout.volumeUnderlay=t,this.chart.canvas&&this.draw(),this.changeOccurred("layout")},W.ChartEngine.prototype.serializeDrawings=function(){return console.warn("CIQ.ChartEngine.serializeDrawings() has been deprecated. Please use exportDrawings()"),this.exportDrawings()},W.ChartEngine.prototype.exportDrawings=function(){var t;t=[];for(var e=0;e<this.drawingObjects.length;e++)t.push(this.drawingObjects[e].serialize());return t},W.ChartEngine.prototype.abortDrawings=function(t){var e;!1!==t&&(t=!0);for(var i=this.drawingObjects.length-1;0<=i;i--)(e=this.drawingObjects[i]).abort(!0),!t&&e.permanent||this.drawingObjects.splice(i,1)},W.ChartEngine.prototype.reconstructDrawings=function(t){console.warn("CIQ.ChartEngine.reconstructDrawings() has been deprecated. Please use importDrawings()"),this.importDrawings(t)},W.ChartEngine.prototype.importDrawings=function(t){var e,i,a;if(W.Drawing)for(var r=0;r<t.length;r++)"fibonacci"==(e=t[r]).name&&(e.name="retracement"),(i=W.ChartEngine.drawingTools[e.name])||W.Drawing[e.name]&&(i=W.Drawing[e.name],W.ChartEngine.registerDrawingTool(e.name,i)),i&&((a=new i).reconstruct(this,e),this.drawingObjects.push(a))},W.ChartEngine.prototype.clearDrawings=function(t,e){var i,a;!1!==e&&(e=!0),i=W.shallowClone(this.drawingObjects),this.abortDrawings(e),t?this.undoStamps=[]:this.undoStamp(i,W.shallowClone(this.drawingObjects)),this.changeOccurred("vector"),this.cancelTouchSingleClick=!0,W.clearCanvas(this.chart.tempCanvas,this),this.draw(),(a=this.controls.mSticky)&&(a.style.display="none",a.children[0].innerHTML="")},W.ChartEngine.prototype.createDrawing=function(t,e){var i,a;if(W.Drawing){for(var r in(i=new W.Drawing[t]).reconstruct(this,e),(a=new W.Drawing[t]).stx=this,a.copyConfig(),a)i[r]=i[r]||a[r];return this.drawingObjects.push(i),this.draw(),i}},W.ChartEngine.prototype.removeDrawing=function(t){for(var e=0;e<this.drawingObjects.length;e++)if(this.drawingObjects[e]==t)return this.drawingObjects.splice(e,1),this.changeOccurred("vector"),void this.draw()},W.ChartEngine.prototype.dateFromTick=function(t,e,i){var a,r,n,s,o;return e||(e=this.chart),o=!1,0===(a=e.dataSet.length)&&(e.dataSet[0]={},e.dataSet[0].DT=new Date,a=e.dataSet.length,o=!0),r=t<0?(n=this.standardMarketIterator(e.dataSet[0].DT)).previous(Math.abs(t)):a<=t?(n=this.standardMarketIterator(e.dataSet[a-1].DT),yt.b9s(10),n.next(yt.t6s(1,a,t))):e.dataSet[t].DT,s=i?new Date(r.getTime()):W.yyyymmddhhmm(r),o&&delete e.dataSet[0].DT,s},W.ChartEngine.prototype.calculateYAxisMargins=function(t){var e,i=yt;t.zoom=t.initialMarginTop+t.initialMarginBottom,i.c9s(11);var a=i.P9s(13,24,156);if(t.scroll=(t.initialMarginTop-t.initialMarginBottom)/a,t.zoom>t.height){t.zoom=0,e=2;for(var r=1;-927369843!==i.i5s(r.toString(),r.toString().length,98477);r++)t.scroll=1,e+=2;981724467!==i.i5s(e.toString(),e.toString().length,59835)&&(t.scroll=0)}},W.ChartEngine.prototype.getLabelOffsetInPixels=function(t,e){var i,a,r=yt;if(i=!(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[e]),"roundRectArrow"!=this.yaxisLabelStyle||i&&this.extendLastTick&&0!==t.yaxisPaddingRight)return 0;r.b9s(1);var n=r.t6s(15,17);return a=this.getCanvasFontSize("stx_yaxis")+3*n,r.c9s(12),r.t6s(a,1,"0.66")},W.ChartEngine.prototype.home=function(t){var e,i,a,r,n,s;function o(t,e,i){return function(){l(t),e.scroll=i,t.draw()}}function l(t){var e;for(var i in t.panels){e=t.panels[i].yaxisLHS.concat(t.panels[i].yaxisRHS);for(var a=0;a<e.length;a++)t.calculateYAxisMargins(e[a])}}if(this.swipe.amplitude=0,e=this.layout,"object"!=typeof t&&(t={maintainWhitespace:t}),void 0===t.maintainWhitespace&&(t.maintainWhitespace=!0),this.cancelTouchSingleClick=!0,this.chart.dataSet&&this.chart.dataSet.length){for(var h in this.micropixels=0,i=Math.floor(this.chart.width/e.candleWidth),this.charts)if(a=this.charts[h],!t.chart||t.chart==a){for(r=0,t.maintainWhitespace&&0<=this.preferences.whitespace&&(r=this.preferences.whitespace),(t.whitespace||0===t.whitespace)&&(r=t.whitespace),r<(n=this.getLabelOffsetInPixels(a,e.chartType))&&(r=n),s=Math.min(i,a.dataSet.length),this.chart.allowScrollPast&&(s=i),this.micropixels=this.chart.width-s*e.candleWidth-r,this.preferences.whitespace=r;this.micropixels>e.candleWidth;)s++,this.micropixels-=e.candleWidth;for(;this.micropixels<0;)s--,this.micropixels+=e.candleWidth;if(this.micropixels-=e.candleWidth,s++,!(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[e.chartType])){yt.c9s(13);var c=yt.t6s(13,12,2,13,39);this.micropixels+=e.candleWidth/("2"*c)}t.animate?this.scrollTo(a,s,o(this,a,s)):(a.scroll=s,l(this))}this.draw()}else this.draw()},W.ChartEngine.prototype.isHome=function(){var t,e,i;return e=(t=this.chart).dataSet,i=t.animatingHorizontalScroll,this.pixelFromTick(e.length-(i?2:1),t)<t.width+t.panel.left},W.ChartEngine.prototype.tickFromDate=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y,v=yt;if(e||(e=this.chart),!e.dataSet||!e.dataSet.length)return 0;if(i||(v.b9s(0),i=v.P9s("0",0)),e||(e=this.chart),r=t.constructor==Date?t:W.strToDateTime(t),W.ChartEngine.isDailyInterval(this.layout.interval)||r.setMinutes(r.getMinutes()+i),n=r.getTime(),(s=e.tickCache[n])||0===s){v.c9s(1),o=v.t6s(0,"2");for(var b=1;-1440185510!==v.A5s(b.toString(),b.toString().length,94096);b++)return v.c9s(14),v.P9s(a?2:7,s);return-680180248!==v.i5s(o.toString(),o.toString().length,56973)?(v.c9s(14),v.P9s(a?2:7,s)):(v.b9s(4),v.P9s(a?1:0,s))}if(l=e.dataSet[0].DT,h=e.dataSet[e.dataSet.length-1].DT,l<=r&&r<=h){for(c=0,u=e.dataSet.length,p=0;++p<100;){if(v.b9s(15),d=Math.floor(v.t6s(c,2,u)),+(g=e.dataSet[d].DT)==+r)return e.tickCache[n]=d;if(g<r&&(c=d),r<g){if(e.dataSet[d-1].DT<r)return v.b9s(1),e.tickCache[n]=v.t6s(1,d),e.tickCache[n]+(a?1:0);if(+e.dataSet[d-1].DT==+r)return v.b9s(1),e.tickCache[n]=v.t6s(1,d),v.b9s(1),v.P9s(1,d);u=d}}if(100<=p)return console.log("!!!Warning: tickFromDate() did not find match."),e.dataSet.length}return v.b9s(16),m=(f=v.P9s(l,r))?l:h,y=this.standardMarketIterator(m).futureTick({end:r}),s=f?-1*y:e.dataSet.length-1+y,e.tickCache[n]=s},W.ChartEngine.XAxisLabel=function(t,e,i){this.hz=t,this.grid=e,this.text=i},W.ChartEngine.prototype.createXAxis=function(t){var e,i;return t.dataSegment.length<=0?null:t.xAxis.noDraw?null:(e=[t],(i=this.runPrepend("createXAxis",e))||(i=this.mainSeriesRenderer&&this.mainSeriesRenderer.createXAxis?this.mainSeriesRenderer.createXAxis(t):this.createTickXAxisWithDates(t),this.headsUpHR(),this.runAppend("createXAxis",e)),i)},W.ChartEngine.prototype.resetDynamicYAxis=function(t){var e,i,a;if(!this.runPrepend("resetDynamicYAxis",arguments)){for(var r in e=!1,this.panels)if(i=this.panels[r],(!t||!t.chartName||i.chart.name===t.chartName)&&i.yaxisLHS&&i.yaxisRHS){a=i.yaxisLHS.concat(i.yaxisRHS);for(var n=0;n<a.length;n++)a[n]._dynamicWidth&&(e=!(a[n]._dynamicWidth=NaN))}!e||t&&t.noRecalculate||this.calculateYAxisPositions(),this.runAppend("resetDynamicYAxis",arguments)}},W.ChartEngine.prototype.adjustYAxisHeightOffset=function(t,e){var i,a;(i=e.topOffset)+(a=e.bottomOffset)>t.height&&(console.log("The sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the panel height. Both values will be reset to 0."),e.bottomOffset=0,e.topOffset=0),this.xaxisHeight||0===this.xaxisHeight||(this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+4,(this.chart.xAxis.displayBorder||this.axisBorders)&&(this.xaxisHeight+=3)),(this.xAxisAsFooter&&t.bottom>this.chart.canvasHeight-this.xaxisHeight||!this.xAxisAsFooter&&t==this.chart.panel)&&(a+=this.xaxisHeight),e.top=t.top+i,e.bottom=t.bottom-a},W.ChartEngine.prototype.plotYAxisGrid=function(t){var e,i;this.runPrepend("plotYAxisGrid",arguments)||(e=this.chart.context,(i=t.yAxis).yAxisPlotter&&i.yAxisPlotter.draw(e,"grid"),this.runAppend("plotYAxisGrid",arguments))},W.ChartEngine.prototype.plotYAxisText=function(t){var e,i,a;function r(t){t.yAxisPlotter&&!t.noDraw&&t.width&&(t.justifyRight?e.textAlign="right":!1===t.justifyRight&&(e.textAlign="left"),t.yAxisPlotter.draw(e,"text"),e.textBaseline="alphabetic",e.textAlign="left")}if(!this.runPrepend("plotYAxisText",arguments)){for(this.canvasFont("stx_yaxis"),this.canvasColor("stx_yaxis"),(e=this.chart.context).textBaseline="middle",i=t.yaxisLHS,e.textAlign="right",a=0;a<i.length;a++)r(i[a]);for(i=t.yaxisRHS,e.textAlign="left",a=0;a<i.length;a++)r(i[a]);this.runAppend("plotYAxisText",arguments)}},W.ChartEngine.prototype.decimalPlacesFromPriceTick=function(t){return t<1e-4?8:t<.01?4:t<.1?2:t<1?1:0},W.ChartEngine.prototype.formatYAxisPrice=function(t,e,i,a,r){var n,s,o,l,h;return null==t||isNaN(t)?"":(n=a||e.yAxis,(s=i)||0===s||(s=n.printDecimalPlaces),s||0===s||(s=this.decimalPlacesFromPriceTick(n.priceTick)),o=n==e.chart.yAxis?2e4:1e3,n.priceTick>=o?W.condenseInt(t):t=(l=this.internationalizer)&&!1!==r?((h=l.priceFormatters.length)<=s&&(yt.b9s(17),s=yt.P9s("1",1,h)),l.priceFormatters[s].format(t)):t.toFixed(s))},W.ChartEngine.prototype.padOutPrice=function(t,e){var i,a,r,n,s=yt;if(0!==t&&(!t||"number"!=typeof t))return"";e||0===e||(e=t),s.c9s(4),i=s.t6s(e,""),s.b9s(18),s.P9s(3,16,758,232,13),s.b9s(6);var o=s.P9s(6242,17,99874);s.b9s(19);var l=s.P9s(14,16e3,4e3,17,136127,16);s.c9s(15);var h=s.P9s(15,32,17);return a=i.substring(i.indexOf(o<=9894?".":l)).length-h,a=1e3<=e?Math.max(a,0):e<2?Math.max(a,4):Math.max(a,2),t=(r=this.internationalizer)?((n=r.priceFormatters.length)<=a&&(s.c9s(1),a=s.t6s(1,n)),r.priceFormatters[a].format(t)):t.toFixed(a)},W.ChartEngine.prototype.formatPrice=function(t,e){var i,a,r,n,s=yt;if(0!==t&&(!t||void 0===t))return"";if(e||(e=this.currentPanel),e||(e=this.chart.panel),!e)return t.toString();if(!(i=e.decimalPlaces)&&0!==i){a=2;for(var o=1;1664530497!==s.i5s(o.toString(),o.toString().length,31470);o++)i=e.chart.decimalPlaces,a+=2;256309561!==s.i5s(a.toString(),a.toString().length,75062)&&(i=e.chart.decimalPlaces),i=e.chart.decimalPlaces}return i||0===i?t=(r=this.internationalizer)?((n=r.priceFormatters.length)<=i&&(s.c9s(1),i=s.P9s(1,n)),r.priceFormatters[i].format(t)):t.toFixed(i):t.toString()},W.ChartEngine.prototype.createCrosshairs=function(){var t,e;this.runPrepend("createCrosshairs",arguments)||!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||(t=this.controls.crossX,e=this.controls.crossY,t&&(t.onmousedown||(t.onmousedown=function(t){return t||(t=event),t.preventDefault&&t.preventDefault(),!1})),e&&(e.onmousedown||(e.onmousedown=function(t){return t||(t=event),t.preventDefault&&t.preventDefault(),!1})),this.runAppend("createCrosshairs",arguments))},W.ChartEngine.prototype.determineMinMax=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d;n=-1*Number.MAX_VALUE,s=Number.MAX_VALUE,o=!1,l=t.length,r&&(l=r);for(var g=0;g<=l+1;g++)if(e.length&&(h=g==l?this.getPreviousBar(this.chart,e[0],0):g==l+1?this.getNextBar(this.chart,e[0],l-1):t[g]),h){if(!a)if(h.transform)o=!0,h=h.transform;else if(o)continue;for(var f=c=0;f<e.length;f++)if(u=W.existsInObjectChain(h,e[f])){"number"==typeof(p=u.obj[u.member])&&(p=[p]);for(var m=0;m<p.length;m++)((d=p[m])||0===d)&&(i?(n<(c+=d)&&(n=c),c<s&&(s=c)):(n<d&&(n=d),d<s&&(s=d)))}}return n==-1*Number.MAX_VALUE&&(n=0),s==Number.MAX_VALUE&&(s=0),[s,n]},W.ChartEngine.prototype.calculateYAxisRange=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g=yt;if(i==Number.MAX_VALUE&&(a=i=0),r=t.height,s=n=null,this.adjustYAxisHeightOffset(t,e),e.height=e.bottom-e.top,o=Math.round(Math.abs(r/5)),0<=e.zoom&&r-Math.abs(e.scroll)<o){g.b9s(20);var f=g.t6s(1);g.c9s(21);var m=g.P9s(11,21,10);e.scroll=(r-o)*(e.scroll<0?f:m)}if(l=t.chart.name===t.name&&t.yAxis.name===e.name,h=0<i&&(this.layout.semiLog||"log"==this.layout.chartScale)&&!t.chart.isComparison&&"pandf"!=this.layout.aggregationType,i||0===i){if(a-i==0)1==(c=Math.pow(10,-(i.toString()+".").split(".")[1].length))&&(c=100),g.c9s(4),n=g.P9s(c,i),g.c9s(1),s=g.P9s(c,i);else if(l&&h&&(a||0===a))u=Math.log(i)/Math.LN10,p=Math.log(a)/Math.LN10,n=Math.pow(10,p),s=Math.pow(10,u);else{g.b9s(14),d=g.t6s(1,"2");for(var y=1;-367176258!==g.A5s(y.toString(),y.toString().length,64804);y++)n=a,s=i,d+=2;1498099803!==g.i5s(d.toString(),d.toString().length,5315)&&(n=a,s=i)}e.high=n,e.low=s}(e.max||0===e.max)&&(e.high=e.max),(e.min||0===e.min)&&(e.low=e.min),e.shadow=e.high-e.low,l&&(e.semiLog!=h&&(this.clearPixelCache(),e.semiLog=h),e.flipped=this.layout.flipped)},W.ChartEngine.prototype.renderYAxis=function(t){var e,i,a,r,n;if(!this.runPrepend("renderYAxis",arguments)){for(var s in this.rendererAction(t,"yAxis"),this.panels)if((e=this.panels[s]).chart==t)for(i=e.yaxisRHS.concat(e.yaxisLHS),n={},a=0;a<i.length;a++)r=i[a],this.calculateYAxisRange(e,r,r.lowValue,r.highValue),W.Studies&&(n=W.Studies.getYAxisParameters(this,r)),n.yAxis=r,this.createYAxis(e,n),this.drawYAxis(e,n),W.Studies&&W.Studies.doPostDrawYAxis(this,r);this.runAppend("renderYAxis",arguments)}},W.ChartEngine.prototype.initializeDisplay=function(g){var f,m,y,v,b,t,e,i,a,r,n,s,o,l,h,c,u=yt;if(!this.runPrepend("initializeDisplay",arguments)){for(var p in m=!(f=[]),y=this,v=["Close","Open","High","Low"],b=[g.defaultPlotField||"Close"],e=null,i=Math.floor((g.width-this.micropixels)/this.layout.candleWidth),g.scroll>g.maxTicks&&g.maxTicks>i+1&&(e=g.dataSegment.length-1),a=[],this.panels){a=(r=this.panels[p]).yaxisLHS.concat(r.yaxisRHS);for(var d=0;d<a.length;d++)n=a[d],f=[],s=g.transformFunc&&n==g.panel.yAxis,S(n,r),t=this.mainSeriesRenderer&&this.mainSeriesRenderer.determineMax?this.mainSeriesRenderer.determineMax(g.dataSegment,f,m,!s,e):this.determineMinMax(g.dataSegment,f,m,!s,e),this.mainSeriesRenderer&&g.yAxis==n&&(this.mainSeriesRenderer.highLowBars&&this.highLowBars[this.layout.chartType]||(o=this.mainSeriesRenderer||{},g.panel==r&&o.params&&o.params.baseline&&"mountain"!=o.params.type&&((l=g.baseline.actualLevel)||0===l)&&(s&&(l=g.transformFunc(this,g,l)),h=Math.max(l-t[0],t[1]-l),this.repositioningBaseline?t=[g.lowValue,g.highValue]:(u.b9s(1),t[0]=u.P9s(h,l),u.b9s(4),t[1]=u.P9s(h,l))))),n.lowValue=t[0],n.highValue=t[1],n==g.panel.yAxis&&(g.lowValue=n.lowValue,g.highValue=n.highValue)}(c=g.state.aggregation)&&c.box&&(g.lowValue-=c.box/2,g.highValue+=c.box/2),this.runAppend("initializeDisplay",arguments)}function S(t,e){var i,a,r,n,s,o,l;if(i=y.layout&&y.layout.studies&&y.layout.studies[t.name]){for(var h in i.outputMap)f.push(h);i.study&&(i.study.renderer?f=f.concat(W.createObjectChainNames(h,v)):i.study.seriesFN||(f=f.concat(W.createObjectChainNames(h,b))));for(var c=0;c<=2;c++)f.push(i.name+"_hist"+(c||""))}if(e){for(var u in g.seriesRenderers)if(n=(r=(a=g.seriesRenderers[u]).params).panel,(r.yAxis||!y.panels[n]||y.panels[n].yAxis)==t){s=a.highLowBars?v:b,m=a.useSum;for(var p=0;p<a.seriesParams.length;p++)(o=a.seriesParams[p]).subField?f=f.concat(W.createObjectChainNames(o.symbol,[o.subField])).concat(o.symbol):o.symbol?f=f.concat(W.createObjectChainNames(o.symbol,s)).concat(o.symbol):o.field?f.push(o.field):t==g.panel.yAxis&&(f=f.concat(s))}if(g.includeOverlaysInMinMax)for(var d in y.overlays)(l=y.overlays[d]).panel==e.name&&l.name!=t.name&&(y.getYAxisByName(l.panel,l.name)||e.yAxis)==t&&S({name:l.name})}}},W.ChartEngine.prototype.computePosition=function(t,e){return void 0===e&&(e=0),t*this.layout.candleWidth+e+this.micropixels},W.ChartEngine.prototype.computeColor=function(t,e){return t<e?"stx_candle_up":e<t?"stx_candle_down":"stx_candle_shadow"},W.ChartEngine.prototype.computeLength=function(t,e){var i,a;return i=this.pixelFromPrice(t),a=this.pixelFromPrice(e),yt.b9s(1),yt.t6s(i,a)},W.ChartEngine.prototype.setSeriesRenderer=function(t){var e;return e=t.params,this.chart.seriesRenderers[e.name]?this.chart.seriesRenderers[e.name]:(e.yAxis&&(e.yAxis=this.addYAxis(this.panels[e.panel],e.yAxis)),(t.stx=this).chart.seriesRenderers[e.name]=t)},W.ChartEngine.prototype.setMainSeriesRenderer=function(t){var e,i,a,r,n,s,o;e="high",e+="LowB",e+="ars",i=this.layout.chartType,a=this.layout.aggregationType,r=this.chart.customChart,(n=this.mainSeriesRenderer)&&(n.removeAllSeries(t),this.removeSeriesRenderer(n),n=this.mainSeriesRenderer=null),s={panel:this.chart.panel.name,name:"_main_series",highlightable:!1,useChartLegend:!0},r&&r.chartType&&(i=r.chartType),"none"!=i&&(a&&"ohlc"!=a&&(i=a),(o=W.Renderer.produce(i,s))&&(this.setSeriesRenderer(o).attachSeries(null,{display:this.chart.symbol}),this.mainSeriesRenderer=o),[e,"standaloneBars","barsHaveWidth"].forEach(function(t){this.chart[t]=this.mainSeriesRenderer&&this.mainSeriesRenderer[t]}.bind(this)))},W.ChartEngine.prototype.setMarket=function(t,e){for(var i in e||(e=this.chart),e.market=new W.Market(t),this.layout.marketSessions)e.market.disableSession(i,this.layout.marketSessions[i])},W.ChartEngine.prototype.setMarketFactory=function(t){this.marketFactory=t},W.ChartEngine.prototype.removeSeriesRenderer=function(t){var e,i,a;for(var r in this.chart.seriesRenderers)if(t.params.name===this.chart.seriesRenderers[r].params.name)return i=(e=this.chart.seriesRenderers[t.params.name]).params.yAxis,a=this.panels[e.params.panel],delete this.chart.seriesRenderers[t.params.name],void this.deleteYAxisIfUnused(a,i)},W.ChartEngine.prototype.getSeriesRenderer=function(t){return this.chart.seriesRenderers[t]},W.ChartEngine.prototype.startClip=function(t,e){var i,a,r,n,s,o;if(t||(t="chart"),a=(i=this.panels[t]).yAxis,(r=this.chart).context.save(),r.context.beginPath(),n=i.left,s=i.width,e){o=2;for(var l=1;-850056213!==yt.A5s(l.toString(),l.toString().length,39746);l++)n=6,s=this.width,o+=2;551403592!==yt.i5s(o.toString(),o.toString().length,43124)&&(n=0,s=this.width)}else i.yaxisLHS&&i.yaxisLHS.length&&(n++,s--);r.context.rect(n,a.top,s,a.height),r.context.clip()},W.ChartEngine.prototype.endClip=function(){this.chart.context.restore()},W.ChartEngine.prototype.setLineStyle=function(t,e){var i,a;i={},t&&"object"==typeof t?i=t:i.color=t,i.color||i.pattern||i.width||(i=null),e||(e=this.chart),yt.c9s(14),a=yt.P9s(1,"1"),i&&i.width&&(a=i.width),i&&i.pattern&&(i.pattern=W.borderPatternToArray(a,i.pattern)),e.lineStyle=i},W.ChartEngine.prototype.setGapLines=function(t,e){var i;if(e||(e=this.chart),i={},t&&"object"==typeof t)i=t;else{if("boolean"==typeof t)return e.gaplines=t;i.color=t}i.color||i.pattern||i.fillMountain||(i=null),i&&i.pattern&&(i.pattern=W.borderPatternToArray(i.pattern)),i&&i.width<=0&&(i.width=null),e.gaplines=i},W.ChartEngine.prototype.getGapColorFunction=function(n,s,o,l,h){return"object"!=typeof o&&(o={color:o}),function(t,e,i){var a,r;return(a=h?h(t,e,i):o).color&&(a=a.color),(r=e[n])||0===r||(r=e[s]),i||!r&&0!==r?l?("object"!=typeof l&&(l="string"==typeof l?{color:l}:{}),{color:l.color||a,pattern:l.pattern||o.pattern,width:l.width||o.width}):null:{color:a,pattern:o.pattern,width:o.width}}},W.ChartEngine.prototype.drawLineChart=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g;return n=(r=this.chart).context,s=r.lineStyle||{},o=this.canvasStyle(e),a||(a={}),this.startClip(t.name),(l=a.width||s.width||o.width)&&parseInt(l,10)<=25?n.lineWidth=Math.max(1,W.stripPX(l)):n.lineWidth=1,a.pattern=a.pattern||s.pattern||o.borderTopStyle,a.pattern=W.borderPatternToArray(n.lineWidth,a.pattern),this.canvasColor(e),(h=a.color||s.color)&&(n.strokeStyle=h),a.skipProjections=!0,c=a.field||r.defaultPlotField,u=a.subField||r.defaultPlotField||"Close",(p=a.gapDisplayStyle)||!1===p||(p=a.gaps),p||!1===p||(p=r.gaplines),p||(p="transparent"),a.gapDisplayStyle=p,d=this.getGapColorFunction(c,u,{color:n.strokeStyle,pattern:a.pattern,width:n.lineWidth},p,i),t.chart.tension&&(a.tension=t.chart.tension),(g=this.plotDataSegmentAsLine(c,t,a,d)).colors.length||g.colors.push(n.strokeStyle),n.lineWidth=1,this.endClip(),a.returnObject?g:g.colors},W.ChartEngine.prototype.getPreviousBar=function(t,e,i){for(var a=1;-1403345446!==yt.A5s(a.toString(),a.toString().length,26933);a++)return this.getNextBarInternal(t,e,i,!1);if(1153472269!==yt.A5s(2..toString(),2..toString().length,14571))return this.getNextBarInternal(t,e,i,-1)},W.ChartEngine.prototype.getNextBar=function(t,e,i){return yt.c9s(14),this.getNextBarInternal(t,e,i,yt.t6s(1,"1"))},W.ChartEngine.prototype.getNextBarInternal=function(t,e,i,a){var r,n,s,o;if(r=t.dataSegment&&t.dataSegment[i])for(n=r.tick;0<n&&n<t.dataSet.length;)if(yt.b9s(4),n=yt.P9s(a,n),(s=t.dataSet[n])&&(o=W.existsInObjectChain(s,e))&&o.obj[o.member])return s;return null},W.ChartEngine.prototype.getFirstLastDataRecord=function(t,e,i){var a;for(a=i?t.length-1:0;0<=a&&a<t.length;){if(t[a]&&void 0!==t[a][e])return t[a];i?a--:a++}return null},W.ChartEngine.prototype.updateFloatHRLabel=function(t){var e,i,a,r,n,s,o;if(e=t.yaxisLHS.concat(t.yaxisRHS),i=this.crossYActualPos?this.crossYActualPos:this.cy,this.floatCanvas.isDirty&&W.clearCanvas(this.floatCanvas,this),!this.controls.crossX||"none"!=this.controls.crossX.style.display){this.controls.crossY&&(a=t.width,"roundRectArrow"==this.yaxisLabelStyle&&(a-=7),this.controls.crossY.style.left=t.left+"px",yt.b9s(4),this.controls.crossY.style.width=yt.P9s("px",a));for(var l=0;l<e.length;l++)r=e[l],n=this.transformedPriceFromPixel(i,t,r),isNaN(n)||(r.min||0===r.min)&&n<r.min||(r.max||0===r.max)&&n>r.max||(s=null,r!==t.chart.yAxis&&(s=this.decimalPlacesFromPriceTick(r.priceTick),(r.decimalPlaces||0===r.decimalPlaces)&&(s=r.decimalPlaces)),n=r.priceFormatter?r.priceFormatter(this,t,n,s):this.formatYAxisPrice(n,t,s,r),o=this.canvasStyle("stx-float-price"),this.createYAxisLabel(t,n,i,o.backgroundColor,o.color,this.floatCanvas.context,r),this.floatCanvas.isDirty=!0)}},W.ChartEngine.prototype.headsUpHR=function(){var t,e,i,a,r,n;function s(t){W.efficientDOMUpdate(i,"innerHTML",t)}if(!this.runPrepend("headsUpHR",arguments)&&(t=this.currentPanel)){if(e=t.chart,this.updateFloatHRLabel(t),(i=this.controls.floatDate)&&!e.xAxis.noDraw)if(a=this.barFromPixel(this.cx),(r=e.xaxis[a])&&r.DT)s(W.displayableDate(this,e,r.DT));else if(r&&r.index)s(r.index);else{n=2;for(var o=1;-2059814797!==yt.A5s(o.toString(),o.toString().length,20367);o++)s(""),n+=2;-1993387748!==yt.i5s(n.toString(),n.toString().length,36207)&&s("")}this.runAppend("headsUpHR",arguments)}},W.ChartEngine.prototype.setCrosshairColors=function(){},W.ChartEngine.prototype.magnetize=function(){var t,e,i,a,r,n,s,o,l,h,c,u,p,d=yt;if(this.magnetizedPrice=null,!this.runPrepend("magnetize",arguments)&&!this.repositioningDrawing&&("annotation"!=(t=this.currentVectorParameters.vectorType)&&"callout"!=t||!W.ChartEngine.drawingLine)&&"projection"!=t&&"freeform"!=t){if((e=this.currentPanel).name==e.chart.name){if(i=e.chart,(a=this.tickFromPixel(W.ChartEngine.crosshairX-this.left,i))>i.dataSet.length)return;if(!(r=i.dataSet[a]))return;if(n=this.valueFromPixel(this.cy,e),this.magnetizedPrice=r.Close,this.mainSeriesRenderer&&this.mainSeriesRenderer.highLowBars||this.highLowBars[this.layout.chartType]){s=["Open","High","Low","Close"],o=1e9;for(var g=0;g<s.length;g++)l=r[s[g]],Math.abs(n-l)<o&&(d.b9s(1),o=Math.abs(d.P9s(l,n)),this.magnetizedPrice=l)}h=this.pixelFromTick(a,i),c=this.pixelFromPrice(this.magnetizedPrice,this.currentPanel),(u=this.chart.tempCanvas.context).beginPath(),u.lineWidth=1,d.c9s(7);var f=d.P9s(267,6,32,13);p=Math.max(this.layout.candleWidth,12)/f,u.arc(h,c,Math.min(p,8),0,2*Math.PI,!1),u.fillStyle="#FFFFFF",u.strokeStyle="#000000",u.fill(),u.stroke(),u.closePath(),this.chart.tempCanvas.style.display="block"}this.runAppend("magnetize",arguments)}},W.ChartEngine.prototype.positionCrosshairsAtPointer=function(){var t,e,i,a,r,n,s,o,l=yt;if((t=this.currentPanel)&&!(!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||this.runPrepend("positionCrosshairsAtPointer",arguments))){e=t.chart,i=this.container.getBoundingClientRect(),this.top=i.top,this.left=i.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cy=this.crossYActualPos=this.backOutY(W.ChartEngine.crosshairY),this.cx=this.backOutX(W.ChartEngine.crosshairX),a=this.crosshairTick=this.tickFromPixel(this.cx,e),l.c9s(21);var h=l.P9s(6,20,14);if(r=this.pixelFromTick(a,e)-h,this.controls.crossX&&(l.b9s(4),this.controls.crossX.style.left=l.P9s("px",r)),r>=t.right||r<=t.left)this.undisplayCrosshairs();else{if(n="chart"==t.name?this.preferences.horizontalCrosshairField:t.horizontalCrosshairField,s=e.dataSet,n&&s&&a<s.length&&-1<a){l.c9s(14),o=l.P9s(1,"2");for(var c=1;-1160848623!==l.i5s(c.toString(),c.toString().length,35151);c++)this.crossYActualPos=this.pixelFromPrice(s[a][n],t),o+=2;1309553548!==l.i5s(o.toString(),o.toString().length,62978)&&(this.crossYActualPos=this.pixelFromPrice(s[a][n],t))}this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+"px"),this.runAppend("positionCrosshairsAtPointer",arguments)}}},W.ChartEngine.prototype.doDisplayCrosshairs=function(){var t,e,i,a,r,n;if(!this.runPrepend("doDisplayCrosshairs",arguments)){if(this.displayInitialized){t=2;for(var s=1;-28052795!==yt.A5s(s.toString(),s.toString().length,70149);s++)e=this.floatCanvas,i=this.currentVectorParameters.vectorType,t+=2;335146211!==yt.i5s(t.toString(),t.toString().length,3509)&&(e=this.floatCanvas,i=this.currentVectorParameters.vectorType),this.layout.crosshair||""!==i&&i?W.Drawing&&W.Drawing[i]&&(new W.Drawing[i]).dragToDraw?this.undisplayCrosshairs():this.overXAxis||this.overYAxis||!W.ChartEngine.insideChart&&!this.grabbingScreen?this.undisplayCrosshairs():""!==this.openDialog?this.undisplayCrosshairs():(r=(a=this.controls).crossX,n=a.crossY,r&&""!==r.style.display&&(r.style.display="",n&&(n.style.display=""),this.preferences.magnet&&i?(W.unappendClassName(this.container,"stx-crosshair-on"),this.chart.tempCanvas.style.display="block"):W.appendClassName(this.container,"stx-crosshair-on")),a.floatDate&&!this.chart.xAxis.noDraw&&(a.floatDate.style.visibility="",this.currentPanel&&this.updateFloatHRLabel(this.currentPanel)),e&&(e.style.display="block")):this.undisplayCrosshairs()}this.runAppend("doDisplayCrosshairs",arguments)}},W.ChartEngine.prototype.undisplayCrosshairs=function(){var t,e,i,a,r;this.runPrepend("undisplayCrosshairs",arguments)||(e=(t=this.controls).crossX,i=t.crossY,e&&"none"!=e.style.display&&(e.style.display="none",i&&(i.style.display="none")),this.displayInitialized&&t.floatDate&&(t.floatDate.style.visibility="hidden"),W.unappendClassName(this.container,"stx-crosshair-on"),(a=this.floatCanvas)&&a.isDirty&&(W.clearCanvas(a,this),"none"!=a.style.display&&(a.style.display="none")),this.activeDrawing||this.repositioningDrawing||this.editingAnnotation||(r=this.chart.tempCanvas)&&"none"!=r.style.display&&(r.style.display="none"),this.runAppend("undisplayCrosshairs",arguments))},W.ChartEngine.prototype.modalBegin=function(){this.openDialog="modal",this.undisplayCrosshairs()},W.ChartEngine.prototype.modalEnd=function(){this.cancelTouchSingleClick=!0,this.openDialog="",this.doDisplayCrosshairs()},W.ChartEngine.prototype.updateChartAccessories=function(){var t,e,i,a,r,n,s,o=yt;if(null!==this.accessoryTimer&&clearTimeout(this.accessoryTimer),!W.ChartEngine.drawingLine&&W.touchDevice&&(new Date).getTime()-this.lastAccessoryUpdate<100)this.accessoryTimer=setTimeout((s=this,function(){s.updateChartAccessories()}),10);else if(this.chart.dataSet&&!this.runPrepend("updateChartAccessories",arguments)){if(this.positionCrosshairsAtPointer(),this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),(t=this.controls.floatDate)&&((e=this.currentPanel)||(e=this.chart.panel),e)){i=e.chart,a=!0===this.xAxisAsFooter?0:this.chart.canvasHeight-e.chart.bottom,o.c9s(22);var l=o.P9s(9,16,10,12);if(r=t.offsetWidth/l-.5,(n=this.pixelFromTick(this.crosshairTick,i)-r)<0)n=0;else if(n>this.width-2*r-1){o.b9s(23);var h=o.P9s(13,20,11,44);n=this.width-2*r-h}W.efficientDOMUpdate(t.style,"left",n+"px"),W.efficientDOMUpdate(t.style,"bottom",a+"px")}this.headsUpHR(),this.runAppend("updateChartAccessories",arguments)}},W.ChartEngine.prototype.mousemove=function(t){var e;e=t||event,W.ChartEngine.crosshairX=e.clientX,W.ChartEngine.crosshairY=e.clientY,-1<e.type.toLowerCase().indexOf("enter")?this.positionCrosshairsAtPointer():this.runPrepend("mousemove",arguments)||this.displayInitialized&&""===this.openDialog&&(this.mousemoveinner(e.clientX,e.clientY),this.runAppend("mousemove",arguments))},W.ChartEngine.prototype.setResizeTimer=function(t){var e;this.resizeDetectMS=t,this.resizeTimeout=t?(this.resizeTimeout&&clearInterval(this.resizeTimeout),setInterval((e=this,function(){e.chart.canvas&&(W.isAndroid||e.chart.canvas.height==Math.floor(e.devicePixelRatio*e.chart.container.clientHeight)&&e.chart.canvas.width==Math.floor(e.devicePixelRatio*e.chart.container.clientWidth)||e.resizeChart())}),t)):(this.resizeTimeout&&clearInterval(this.resizeTimeout),null)},W.ChartEngine.prototype.whichYAxis=function(t,e){var i,a;if(void 0===e&&(e=this.cx),t){i=t.yaxisLHS.concat(t.yaxisRHS);for(var r=0;r<i.length;r++)if((a=i[r]).left<=e&&a.left+a.width>=e)return a}return null},W.ChartEngine.prototype.findHighlights=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,E,v,b,S,x,k,w,C,T,D,N=yt;if(i=this.preferences[t?"highlightsTapRadius":"highlightsRadius"],this.highlightViaTap=t,a=this.cy,r=this.cx,this.anyHighlighted=!1,this.currentPanel){if(!this.preferences.magnet||this.activeDrawing||this.repositioningDrawing||W.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing&&(e=!0),n=!1,s=null,o=e?{}:{forceShow:!0,type:"drawing"},l=this.currentPanel.chart,h={x0:this.tickFromPixel(r-i,l),x1:this.tickFromPixel(r+i,l),y0:this.valueFromPixel(a-i,this.currentPanel),y1:this.valueFromPixel(a+i,this.currentPanel),r:i},this.repositioningDrawing&&h.x1-h.x0<2?(h.x1++,h.x0--):h.x1==h.x0&&(h.x0-=.5,h.x1+=.5),!l.hideDrawings)for(var M=this.drawingObjects.length-1;0<=M;M--)c=this.drawingObjects[M],this.panels[c.panelName]&&(this.repositioningDrawing&&this.repositioningDrawing!=c||(u=c.highlighted,p=c.panelName==this.currentPanel.name,c.repositioner=c.intersected(this.crosshairTick,this.crosshairValue,h),p=p&&c.repositioner,!e&&p?(u?(s=c,this.anyHighlighted&&this.singleDrawingHighlight&&(c.highlighted=!1)):u!=c.highlight(!0)&&(s||(s=c),this.anyHighlighted&&this.singleDrawingHighlight&&(c.highlighted=!1),n=!0),this.anyHighlighted=!0):u!=c.highlight(!1)&&(n=!0),c.highlighted&&(o.noDelete=c.permanent,o.noEdit="function"!=typeof this.callbacks.drawingEdit&&!this.callbackListeners.drawingEdit.length)));for(d in this.overlays)(g=this.overlays[d]).prev=g.highlight,g.highlight=!1;for(d in l.seriesRenderers){m=l.seriesRenderers[d];for(var A=0;A<m.seriesParams.length;A++)(f=m.seriesParams[A]).prev=f.highlight,f.highlight=!1}if(!e){y=2;for(var P=1;502949382!==N.i5s(P.toString(),P.toString().length,1198);P++)E=this.barFromPixel(r),y+=2;if(390536001!==N.i5s(y.toString(),y.toString().length,3453)&&(E=this.barFromPixel(r)),0<=E&&E<l.dataSegment.length){for(d in this.overlays)if((g=this.overlays[d]).panel==this.currentPanel.name&&!1!==g.study.isHighlighted)if("function"!=typeof g.study.isHighlighted){if(l.dataSegment[E]){for(var F in g.outputMap)if(g.outputMap[F]&&I.call(this,E,h,F,this.getYAxisByName(g.panel,g.name))){g.highlight=!0,this.anyHighlighted=!0;break}if(g.highlight)break}}else g.study.isHighlighted(this,r,a)&&(g.highlight=!0,this.anyHighlighted=!0);for(d in l.seriesRenderers)if(S=(b=l.seriesRenderers[d]).params.panel,b.params.highlightable&&S==this.currentPanel.name)for(var _=0;_<b.seriesParams.length;_++)if((x=(f=b.seriesParams[_]).field)||b.highLowBars||(x=this.defaultPlotField||"Close"),f.symbol&&f.subField&&(x+="--\x3e"+f.subField),!(k=b.params.yAxis)&&S&&(k=this.panels[S].yAxis),b.params.step&&0<E){if(!b.caches[f.id])continue;if(!(v=b.caches[f.id][E])&&0!==v)continue;N.c9s(1),(((w=b.caches[f.id][N.P9s(1,E)])||0===w)&&v<=a+i&&a-i<=w||a-i<=v&&w<=a+i)&&(f.highlight=!0,this.anyHighlighted=!0)}else I.call(this,E,h,x,k,b.caches[f.id])&&(f.highlight=!0,this.anyHighlighted=!0)}}for(d in this.overlays)(g=this.overlays[d]).highlight&&(this.anyHighlighted=!0,C=g.inputs.display||g.name,o={message:C=this.translateIf(C),noDelete:g.permanent,noEdit:!g.editFunction,type:"study"},s=null),g.prev!=g.highlight&&(n=!0);for(d in l.seriesRenderers)if((T=l.seriesRenderers[d]).params.highlightable){D=T.params.yAxis?T.params.yAxis.textStyle:null;for(var L=0;L<T.seriesParams.length;L++)(f=T.seriesParams[L]).highlight&&(this.anyHighlighted=!0,o={message:f.display||f.symbol,backgroundColor:f.color||D,noDelete:f.permanent,type:"series"},s=null),f.prev!=f.highlight&&(n=!0)}n&&(this.draw(),this.displaySticky(this.anyHighlighted?o:{}),this.clearMeasure(),s&&s.measure()),this.anyHighlighted||this.setMeasure()}function I(t,e,i,r,a){var n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M;function A(t){var e,i;if(!t)return null;if((e=t[l])&&(e[h]||0===e[h])&&(e=e[h]),!n.transformFunc||r!=n.yAxis)return e;if(t.transform&&l in t.transform){i=2;for(var a=1;-1071131223!==N.A5s(a.toString(),a.toString().length,50656);a++)e=t.transform[l],i+=2;return 1649007357!==N.A5s(i.toString(),i.toString().length,66705)&&(e=t.transform[l]),e&&(e[h]||0===e[h])&&(e=e[h]),e}return n.transformFunc(this,n,e)}if(n=this.chart,s=this.currentPanel,r||(r=s.yAxis),o=i.split("--\x3e"),l=o[0],(h=o[1])||(h="Close"),c=n.dataSegment[E],v=y=m=null,b=new Array(3),c&&a){for(d=a[E],m=c.tick,(d||0===d)&&(b[0]=1),S=E-1;0<=S;S--)if(a[S]||0===a[S]){g=a[S],N.c9s(10),y=N.t6s(S,E,m),b[1]=1;break}for(S=E+1;S<n.dataSegment.length;S++)if(a[S]||0===a[S]){f=a[S],N.b9s(10),v=N.P9s(S,E,m),N.b9s(0),b[N.t6s("2",0)]=1;break}}if(null===y&&(u=this.getPreviousBar.call(this,n,i,E))){y=u.tick,x=2;for(var P=1;1812271646!==N.i5s(P.toString(),P.toString().length,38242);P++)g=A(u),x+=2;1620775637!==N.i5s(x.toString(),x.toString().length,46238)&&(g=A(u))}if(null===v&&(p=this.getNextBar.call(this,n,i,E))){v=p.tick,k=2;for(var F=1;-1037140936!==N.i5s(F.toString(),F.toString().length,68313);F++)f=A(p),k+=2;-1313177239!==N.A5s(k.toString(),k.toString().length,84008)&&(f=A(p)),f=A(p)}if(null===y&&null===v)return!1;if(a||(d=A(c),g=A(u),f=A(p),m=c.tick,u&&(y=u.tick),p&&(v=p.tick)),g||0===g||(y=g=0),!f&&0!==f){d||0===d?(f=d,b[2]=b[0]):(f=g,N.b9s(0),b[N.t6s("2",0)]=b[1]),N.c9s(3);var _=N.P9s(21,21);v=n.dataSet.length-_}return d||0===d||(d=f,m=v,b[0]=b[2],0===g&&0===y&&(g=d,y=m,N.b9s(1),b[N.P9s(0,"1")]=b[0])),w=this.pixelFromTransformedValue.bind(this),d=(C=this.valueFromPixel.bind(this))(b[0]?d:w(d,s,r),s),g=C(b[1]?g:w(g,s,r),s),f=C(b[2]?f:w(f,s,r),s),T=W.convertBoxToPixels(this,s.name,e),D=W.convertBoxToPixels(this,s.name,{x0:y,y0:g,x1:m,y1:d}),M=W.convertBoxToPixels(this,s.name,{x0:m,y0:d,x1:v,y1:f}),!(!W.boxIntersects(T.x0,T.y0,T.x1,T.y1,D.x0,D.y0,D.x1,D.y1,"segment")&&!W.boxIntersects(T.x0,T.y0,T.x1,T.y1,M.x0,M.y0,M.x1,M.y1,"segment"))}},W.ChartEngine.prototype.positionSticky=function(t){var e,i,a=yt;e=Math.max(this.cy-t.offsetHeight-60,0),i=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-t.offsetWidth),a.b9s(4),t.style.top=a.P9s("px",e),a.b9s(4),t.style.right=a.t6s("px",i)},W.ChartEngine.prototype.displaySticky=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g=yt;if((e=this.controls.mSticky)&&(i=P(".mStickyInterior",e)))if(a=P(".overlayTrashCan",e),r=P(".overlayEdit",e),n=P(".mouseDeleteInstructions",e),W.unappendClassName(n,"no_edit"),t&&"object"==typeof t||(t={message:t,backgroundColor:arguments[1],forceShow:arguments[2],noDelete:arguments[3],type:arguments[4]}),s=t.message,o=t.backgroundColor,l=t.forceShow,h=t.noDelete,c=t.noEdit,u=t.type,l||s){s||(s=""),i.style.display=l&&!s?(i.style.backgroundColor="",i.style.color="","none"):(i.style.color=o?(i.style.backgroundColor=o,W.chooseForegroundColor(o)):i.style.backgroundColor="","inline-block"),i.innerHTML=s,(p=P(".mStickyRightClick",e)).className="mStickyRightClick",u&&(g.b9s(4),W.appendClassName(p,g.P9s(u,"rightclick_"))),p.style.display="",d=2;for(var f=1;-8512435!==g.i5s(f.toString(),f.toString().length,75836);f++)e.style.display="inline-block",this.positionSticky(e),d+=2;1708582879!==g.i5s(d.toString(),d.toString().length,83242)&&(e.style.display="",this.positionSticky(e)),h||!0===this.bypassRightClick||this.bypassRightClick[u]?p.style.display="none":this.highlightViaTap||this.touches.length?(a&&(a.style.display="inline-block"),r&&!c&&(r.style.display="inline-block"),n&&(n.style.display="none"),W[(""===s?"":"un")+"appendClassName"](e,"hide")):(c&&W.appendClassName(n,"no_edit"),n&&(n.style.display="block"))}else i.innerHTML="",e.style.display="none",a&&(a.style.display="none"),r&&(r.style.display="none"),n&&(n.style.display="none")},W.ChartEngine.prototype.setMeasure=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d,g=yt;if(!this.runPrepend("setMeasure",arguments)){if(n=P(".mMeasure",this.chart.drawingContainer),s="",t){if(!1!==e){if(o=(o=Math.round(Math.abs(t-e)*this.chart.roundit)/this.chart.roundit).toFixed(this.chart.yAxis.printDecimalPlaces),this.internationalizer?s+=this.internationalizer.numbers.format(o):s+=o,g.b9s(21),l=g.t6s(t,e,t),.1<Math.abs(l))g.b9s(14),l=Math.round(g.t6s(100,l));else if(.01<Math.abs(l)){g.b9s(0),h=-g.t6s("487649400",0),c=2;for(var f=1;g.i5s(f.toString(),f.toString().length,19416)!==h;f++){g.b9s(24);var m=g.t6s(206,19,17,11);g.c9s(1);var y=g.t6s(140,150);l=Math.round(l*("1000"*m))/y,g.c9s(0),c+=g.t6s("2",0)}if(-2141041565!==g.i5s(c.toString(),c.toString().length,17787)){g.b9s(1);var v=g.t6s(2,6275);g.c9s(1);var b=g.t6s(5,28);l=Math.round(l/v)*b}}else l=Math.round(1e4*l)/100;l=this.internationalizer?(g.c9s(3),this.internationalizer.percent.format(g.P9s(l,100))):(g.c9s(4),g.t6s("%",l)),g.b9s(5),s+=g.P9s(")",l," (")}if(!1!==a){g.b9s(1),u=Math.abs(g.t6s(i,a)),g.b9s(1);var S=g.P9s(14,15);u=Math.round(u)+S,p=this.translateIf("Bars"),g.c9s(25),s+=g.t6s(u," "," ",p)}n&&(n.innerHTML=s)}else this.anyHighlighted||""!==this.currentVectorParameters.vectorType||this.clearMeasure();this.activeDrawing||((n=this.controls.mSticky)&&(d=n.children[0],r?(n.style.display="inline-block",d.style.display="inline-block",t&&(d.innerHTML=s),W[(""===s?"":"un")+"appendClassName"](n,"hide"),this.positionSticky(n)):(n.style.display="none",d.innerHTML="")),this.runAppend("setMeasure",arguments))}},W.ChartEngine.prototype.clearMeasure=function(){var t;(t=P(".mMeasure",this.chart.drawingContainer))&&(t.innerHTML="")},W.ChartEngine.prototype.pixelFromBar=function(t,e){var i,a;e||(e=this.chart),i=0,i=(a=this.chart.segmentImage)&&a[t]&&a[t].leftOffset?a[t].leftOffset:(t+.5)*this.layout.candleWidth,yt.c9s(26);var r=yt.t6s(85,15,7,10,20);return i=e.panel.left+Math.floor(i+this.micropixels)-r},W.ChartEngine.prototype.barFromPixel=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f=yt;if(e||(e=this.chart),i=this.chart.segmentImage,a=this.micropixels,r=this.layout.candleWidth,i){n=t-e.panel.left-a,s=2,l=i.length,f.c9s(3),h=Math.round(f.P9s(l,s)),f.b9s(27);var m=f.t6s(32,4,36,10);if((p=i[l-1].leftOffset+i[l-1].candleWidth/m)<n)return l+Math.floor((t-p-e.panel.left-a)/r);for(var y=1;y<l&&(s*=2,o=i[h])&&(c=o.leftOffset,u=o.candleWidth/2,f.b9s(1),d=f.P9s(u,c),f.c9s(4),g=f.P9s(u,c),!(0===h||d<=n&&n<g));y++)n<d?h-=Math.max(1,Math.round(l/s)):h+=Math.max(1,Math.round(l/s)),h=Math.max(0,Math.min(l-1,h));if(!i[h])for(y=0;y<l;y++)if(o=i[y]){c=o.leftOffset,f.b9s(28);var v=f.t6s(32,18,10,58);if(n<c-(u=o.candleWidth/v))return f.c9s(1),Math.max(f.t6s(0,"0"),f.t6s(1,y));if(n<c+u)return y;if(c+u<=n)return f.c9s(29),f.t6s(y,"1",0)}return h}return Math.floor((t-e.panel.left-a)/r)},W.ChartEngine.prototype.tickFromPixel=function(t,e){var i;return e||(e=this.chart),i=e.dataSet.length-e.scroll,e.segmentImage?i+=this.barFromPixel(t,e):i+=Math.floor((t-e.panel.left-this.micropixels)/this.layout.candleWidth),i},W.ChartEngine.prototype.pixelFromTick=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d=yt;if(e||(e=this.chart),i=e.dataSegment,a=e.dataSet,r=e.segmentImage,n=this.micropixels,s=i?i.length:0,o=e.panel,l=e.scroll,h=t-a.length+l,c=s?i[h]:null,r&&(c=r[h]),c&&c.leftOffset)return o.left+Math.floor(c.leftOffset+n);if(d.c9s(0),u=d.t6s("0",0),p=0,c=s?i[s-1]:null,r&&(d.c9s(1),c=r[d.P9s(1,s)]),c&&c.leftOffset&&s<t-a.length+l){d.b9s(8);var g=d.t6s(36,13,25);u=c.leftOffset-c.candleWidth/g,p=s}return u+o.left+Math.floor((t-p-a.length+l+.5)*this.layout.candleWidth+n)},W.ChartEngine.prototype.pixelFromDate=function(t,e,i,a){return this.pixelFromTick(this.tickFromDate(t,e,i,a),e)},W.ChartEngine.prototype.transformedPriceFromPixel=function(t,e,i){var a,r,n;if(e||(e=this.chart.panel),t=(a=i||e.yAxis).bottom-t,a.semiLog)n=t*a.logShadow/a.height,a.flipped?n=a.logHigh-n:n+=a.logLow,r=Math.pow(10,n);else{if(!a.multiplier)return null;r=t/a.multiplier,a.flipped?r=a.high-r:r+=a.low}return r},W.ChartEngine.prototype.priceFromPixel=function(t,e,i){var a;return e||(e=this.chart.panel),a=this.transformedPriceFromPixel(t,e,i),this.charts[e.name]&&e.chart.untransformFunc&&(i&&i!=e.yAxis||(a=e.chart.untransformFunc(this,e.chart,a,i))),a},W.ChartEngine.prototype.valueFromPixel=function(t,e,i){return e||(e=this.whichPanel(t)),e||(e=t<=0?this.panels[W.first(this.panels)]:this.panels[W.last(this.panels)]),this.priceFromPixel(t,e,i)},W.ChartEngine.prototype.valueFromPixelUntransform=function(t,e,i){return this.valueFromPixel(t,e,i)},W.ChartEngine.prototype.pixelFromPriceTransform=function(t,e,i){return this.pixelFromPrice(t,e,i)},W.ChartEngine.prototype.pixelFromTransformedValue=function(t,e,i){var a,r,n,s,o;return e||(e=this.chart.panel),r=((a=i||e.yAxis).high-t)*a.multiplier,a.semiLog&&(yt.b9s(14),n=Math.max(t,yt.P9s(1,"0")),s=Math.log(n)/Math.LN10,r=(o=a.height)-o*(s-a.logLow)/a.logShadow),r=a.flipped?a.bottom-r:a.top+r},W.ChartEngine.prototype.pixelFromPrice=function(t,e,i){var a;a=2;for(var r=1;460855670!==yt.i5s(r.toString(),r.toString().length,5709);r++)~e&&(e=this.chart.panel),a+=2;return-1952614781!==yt.A5s(a.toString(),a.toString().length,24102)&&(e||(e=this.chart.panel)),this.charts[e.name]&&e.chart.transformFunc&&(i&&i!=e.yAxis||(t=e.chart.transformFunc(this,e.chart,t,i))),this.pixelFromTransformedValue(t,e,i)},W.ChartEngine.prototype.pixelFromValueAdjusted=function(t,e,i,a){var r,n;return this.layout.adj||!this.charts[t.name]?this.pixelFromPrice(i,t,a):0<(r=Math.round(e))&&r<t.chart.dataSet.length&&(n=t.chart.dataSet[r].ratio)?(yt.b9s(14),this.pixelFromPrice(yt.t6s(n,i),t,a)):this.pixelFromPrice(i,t,a)},W.ChartEngine.prototype.adjustIfNecessary=function(t,e,i){var a,r;return this.layout.adj?i:t&&this.charts[t.name]&&0<(a=Math.round(e))&&a<t.chart.dataSet.length&&(r=t.chart.dataSet[a].ratio)?(yt.b9s(3),yt.t6s(i,r)):i},W.ChartEngine.prototype.setTransform=function(t,e,i){t.transformFunc=e,t.untransformFunc=i},W.ChartEngine.prototype.unsetTransform=function(t){delete t.transformFunc,delete t.untransformFunc;for(var e=0;t.dataSet&&e<t.dataSet.length;e++)t.dataSet[e].transform=null},W.ChartEngine.prototype.undo=function(){this.runPrepend("undo",arguments)||(this.activeDrawing&&(this.activeDrawing.abort(),this.activateDrawing(null),W.clearCanvas(this.chart.tempCanvas,this),this.draw(),W.swapClassName(this.controls.crossX,"stx_crosshair","stx_crosshair_drawing"),W.swapClassName(this.controls.crossY,"stx_crosshair","stx_crosshair_drawing"),W.ChartEngine.drawingLine=!1),this.runAppend("undo",arguments))},W.ChartEngine.prototype.undoStamp=function(t,e){this.undoStamps.push(t),this.dispatch("undoStamp",{before:t,after:e,stx:this})},W.ChartEngine.prototype.undoLast=function(){this.activeDrawing?this.undo():this.undoStamps.length&&(this.drawingObjects=this.undoStamps.pop(),this.changeOccurred("vector"),this.draw())},W.ChartEngine.prototype.addDrawing=function(t){var e;e=W.shallowClone(this.drawingObjects),this.drawingObjects.push(t),this.undoStamp(e,W.shallowClone(this.drawingObjects))},W.ChartEngine.prototype.connectTheDots=function(t,e,i,a,r,n){var s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D=yt;if(n||(n={}),"none"!=n.pattern&&(!0===r&&(r=this.chart.panel),null==a&&(a=this.chart.context),!(t.length<4))){if(s=0,o=this.chart.canvasHeight,l=this.chart.width,r){h=2;for(var M=1;1660923978!==D.A5s(M.toString(),M.toString().length,46549);M++)o=r.yAxis.bottom,h+=2;-927454609!==D.i5s(h.toString(),h.toString().length,59965)&&(o=r.yAxis.bottom),s=r.yAxis.top}a.lineWidth=1.1,"object"==typeof e?(a.strokeStyle=e.color,e.opacity?a.globalAlpha=e.opacity:a.globalAlpha=1,a.lineWidth=parseInt(W.stripPX(e.width),10)):!e||"auto"==e||W.isTransparent(e)?a.strokeStyle=this.defaultColor:a.strokeStyle=e,n.opacity&&(a.globalAlpha=n.opacity),n.lineWidth&&(a.lineWidth=n.lineWidth),c=W.borderPatternToArray(a.lineWidth,n.pattern),a.beginPath();for(var A=0;A<t.length-2;A+=2){if(u=t[A],D.c9s(30),p=t[D.P9s(A,"1")],D.c9s(4),d=t[D.P9s(2,A)],D.b9s(4),g=t[D.P9s(3,A)],isNaN(u)||isNaN(d)||isNaN(p)||isNaN(g))return;f=0,m=1,D.b9s(1),y=D.t6s(u,d),D.b9s(1),v=D.t6s(p,g);for(var P=0;P<4;P++){if(0===P&&(b=-y,D.c9s(1),S=-D.P9s(u,0)),1==P&&(b=y,D.b9s(1),S=D.P9s(u,l)),2==P&&(b=-v,D.c9s(1),S=-D.P9s(p,s)),3==P&&(b=v,D.c9s(1),S=D.t6s(p,o)),D.b9s(3),x=D.t6s(S,b),(g||0===g)&&0===b&&S<0)return!1;if(b<0){if(m<x)return!1;f<x&&(f=x)}else if(0<b){if(x<f)return!1;x<m&&(m=x)}}D.c9s(31),k=D.t6s(f,u,y),D.b9s(31),w=D.P9s(f,p,v),D.c9s(31),C=D.P9s(m,u,y),D.c9s(31),T=D.t6s(m,p,v);try{c&&c.length?a.dashedLineTo(k,w,C,T,c):(a.moveTo(k,w),a.lineTo(C,T))}catch(t){}}a.stroke(),a.closePath(),a.globalAlpha=1,a.lineWidth=1}},W.ChartEngine.prototype.plotSpline=function(t,e,i,a,r,n,s){var o;s||(s={}),"none"!=s.pattern&&(!0===n&&(n=this.chart.panel),null==r&&(r=this.chart.context),r.save(),r.lineWidth=1.1,"object"==typeof i?(r.strokeStyle=i.color,i.opacity?r.globalAlpha=i.opacity:r.globalAlpha=1,r.lineWidth=parseInt(W.stripPX(i.width),10)):!i||"auto"==i||W.isTransparent(i)?r.strokeStyle=this.defaultColor:r.strokeStyle=i,s.opacity&&(r.globalAlpha=s.opacity),s.lineWidth&&(r.lineWidth=s.lineWidth),o=W.borderPatternToArray(r.lineWidth,s.pattern),s.pattern&&r.setLineDash&&(r.setLineDash(o),r.lineDashOffset=0),r.beginPath(),l.plotSpline(t,e,r),r.stroke(),r.closePath(),r.restore())},W.ChartEngine.prototype.repositionDrawing=function(t,e){var i,a,r;i=this.panels[t.panelName],a=this.adjustIfNecessary(i,this.crosshairTick,this.valueFromPixel(this.backOutY(W.ChartEngine.crosshairY),i)),r=this.chart.tempCanvas,W.clearCanvas(r,this),e?t.render(r.context):t.reposition(r.context,t.repositioner,this.crosshairTick,a),t.measure&&t.measure()},W.ChartEngine.prototype.activateRepositioning=function(t){(this.repositioningDrawing=t)&&(this.draw(),this.repositionDrawing(t,!0)),this.chart.tempCanvas.style.display=t?"block":"none"},W.ChartEngine.prototype.activateDrawing=function(t,e){var i;return t?(e||(e=this.chart.panel),(i=W.ChartEngine.drawingTools[t])||W.Drawing[t]&&(i=W.Drawing[t],W.ChartEngine.registerDrawingTool(t,i)),i&&(this.activeDrawing=new i,this.activeDrawing.construct(this,e),!this.charts[e.name]&&this.activeDrawing.chartsOnly)?(this.activeDrawing=null,!1):(this.chart.tempCanvas.style.display="block",!0)):(this.activeDrawing=null,!(this.chart.tempCanvas.style.display="none"))},W.ChartEngine.prototype.drawingClick=function(t,e,i){var a,r,n,s;if(W.Drawing&&t&&""===this.openDialog&&(this.activeDrawing||this.activateDrawing(this.currentVectorParameters.vectorType,t))){if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw)return void(W.ChartEngine.drawingLine||this.activateDrawing(null));if(a=this.tickFromPixel(e,t.chart),r=this.panels[this.activeDrawing.panelName],n=this.adjustIfNecessary(r,a,this.valueFromPixel(i,r)),this.preferences.magnet&&this.magnetizedPrice&&(n=this.adjustIfNecessary(r,a,this.magnetizedPrice)),this.activeDrawing.click(this.chart.tempCanvas.context,a,n)){if(this.activeDrawing){W.ChartEngine.drawingLine=!1,W.clearCanvas(this.chart.tempCanvas,this),this.addDrawing(this.activeDrawing),this.activateDrawing(null),this.adjustDrawings(),this.draw(),this.changeOccurred("vector"),W.swapClassName(this.controls.crossX,"stx_crosshair","stx_crosshair_drawing"),s=2;for(var o=1;752702637!==yt.A5s(o.toString(),o.toString().length,4499);o++)W.swapClassName(this.controls.crossY,"stx_crosshair_drawing","stx_crosshair_drawing"),s+=2;-1963153756!==yt.A5s(s.toString(),s.toString().length,74650)&&W.swapClassName(this.controls.crossY,"stx_crosshair","stx_crosshair_drawing")}}else this.changeOccurred("drawing"),W.ChartEngine.drawingLine=!0,W.swapClassName(this.controls.crossX,"stx_crosshair_drawing","stx_crosshair"),W.swapClassName(this.controls.crossY,"stx_crosshair_drawing","stx_crosshair");return!0}return!1}},W.ChartEngine.prototype.whichPanel=function(t){var e;for(var i in this.panels)if(!(e=this.panels[i]).hidden&&t>e.top&&t<e.bottom)return e;return null},W.ChartEngine.prototype.mouseup=function(t){var e,i,a,r;if(!this.runPrepend("mouseup",arguments)){if(this.swipe.end=!0,this.cancelLongHold=!0,this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||250<Date.now()-this.mouseTimer)return this.changeOccurred("vector"),W.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.adjustDrawings(),void this.draw();this.activateRepositioning(null)}if(this.repositioningBaseline)return this.repositioningBaseline=null,W.unappendClassName(this.controls.baselineHandle,"stx-grab"),(e=this.mainSeriesRenderer||{}).params&&e.params.baseline&&e.params.type,void this.draw();if(i=this.userPointerDown,this.userPointerDown=!1,this.displayInitialized)if(this.grabbingScreen=!1,""===this.openDialog){if(this.grabOverrideClick)return this.overXAxis||this.overYAxis||this.swipeRelease(),W.unappendClassName(this.container,"stx-drag-chart"),this.grabOverrideClick=!1,this.doDisplayCrosshairs(),void this.updateChartAccessories();if(W.ChartEngine.insideChart&&W.unappendClassName(this.container,"stx-drag-chart"),W.ChartEngine.resizingPanel)this.releaseHandle();else{if(t||(t=event),a=this.backOutY(t.clientY),r=this.backOutX(t.clientX),t.which&&2<=t.which||t.button&&2<=t.button||t.ctrlKey)return this.anyHighlighted&&!0!==this.bypassRightClick?(this.rightClickHighlighted(),t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),t.stopPropagation(),!1):(this.dispatch("rightClick",{stx:this,panel:this.currentPanel,x:r,y:a}),!0);t.clientX<this.left||t.clientX>this.right||t.clientY<this.top||t.clientY>this.bottom||(!i||this.longHoldTookEffect&&!this.activeDrawing||this.drawingClick(this.currentPanel,r,a),this.activeDrawing||this.longHoldTookEffect||this.dispatch("tap",{stx:this,panel:this.currentPanel,x:r,y:a}),this.runAppend("mouseup",arguments))}}else W.ChartEngine.insideChart&&W.unappendClassName(this.container,"stx-drag-chart")}},W.ChartEngine.prototype.grabbingHand=function(){this.allowScroll&&this.grabbingScreen&&(W.touchDevice||W.appendClassName(this.container,"stx-drag-chart"))},W.ChartEngine.prototype.mousedown=function(t){var e,i,a,r,n,s,o,l,h,c,u,p=yt;if(!this.runPrepend("mousedown",arguments)&&(this.grabOverrideClick=!1,this.displayInitialized&&this.displayCrosshairs&&!this.repositioningDrawing&&!(this.editingAnnotation||(t||(t=event),t.which&&2<=t.which||t.button&&2<=t.button))))if(e=this.container.getBoundingClientRect(),this.top=e.top,this.left=e.left,this.right=this.left+this.width,this.bottom=this.top+this.height,t.clientX>=this.left&&t.clientX<=this.right&&t.clientY>=this.top&&t.clientY<=this.bottom){if(W.ChartEngine.insideChart=!0,this.currentPanel){this.manageTouchAndMouse&&t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,this.hasDragged=!1,this.userPointerDown=!0,p.c9s(1),i=-p.t6s(0,"100173748"),a=2;for(var d=1;p.A5s(d.toString(),d.toString().length,43030)!==i;d++)r=this.currentPanel.chart,a+=2;1924004672!==p.A5s(a.toString(),a.toString().length,2792)&&(r=this.currentPanel.chart),r=this.currentPanel.chart;for(var g=0;g<this.drawingObjects.length;g++)if((n=this.drawingObjects[g]).highlighted&&!n.permanent){if(this.cloneDrawing)return(s=new W.ChartEngine.drawingTools[n.name]).reconstruct(this,n.serialize()),this.drawingObjects.push(s),this.activateRepositioning(s),void(s.repositioner=n.repositioner);if(o=this.currentVectorParameters.vectorType,!(W.Drawing&&o&&W.Drawing[o]&&(new W.Drawing[o]).dragToDraw))return void this.activateRepositioning(n)}if((l=this.mainSeriesRenderer||{}).params&&l.params.baseline&&!1!==r.baseline.userLevel&&this.controls.baselineHandle){h=this.valueFromPixel(this.cy-5,this.currentPanel),c=this.valueFromPixel(this.cy+5,this.currentPanel),p.c9s(32);var f=p.P9s(12,5,42,15,9);if(u=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,f),r.baseline.actualLevel<Math.max(h,c)&&r.baseline.actualLevel>Math.min(h,c)&&this.cx>u)return this.repositioningBaseline={lastDraw:Date.now()},void W.appendClassName(this.controls.baselineHandle,"stx-grab")}var m;this.drawingClick(this.currentPanel,this.cx,this.cy),this.activeDrawing&&this.activeDrawing.dragToDraw||(this.grabbingScreen=!0,r.spanLock=!1,this.yToleranceBroken=!1,t||(t=event),this.grabStartX=t.clientX,this.grabStartY=t.clientY,this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=r.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(this.currentPanel),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPanel=this.currentPanel,setTimeout((m=this,function(){m.grabbingHand()}),100),this.swipeStart(r),this.longHoldTime&&this.startLongHoldTimer(),this.runAppend("mousedown",arguments))}}else W.ChartEngine.insideChart=!1},W.ChartEngine.prototype.startLongHoldTimer=function(){var t;(t=this).cancelLongHold=!1,this.longHoldTimeout&&clearTimeout(this.longHoldTimeout),this.longHoldTimeout=setTimeout(function(){t.cancelLongHold||(t.dispatch("longhold",{stx:t,panel:t.currentPanel,x:t.cx,y:t.cy}),t.longHoldTookEffect=!0)},this.longHoldTime)},W.ChartEngine.prototype.changeVectorType=function(t){this.currentVectorParameters.vectorType=t,W.Drawing.initializeSettings(this,t),W.ChartEngine.drawingLine&&this.undo(),this.setCrosshairColors(),W.ChartEngine.insideChart&&this.doDisplayCrosshairs()},W.ChartEngine.prototype.changeVectorParameter=function(t,e){var i,a,r=yt;i=2;for(var n=1;1650201258!==r.i5s(n.toString(),n.toString().length,36646);n++)"axisLabel"!=t?e="px"==e.toString()&&Number(e):"px"===t?e=Number(e):"fontSize"!=t&&(e=parseInt(e,63)/"fontSize"),a=this.currentVectorParameters,i+=2;if(-1373745541!==r.A5s(i.toString(),i.toString().length,43879)){if("axisLabel"==t)e="true"===e.toString()||Number(e);else if("lineWidth"==t)e=Number(e);else if("fontSize"==t){r.c9s(33);var s=r.P9s(15,5,12,5);e=parseInt(e,s)+"px"}a=this.currentVectorParameters}return void 0!==a[t]?(a[t]=e,!0):"font"==t.substr(0,4)&&("family"==(t=t.substr(4).toLowerCase())&&"default"==e.toLowerCase()&&(e=null),void 0!==(a=a.annotation.font)[t])&&(a[t]=e,!0)},W.ChartEngine.prototype.rightClickDrawing=function(t,e){var i;this.runPrepend("rightClickDrawing",arguments)||t.permanent||("function"==typeof this.callbacks.drawingEdit||this.callbackListeners.drawingEdit.length?this.dispatch("drawingEdit",{stx:this,drawing:t,forceEdit:e}):(t.abort()||(i=W.shallowClone(this.drawingObjects),this.removeDrawing(t),this.undoStamp(i,W.shallowClone(this.drawingObjects))),this.changeOccurred("vector")),this.runAppend("rightClickDrawing",arguments))},W.ChartEngine.prototype.rightClickOverlay=function(t,e){var i;this.runPrepend("rightClickOverlay",arguments)||((i=this.overlays[t]).editFunction?i.editFunction(e):this.removeOverlay(t),this.runAppend("rightClickOverlay",arguments))},W.ChartEngine.prototype.addOverlay=function(t){this.runPrepend("addOverlay",arguments)||(this.overlays[t.name]=t,this.runAppend("addOverlay",arguments))},W.ChartEngine.prototype.removeOverlay=function(t){var e,i,a,r;if(!this.runPrepend("removeOverlay",arguments)){for(var n in e=this.overlays[t],this.overlays){i=this.overlays[n],a=["Field"],W.Studies&&(a=W.Studies.getFieldInputs(i));for(var s=0;s<a.length;s++)e.outputMap[i.inputs[a[s]]]&&this.removeOverlay(i.name)}e&&(this.cleanupRemovedStudy(e),r=this.panels[e.panel],delete this.overlays[t],this.deleteYAxisIfUnused(r,this.getYAxisByName(r,t))),this.currentlyImporting||(this.displaySticky(),this.createDataSet(),this.changeOccurred("layout")),this.resetDynamicYAxis(),this.runAppend("removeOverlay",arguments)}},W.ChartEngine.prototype.addSeries=function(s,o,r){var t,e,n,l,i,a,h,c,u,p,d,g,f,m,y,v,b=yt;if(t=this.runPrepend("addSeries",arguments))return t;function S(a){return function(t){var e,i;t.error||(e=t.quotes,i=o.fillGaps,d.cleanupGaps||(i=!1),e=d.doCleanupGaps(e,d.chart,{cleanupGaps:i}),d.updateChartData(e,d.chart,{secondarySeries:n,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),l.loading=!1,k(d)),null===o.action||c.length||d.dispatch(d.currentlyImporting?"symbolImport":"symbolChange",{stx:d,symbol:a.symbol,symbolObject:a.symbolObject,action:o.action}),r&&r.call(d,t.error,l)}}if(e=s||null,(n=s)||(s=W.uniqueID()),o&&!0===o.panel&&(o.panel=s),l={parameters:o?W.clone(o):{},yValueCache:[],display:e,id:s,loading:!o||!1!==o.loadData},(o=l.parameters).symbol&&(n=o.symbol),o.isComparison&&(o.shareYAxis=!0),o.yAxis&&(o.yAxis=new W.ChartEngine.YAxis(o.yAxis)),W.ensureDefaults(o,{chartName:this.chart.name,symbolObject:{symbol:n},panel:this.chart.panel.name,fillGaps:!1,action:"add-series"}),"display"in o&&(l.display=o.display),i=this.charts[o.chartName],a=o.symbolObject,n=o.symbol=a.symbol,l.display||(l.display=n||o.field),l.endPoints={},o.gapDisplayStyle||!1===o.gapDisplayStyle||(o.gapDisplayStyle=o.gaps),o.isComparison){h=2;for(var x=1;-500441672!==b.i5s(x.toString(),x.toString().length,60410);x++)void 0===o.gapDisplayStyle&&(o.gapDisplayStyle="transparent"),h+=2;1517027720!==b.i5s(h.toString(),h.toString().length,4413)&&void 0!==o.gapDisplayStyle&&(o.gapDisplayStyle="")}function k(t,e){var i,a,r,n;if(i=o.renderer||"Lines",a=o.name||W.uniqueID(),o.renderer||o.name||o.color||o.chartType){if(!(r=t.getSeriesRenderer(a))){if(n={name:a,overChart:!0,useChartLegend:!0,highlightable:o.highlightable},!(r=o.chartType?(n=W.extend({panel:o.panel,yAxis:o.yAxis},n),W.Renderer.produce(o.chartType,n)):(W.ensureDefaults(o,{name:n.name,overChart:!0,useChartLegend:!0}),new W.Renderer[i]({params:o}))))return;t.setSeriesRenderer(r)}r.attachSeries(s,o),!1!==o.loadData&&r.ready()}}if(c=this.getSeries({symbolObject:a,chart:i,includeMaster:!0}),u=o.panel,this.panels[u]?o.yAxis||o.shareYAxis||(o.yAxis=new W.ChartEngine.YAxis({position:"none"})):((p=o.yAxis||new W.ChartEngine.YAxis).name=s,this.createPanel(s,u,null,null,p),o.highlightable=!1),i.series[s]=l,d=this,!o.isComparison||!i.forcePercentComparison||o.panel!=i.panel.name||o.yAxis&&o.yAxis!=i.yAxis||this.setChartScale("percent"),(g=i.masterData)||(g=i.masterData=this.masterData=[]),f=g.length,o.data&&!o.data.useDefaultQuoteFeed)S({symbol:n,symbolObject:a,action:o.action})({quotes:o.data});else if(c.length)l.endPoints=c[0].endPoints,k(this),r&&setTimeout(function(){r.call(d,null,l)},0);else if(this.quoteDriver&&!1!==o.loadData){if(y=(m=this.quoteDriver).makeParams(n,a,i),f){v=2;for(var w=1;103035759!==b.A5s(w.toString(),w.toString().length,39702);w++)y.startDate=g[0].DT,v+=2;1622759794!==b.A5s(v.toString(),v.toString().length,75479)&&(y.startDate=g[4].DT),y.endDate=this.isHistoricalMode()?g[g.length-1].DT:new Date}y.stx.isEquationChart(y.symbol)?W.fetchEquationChart(y,S(y)):W.ChartEngine.Driver.fetchData(W.QuoteFeed.SERIES,m.quoteFeed,y,S(y))}else k(this),r&&r.call(this,null,l);return this.runAppend("addSeries",arguments),l},W.ChartEngine.prototype.getSeries=function(t){var e,i,a,r,n;for(var s in i=(e=t.chart?t.chart:this.chart).series,(a=t.symbolObject)||(a={symbol:t.symbol}),r=[],i)n=i[s],W.symbolEqual(a,n.parameters.symbolObject)&&r.push(n);return t.includeMaster&&W.symbolEqual(a,e.symbolObject)&&r.push({}),r},W.ChartEngine.prototype.modifySeries=function(t,e){var i,a,r,n,s;if(!this.runPrepend("modifySeries",arguments)&&e&&("string"==typeof t?(a=t,i=(r=e.chartName?this.charts[e.chartName]:this.chart).series[a]):(a=(i=t).id,r=this.charts[i.parameters.chartName]),i)){for(var o in W.extend(i.parameters,e),r.seriesRenderers){s=(n=r.seriesRenderers[o]).seriesParams;for(var l=0;l<s.length;++l)if(s[l].id===i.id){n.attachSeries(a,i.parameters);break}}this.changeOccurred("layout"),this.runAppend("modifySeries",arguments)}},W.ChartEngine.prototype.isEquationChart=function(t){return!(!this.allowEquations||!W.computeEquationChart||!t||"="!=t[0])},W.ChartEngine.prototype.getDataFields=function(t){var e,i,a;for(var r in t||(t=this.chart),e=t.defaultPlotField||"Close",(i=["Open","High","Low"]).push(e),t.series)a=t.series[r].parameters,i.push(a.symbol);return i},W.ChartEngine.prototype.cleanMasterData=function(t,e){var i,a,r,n,s;function o(t,e){for(var i=0;i<e.length;i++)if(void 0!==t[e[i]])return!1;return!0}if(i=t.symbol,(a=e.masterData)&&a.length){for(r=this.getDataFields(e),n=0;delete(s=a[n])[i],o.call(this,s,r)?a.splice(n,1):n++,n<a.length;);a=this.doCleanupGaps(a,e,{noCleanupDates:!0}),this.setMasterData(a,e,{noCleanupDates:!0}),this.clearCurrentMarketData(e,i)}},W.ChartEngine.prototype.deleteSeries=function(t,e,i){var a,r,n,s,o,l,h;this.runPrepend("deleteSeries",arguments)||(a=(i=i||{}).action?i.action:"remove-series",(n=(e="object"==typeof t?(r=t.id,e||this.charts[t.parameters.chartName]):(r=t,e||this.chart)).series[r])&&(s=n.parameters.loadData,o=n.parameters.symbolObject,delete e.series[r],l=this.getSeries({symbolObject:o,includeMaster:!0}),!1===s&&l.push(r),l.length||this.cleanMasterData(o,e),(h=this.panels[n.parameters.panel])&&(n.id===h.yAxis.name?this.panelClose(h):this.checkForEmptyPanel(h)),this.createDataSet(),l.length||this.dispatch(this.currentlyImporting?"symbolImport":"symbolChange",{stx:this,symbol:o.symbol,symbolObject:o,action:a}),this.quoteDriver&&this.quoteDriver.updateSubscriptions(),this.runAppend("deleteSeries",arguments)))},W.ChartEngine.prototype.removeSeries=function(t,e){var i,a,r;if(!this.runPrepend("removeSeries",arguments)){for(var n in a=!1,(e="object"==typeof t?(i=t.id,e||this.charts[t.parameters.chartName]):(i=t,e||this.chart)).seriesRenderers)for(var s=(r=e.seriesRenderers[n]).seriesParams.length-1;0<=s;s--)r.seriesParams[s].id===i&&(r.removeSeries(i),r.seriesParams.length<1&&this.removeSeriesRenderer(r),a=!0);a||this.deleteSeries(i,e),this.resetDynamicYAxis(),this.draw(),this.runAppend("removeSeries",arguments)}},W.ChartEngine.prototype.isDailyInterval=function(t){return console.warn("CIQ.ChartEngine.prototype.isDailyInterval has been deprecated. Use use static version insted"),W.ChartEngine.isDailyInterval(t)},W.ChartEngine.prototype.setPeriodicity=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w=yt;if(!this.runPrepend("setPeriodicity",arguments)){if(r=null,t&&"object"==typeof t)i=t.period,a=t.interval,r=t.timeUnit;else{i=t,a=e,w.c9s(1);var C=w.t6s(17,18);e=arguments[arguments.length-C],3<arguments.length&&(w.b9s(0),r=arguments[w.t6s("2",0)])}if("function"!=typeof e&&(e=null),i=(n=W.cleanPeriodicity(i,a,r)).period,a=n.interval,r=n.timeUnit,o=(s=this.layout).candleWidth,s.setSpan={},s.range={},this.chart.inflectionPoint=null,l=!1,this.chart.symbol&&(l=this.needDifferentData({period:i,interval:a,timeUnit:r})),s.periodicity=i,s.interval=a,s.timeUnit=r,l){if(this.changeOccurred("layout"),this.clearCurrentMarketData(),this.quoteDriver)for(var T in this.charts)(h=this.charts[T]).symbol&&(this.displayInitialized?this.quoteDriver.newChart({symbol:h.symbol,symbolObject:h.symbolObject,chart:h},e):this.newChart(h.symbol,null,h,e));else this.dataCallback?(this.dataCallback(),e&&e(null)):console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");this.home()}else{for(c in this.charts)if(p=(u=this.charts[c]).dataSegment,d=u.dataSet,g=u.maxTicks,f=u.scroll,m=p?p.length:0,y=d?d.length:0,b=Math.round(u.maxTicks/2),this.setCandleWidth(o,u),x=!(S=!0),f<=g?S=!1:p&&!p[b]&&(S=!1,w.c9s(1),x=w.t6s(y,f)),S&&0<m&&(g<(Math.round(this.chart.width/o-.499)-1)/2&&(w.c9s(1),b=w.P9s(1,m)),m<=b?(v=p[m-1].DT,w.b9s(1),b=w.P9s(1,m)):v=p[b].DT),this.createDataSet(),S){if(0<m)for(var D=y-1;0<=D;D--)if(d[D].DT.getTime()<v.getTime()){w.c9s(34),u.scroll=w.t6s(1,b,y,D);break}}else u.scroll=x?d.length+x:(k=Math.round(this.preferences.whitespace/o),w.c9s(35),w.P9s(g,k,1));if(this.displayInitialized&&this.draw(),this.changeOccurred("layout"),this.quoteDriver)for(c in this.charts)(u=this.charts[c]).symbol&&u.moreAvailable&&this.quoteDriver.checkLoadMore(u);e&&e(null),this.runAppend("setPeriodicity",arguments)}}},W.ChartEngine.prototype.setPeriodicityV2=function(t,e,i,a){"function"==typeof i&&(a=i,i=null),this.runPrepend("setPeriodicityV2",arguments)||(this.setPeriodicity(t,e,i,a),this.runAppend("setPeriodicityV2",arguments))},W.ChartEngine.prototype.drawVectors=function(){var t,e,i,a,r;if(!this.vectorsShowing&&!this.runPrepend("drawVectors",arguments)){if(this.vectorsShowing=!0,!this.chart.hideDrawings){for(t={},i=0;i<this.drawingObjects.length;i++)a=this.drawingObjects[i],this.repositioningDrawing!==a&&(e=a.panelName,this.panels[a.panelName]&&!this.panels[a.panelName].hidden&&(t[e]||(t[e]=[]),t[e].push(a)));for(e in t){for(this.startClip(e),r=t[e],i=0;i<r.length;i++)r[i].render(this.chart.context);this.endClip()}}this.runAppend("drawVectors",arguments)}},W.ChartEngine.NONE=0,W.ChartEngine.CLOSEUP=1,W.ChartEngine.CLOSEDOWN=2,W.ChartEngine.CLOSEEVEN=4,W.ChartEngine.CANDLEUP=8,W.ChartEngine.CANDLEDOWN=16,W.ChartEngine.CANDLEEVEN=32,W.ChartEngine.prototype.displayChart=function(t){this.runPrepend("displayChart",arguments)||(this.rendererAction(t,"main"),this.runAppend("displayChart",arguments))},W.ChartEngine.prototype.calculateATR=function(t,e,i){var a,r,n,s,o,l,h=yt;i||(i=t.dataSet),(a=t.state.calculations.atr)||(a=t.state.calculations.atr={}),e||(e=20),r=[],a.accum&&(r=a.accum);for(var c=0;c<i.length;c++)if(s=i[c],n=c?i[c-1]:a.q1){if(o=Math.max(s.High-s.Low,Math.abs(s.High-n.Close),Math.abs(s.Low-n.Close)),r.length<e){if(r.push(o)==e){for(var u=l=0;u<r.length;u++)l+=r[u];h.c9s(3),s.atr=h.P9s(l,e)}}else{h.c9s(8);var p=h.P9s(22,18,5);s.atr=(n.atr*(e-p)+o)/e}s.trueRange=o}t.state.calculations.atr={accum:r,q1:n}},W.ChartEngine.prototype.calculateMedianPrice=function(t,e){var i;e||(e=t.dataSet);for(var a=0;a<e.length;++a){i=e[a],yt.c9s(36);var r=yt.t6s(18,2,18);i["hl/2"]=(i.High+i.Low)/("2"*r)}},W.ChartEngine.prototype.calculateTypicalPrice=function(t,e){var i;e||(e=t.dataSet);for(var a=0;a<e.length;++a){i=e[a],yt.b9s(1);var r=yt.t6s(12,15);i["hlc/3"]=(i.High+i.Low+i.Close)/r}},W.ChartEngine.prototype.calculateWeightedClose=function(t,e){var i;e||(e=t.dataSet);for(var a=0;a<e.length;++a){i=e[a],yt.b9s(27);var r=yt.t6s(11,3,26,20);i["hlcc/4"]=(i.High+i.Low+r*i.Close)/4}},W.ChartEngine.prototype.calculateOHLC4=function(t,e){var i;e||(e=t.dataSet);for(var a=0;a<e.length;++a)(i=e[a])["ohlc/4"]=(i.Open+i.High+i.Low+i.Close)/4},W.ChartEngine.prototype.currentQuote=function(){if(!this.chart.dataSet)return null;for(var t=this.chart.dataSet.length-1;0<=t;t--)if(this.chart.dataSet[t])return this.chart.dataSet[t];return null},W.ChartEngine.prototype.mostRecentClose=function(t){var e,i;if(!this.chart.dataSet)return null;for(var a=this.chart.dataSet.length-1;0<=a;a--)if((e=this.chart.dataSet[a])&&(!t||(e=e[t])||0===e)){if(i=e.iqPrevClose,"object"==typeof e&&(e=e.Close),"number"==typeof e)return e;if("number"==typeof i)return i}return null},W.ChartEngine.prototype.correctIfOffEdge=function(t){var e,i,a,r,n,s,o,l,h,c=yt;if(!this.runPrepend("correctIfOffEdge",arguments)){for(var u in this.charts)i=(e=this.charts[u]).dataSet,a=e.maxTicks,r=this.layout,n=this.minimumLeftBars,this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[r.chartType]||n--,s=Math.min(n,a),e.allowScrollPast?(c.c9s(1),o=c.t6s(s,a),s>i.length&&(o=a-i.length),e.scroll-o>=i.length&&(e.scroll=i.length+o-1,c.c9s(1),this.micropixels=c.t6s(0,"0")),e.scroll<=s&&(e.scroll=s,this.micropixels=0)):(e.scroll<s&&(e.scroll=s),e.scroll>i.length&&(e.scroll=i.length)),!1===e.allowScrollFuture&&(l=this.getLabelOffsetInPixels(e,r.chartType)+r.candleWidth*e.whiteSpaceFutureTicks,h=a-Math.round(l/r.candleWidth)-1,(this.micropixels<0?e.scroll-1:e.scroll)<h&&(e.scroll=h,c.b9s(0),this.micropixels=c.P9s("0",0)));this.runAppend("correctIfOffEdge",arguments)}},W.ChartEngine.prototype.createDataSegment=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b=yt;if(!this.runPrepend("createDataSegment",arguments)){for(var S in this.charts){e=this.charts[S],t&&(e=t),e.isComparison&&W.Comparison.createComparisonSegmentInner(this,e),i=e.dataSet,a=e.baseline,r=e.scroll,n=e.maxTicks,o=(s=this.layout).candleWidth,a.actualLevel=a.userLevel?a.userLevel:a.defaultLevel,l=a.includeInDataSegment&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars)&&!this.standaloneBars[s.chartType],c=e.dataSegment=[],b.b9s(3);var x=b.P9s(15,15);b.c9s(37);var k=b.P9s(24,24);u=i.length-x-r-k,p=e.defaultPlotField;for(var w=-1;w<r&&w<n;w++)u++,(-1!=w||l)&&(u<i.length&&0<=u?((h=i[u]).candleWidth=null,c.push(h),null===a.actualLevel&&0<=w&&(p&&"Close"!=p?(b.c9s(1),(d=i[b.t6s(1,u)])&&(d[p]||0===d[p])&&(a.actualLevel=d[p])):(h.iqPrevClose||0===h.iqPrevClose)&&(a.actualLevel=h.iqPrevClose))):u<0&&c.push(null));if(e.segmentImage=null,(g=this.mainSeriesRenderer||{}).params&&g.params.volume){f=0,b.c9s(3);var C=b.t6s(18,18);m=e.width-(n-c.length-C)*s.candleWidth;for(var T=0;T<c.length;T++)(h=c[T])&&(f+=h.Volume);y=0,e.segmentImage=[];for(var D=0;D<c.length;D++)if(h=c[D],e.segmentImage[D]={},v=null,h){if(h.Volume){h.candleWidth=m*h.Volume/f,b.c9s(1);var M=b.t6s(12,14);v=y+h.candleWidth/M,y+=h.candleWidth}else h.candleWidth=o,b.b9s(38),v=b.t6s(o,y,"2"),y+=o;e.segmentImage[D]={tick:h.tick,candleWidth:h.candleWidth,leftOffset:v}}else y+=o}if(t)break}e&&e.isComparison&&this.clearPixelCache(),this.positionCrosshairsAtPointer(),this.runAppend("createDataSegment",arguments)}},W.ChartEngine.prototype.getDataSegment=function(t){var e,i;return t||(t=this.chart),(e=t.dataSegment)&&e.length?(i=0,right=e.length,this.pixelFromBar(i,t)<t.panel.left&&i++,this.pixelFromBar(right-1,t)>t.panel.right&&right--,e.slice(i,right)):[]},W.ChartEngine.prototype.leftTick=function(){return this.chart.dataSet.length-this.chart.scroll},W.ChartEngine.prototype.getStartDateOffset=function(){for(var t=0;t<this.chart.dataSegment.length;t++)if(this.chart.dataSegment[t])return t;return 0},W.ChartEngine.prototype.setStartDate=function(t){for(var e=0;e<this.chart.dataSet.length;e++)if(this.chart.dataSet[e].DT.getTime()==t.getTime())return this.chart.scroll=this.chart.dataSet.length-e,void this.draw()},W.ChartEngine.prototype.updateListeners=function(t){var e;for(var i in this.plugins)(e=this.plugins[i]).display&&e.listener&&e.listener(this,t)},W.ChartEngine.prototype.clearPixelCache=function(){var t,e;for(var i in this.panels)(t=this.panels[i]).cacheHigh=null,t.cacheLow=null,t.cacheLeft=1e6,t.cacheRight=-1;for(var a in this.charts)if((e=this.charts[a]).dataSet)for(var r=0;r<e.dataSet.length;r++)e.dataSet[r].cache={}},W.ChartEngine.prototype.createYAxisLabel=function(t,e,i,a,r,n,s){var o,l,h,c,u,p,d,g,f,m,y=yt;if(!1!==t.yAxis.drawPriceLabels&&!t.yAxis.noDraw&&!(o=s||t.yAxis).noDraw&&o.width){l=n||this.chart.context,h=this.getCanvasFontSize("stx_yaxis")+6,this.canvasFont("stx_yaxis",l),o.displayBorder,c=this.drawBorders?3:0;try{y.c9s(39);var v=y.P9s(11,11,15,17);u=l.measureText(e).width+c+3*v}catch(t){u=o.width}if(p=o.left-3+3,o.width<0&&(p+=o.width-u),y.b9s(5),d=y.P9s(c,3,p),g=3,"left"===(null===o.position?t.chart.yAxis.position:o.position)){y.b9s(40);var b=y.t6s(1,6,5,11);p=o.left+o.width+3-"3"*b,y.c9s(41),u=y.t6s(1,u),o.width<0&&(p-=o.width+u),y.c9s(35),d=y.P9s(p,3,c),g=-3,l.textAlign="right"}if(i+h/2>o.bottom&&(i=o.bottom-h/2),i-h/2<o.top){y.b9s(42);var S=y.P9s(18,22,2);i=o.top+h/S}void 0===W[this.yaxisLabelStyle]&&(this.yaxisLabelStyle="roundRectArrow"),f=this.yaxisLabelStyle,o.yaxisLabelStyle&&(f=o.yaxisLabelStyle),m={ctx:l,x:p,y:i,top:i-h/2,width:u,height:h,radius:g,backgroundColor:a,fill:!0,stroke:!1,margin:{left:d-p,top:1},txt:e,color:r},W[f](m)}},W.ChartEngine.prototype.createXAxisLabel=function(t,e,i,a,r,n){var s,o,l,h,c,u,p,d=yt;s=this.chart.context,o="stx-float-date",l=this.getCanvasFontSize(o)+4,this.canvasFont(o,s);try{h=s.measureText(e).width+4}catch(t){d.c9s(1),h=d.t6s(0,"0")}if(c=t.top+t.height-l,!(i+h/2<t.left||i-h/2>t.right)){if(!n&&(i+h/2>t.right&&(i=t.right-h/2),i-h/2<t.left)){d.c9s(43);var g=d.t6s(12,5,14,1018,3);i=t.left+h/g}if(s.fillStyle=a,W.roundRect({ctx:s,x:i-h/2,top:c,width:h,height:l,radius:3,fill:!0}),u=t.bottom-t.yAxis.bottom-l,s.beginPath(),n)d.c9s(1),s.moveTo(d.t6s(u,i),c),d.c9s(44),s.lineTo(i,d.t6s(c,u,0,"1")),d.b9s(4),s.lineTo(d.t6s(u,i),c),s.closePath(),s.fill();else{s.moveTo(i,c),p=2;for(var f=1;579296409!==d.A5s(f.toString(),f.toString().length,57423);f++)d.b9s(14),s.lineTo(i,d.P9s(u,c)),s.strokeStyle=a,p+=2;1777144191!==d.i5s(p.toString(),p.toString().length,49385)&&(d.c9s(4),s.lineTo(i,d.P9s(u,c)),s.strokeStyle=a),d.b9s(1),s.lineTo(i,d.P9s(u,c)),s.strokeStyle=a,s.stroke()}s.textBaseline="top",s.fillStyle=r||W.chooseForegroundColor(a),s.fillStyle==a&&("#FFFFFF"==a.toUpperCase()?s.fillStyle="#000000":s.fillStyle="#FFFFFF"),d.b9s(45),s.fillText(e,d.t6s(2,h,i,2),d.P9s(2,c,d.b9s(4)))}},W.ChartEngine.prototype.drawCurrentHR=function(){var t,e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m;if(!this.runPrepend("drawCurrentHR",arguments)&&!(i=this.mainSeriesRenderer||{}).noCurrentHR){for(var y in a=i.highLowBars||this.highLowBars[this.layout.chartType],this.charts)if(s=(n=(r=this.charts[y]).panel).yAxis,!n.hidden&&!1!==s.drawCurrentPriceLabel&&!s.noDraw&&i.params&&((o=s.whichSet)||(o="dataSet"),!this.isHistoricalModeSet||"dataSegment"===o)){if(l=r[o].length,h=this.layout.candleWidth,"dataSegment"==o)for(;l>(r.width-this.micropixels+h/2+1)/h;)l--;if(l&&r[o][l-1]){(c=r.defaultPlotField)&&!a||(c="Close");do{if(p=u=r[o][--l][c],0===l)break}while(null===p);"dataSet"==o&&r.currentQuote?p=r.currentQuote[c]:2<=r[o].length&&(yt.c9s(17),(d=r[o][yt.P9s("1",1,l)])&&(u=d[c])),e=p<u?(t=this.canvasStyle("stx_current_hr_down").backgroundColor,this.canvasStyle("stx_current_hr_down").color):(t=this.canvasStyle("stx_current_hr_up").backgroundColor,this.canvasStyle("stx_current_hr_up").color),r.transformFunc&&(p=r.transformFunc(this,r,p)),f=Math.max(n.yAxis.printDecimalPlaces,n.chart.decimalPlaces),(s.maxDecimalPlaces||0===s.maxDecimalPlaces)&&(f=Math.min(f,s.maxDecimalPlaces)),g=s.priceFormatter?s.priceFormatter(this,n,p,f):this.formatYAxisPrice(p,n,f),m=this.pixelFromTransformedValue(p,n),this.createYAxisLabel(n,g,m,t,e),!0===this.preferences.currentPriceLine&&this.isHome()&&(n.chart.context.globalCompositeOperation="destination-over",this.plotLine(n.left,n.right,m,m,t,"line",n.chart.context,n,{pattern:"dashed",lineWidth:1,opacity:.8}),n.chart.context.globalCompositeOperation="source-over")}}this.runAppend("drawCurrentHR",arguments)}},W.ChartEngine.prototype.getDefaultColor=function(){var t,e,i,a,r;for(this.defaultColor="#000000",t=null,e=this.chart.container;!t||W.isTransparent(t);){if(!(i=getComputedStyle(e)))return;if(t=i.backgroundColor,W.isTransparent(t)&&(t="transparent"),!(e=e.parentNode)||!e.tagName)break}if(t)if("transparent"==t&&(t="#FFFFFF"),this.containerColor=t,W.isTransparent(t)){r=2;for(var n=1;-791514051!==yt.A5s(n.toString(),n.toString().length,64661);n++)this.defaultColor="",r+=2;-1713853911!==yt.A5s(r.toString(),r.toString().length,26444)&&(this.defaultColor="#000000")}else a=W.hsv(t)[2],this.defaultColor=.65<a?"#000000":"#FFFFFF";else this.containerColor="#FFFFFF"},W.ChartEngine.prototype.startAsyncAction=function(){this.pendingAsyncs||(this.pendingAsyncs=[]),this.pendingAsyncs.push(!0)},W.ChartEngine.prototype.registerChartDrawnCallback=function(t){return this.asyncCallbacks||(this.asyncCallbacks=[]),this.asyncCallbacks.push(t),{fc:t}},W.ChartEngine.prototype.unregisterChartDrawnCallback=function(t){for(var e=0;e<this.asyncCallbacks.length;e++)if(this.asyncCallbacks[e]==t.fc)return void this.asyncCallbacks.splice(e,1)},W.ChartEngine.prototype.makeAsyncCallbacks=function(){if(this.asyncCallbacks&&(!this.pendingAsyncs||!this.pendingAsyncs.length))for(var t=0;t<this.asyncCallbacks.length;t++)this.asyncCallbacks[t]()},W.ChartEngine.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop(),this.makeAsyncCallbacks()},W.ChartEngine.prototype.draw=function(){var t,e,i,a,r,n,s;if(this.debug(),this.chart.canvas&&this.chart.dataSet&&this.chart.canvasHeight){yt.b9s(1);var o=yt.t6s(28,30);if(this.offset=this.layout.candleWidth*this.candleWidthPercent/o,W.clearCanvas(this.chart.canvas,this),this.masterData&&(this.masterData.length||this.chart.currentMarketData.touched)&&!this.runPrepend("draw",arguments)){for(i in this.defaultColor||this.getDefaultColor(),this.vectorsShowing=!1,this.drawPanels(),this.yAxisLabels=[],this.charts){e=this.charts[i],this.correctIfOffEdge(),this.createDataSegment(),r=this.createXAxis(e),this.initializeDisplay(e),this.drawXAxis(e,r);try{this.renderYAxis(e)}catch(t){if(t&&"reboot draw"===t.message)return this.draw();throw t}for(t in e.tmpWidth=Math.floor(this.layout.candleWidth*this.candleWidthPercent),e.tmpWidth%2==0&&(e.tmpWidth+=1,e.tmpWidth>this.layout.candleWidth&&(e.tmpWidth-=2)),e.tmpWidth<.5&&(e.tmpWidth=.5),this.plugins)(a=this.plugins[t]).display&&a.drawUnder&&a.drawUnder(this,e);this.chart.legend&&(this.chart.legend.colorMap=null),this.controls.baselineHandle&&(this.controls.baselineHandle.style.display="none"),this.rendererAction(e,"underlay"),W.Studies&&W.Studies.displayStudies(this,e,!0),this.displayChart(e),W.Studies&&W.Studies.displayStudies(this,e,!1),this.rendererAction(e,"overlay"),e.legend&&e.legend.colorMap&&e.legendRenderer&&e.legendRenderer(this,{chart:e,legendColorMap:e.legend.colorMap,coordinates:{x:e.legend.x,y:e.legend.y+e.panel.yAxis.top}})}for(i in this.charts)for(t in e=this.charts[i],this.plugins)(a=this.plugins[t]).display&&a.drawOver&&a.drawOver(this,e);for(var l in this.panels)this.panels[l].hidden||this.plotYAxisText(this.panels[l]);for(var h=0;h<this.yAxisLabels.length;h++)"series"==(n=this.yAxisLabels[h]).src&&n.args[6]&&!1===n.args[6].drawSeriesPriceLabels||this.createYAxisLabel.apply(this,n.args);for(i in this.createCrosshairs(),this.drawVectors(),this.drawCurrentHR(),this.displayInitialized=!0,this.controls&&(s=this.manageTouchAndMouse&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.nonInteractive),this.controls.home&&(this.controls.home.style.display=s&&!this.isHome()?"block":"none"),this.controls.chartControls&&(this.controls.chartControls.style.display=s?"block":"none")),this.positionMarkers(),this.charts)e=this.charts[i],this.quoteDriver&&!this.animations.zoom.running&&this.quoteDriver.checkLoadMore(e);this.runAppend("draw",arguments),this.makeAsyncCallbacks()}}},W.ChartEngine.prototype.adjustBackingStore=function(t,e){var i,a,r,n,s=yt;this.devicePixelRatio=window.devicePixelRatio||1,this.devicePixelRatio<1&&(this.devicePixelRatio=1),i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,a=this.devicePixelRatio/i,this.useBackingStore?(!W.isAndroid||W.is_chrome||W.isFF)&&(r=t.width,n=t.height,s.b9s(14),t.width=s.t6s(a,r),s.b9s(14),t.height=s.t6s(a,n),s.b9s(4),t.style.width=s.t6s("px",r),s.c9s(4),t.style.height=s.P9s("px",n),e.scale(a,a),this.adjustedDisplayPixelRatio=a,this.backing={ratio:a,width:t.width,height:t.height,styleWidth:r,styleHeight:n}):this.devicePixelRatio=this.adjustedDisplayPixelRatio=1},W.ChartEngine.prototype.reconstituteBackingStore=function(){var t;this.useBackingStore&&(t=this.chart.canvas).width!=this.backing.width&&(t.width=this.backing.width,t.height=this.backing.height,t.context.scale(this.backing.ratio,this.backing.ratio),this.adjustedDisplayPixelRatio=this.backing.ratio,this.draw())},W.ChartEngine.prototype.disableBackingStore=function(){var t;this.useBackingStore&&(t=this.chart.canvas).width!=this.backing.styleWidth&&(t.width=this.backing.styleWidth,t.height=this.backing.styleHeight,yt.b9s(14),t.context.scale(yt.P9s(1,"1"),1),this.adjustedDisplayPixelRatio=1,this.draw())},W.ChartEngine.prototype.resizeCanvas=function(){var t,e,i,a,r,n,s,o;for(var l in t=this.chart.canvas,e=this.chart.context,t&&e&&(this.floatCanvas.height=this.chart.tempCanvas.height=t.height=this.chart.container.clientHeight,this.floatCanvas.width=this.chart.tempCanvas.width=t.width=this.chart.container.clientWidth,this.adjustBackingStore(t,e),this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context),this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context)),i=this.container.getBoundingClientRect(),this.top=i.top,this.left=i.left,this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth,this.right=this.left+this.canvasWidth,this.height=this.chart.container.clientHeight,this.width=this.right-this.left,0!==this.width||this.container.dimensionlessCanvas||console.log("warning: zero width chart. Check CSS for chart container."),this.bottom=this.top+this.height,this.calculateYAxisPositions(),this.chart.canvasRight=this.right,this.chart.canvasHeight=this.height,void 0===(a=this.layout.candleWidth)&&(a=8),this.charts){r=this.charts[l],this.setCandleWidth(a,r),r.scroll<r.width/a&&(r.scroll=Math.floor(r.width/a),n=Math.round(this.preferences.whitespace/this.layout.candleWidth),r.scroll-=n),s=10;try{o=2*e.measureText("10:00").width}catch(t){o=100}for(;1<s&&!(this.chart.width/o>s);)s/=1.5;r.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/s),r.xAxis.autoComputedTickSizePixels<1&&(r.xAxis.autoComputedTickSizePixels=1)}},W.ChartEngine.prototype.setCandleWidth=function(t,e){e||(e=this.chart),t<this.minimumCandleWidth&&(t=this.minimumCandleWidth),this.layout.candleWidth=t,yt.b9s(46);var i=yt.P9s(11,18,6732,18,16);e.maxTicks=Math.round(e.width/t)+i},W.ChartEngine.prototype.resizeChart=function(t){var e;this.runPrepend("resizeChart",arguments)||(!1!==t&&(t=!0),t&&this.preAdjustScroll(),e=this.chart.canvasHeight,this.resizeCanvas(),t&&this.postAdjustScroll(),this.displayInitialized?(this.adjustPanelPositions(),this.draw()):0!==this.chart.canvasHeight&&0===e&&(this.adjustPanelPositions(),this.draw()),this.doDisplayCrosshairs(),this.updateChartAccessories(),this.runAppend("resizeChart",arguments))},W.ChartEngine.prototype.newChart=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d,g,f,m,y,v;if(i||(i=this.chart),r||(r={}),n=this.layout,(s=r.periodicity)&&(o=W.cleanPeriodicity(s.period?s.period:s.periodicity,s.interval,s.timeUnit),n.interval=o.interval,n.periodicity=o.period,n.timeUnit=o.timeUnit),l=i.symbol,h=W.clone(i.symbolObject),c=i.market,u=i.dataSet,p=i.moreAvailable,i.dataSet=[],i.moreAvailable=null,t?"object"==typeof t?(i.symbol=t.symbol,i.symbolObject=t):(i.symbol=t,i.symbolObject.symbol=t):(i.symbol=null,i.symbolObject={symbol:null}),i.inflectionPoint=null,this.marketFactory&&(d=this.marketFactory(i.symbolObject),this.setMarket(d,i)),this.setMainSeriesRenderer(!0),g=r.span,(f=r.range)||g||!n?f&&g&&(g={}):(g=n.range?{}:n.setSpan,f=n.range||{}),this.clearCurrentMarketData(i),m=this,!e&&this.quoteDriver)if(y=function(t){t&&"orphaned"!=t&&(i.symbol=l,i.symbolObject=h,i.market=c,i.dataSet=u,i.moreAvailable=p),m.dispatch(m.currentlyImporting?"symbolImport":"symbolChange",{stx:m,symbol:m.chart.symbol,symbolObject:m.chart.symbolObject,action:"master"}),a&&a.call(m,t)},f&&Object.keys(f).length){if(delete r.span,delete n.setSpan,this.chart.masterData=null,this.displayInitialized=!1,s){v=2;for(var b=1;1141447004!==yt.A5s(b.toString(),b.toString().length,36300);b++)f.periodicity=s,v+=2;267242635!==yt.i5s(v.toString(),v.toString().length,30604)&&(f.periodicity=s)}f.forceLoad=!0,this.setRange(f,y)}else g&&g.base?(g.multiplier=g.multiplier||1,this.chart.masterData=null,this.displayInitialized=!1,s&&(g.maintainPeriodicity=!0),g.forceLoad=!0,this.setSpan(g,y)):this.quoteDriver.newChart({symbol:i.symbol,symbolObject:i.symbolObject,chart:i,initializeChart:!0},function(t){t||(m.adjustPanelPositions(),m.quoteDriver.updateSubscriptions(),r.stretchToFillScreen&&m.fillScreen()),y.apply(m,arguments)});else e||console.log("Warning: No masterData specified and no QuoteFeed configured"),i.symbol||(i.symbol=""),this.initializeChart(),e=this.doCleanupGaps(e,i),this.setMasterData(e,i,{noCleanupDates:!0}),i.endPoints={},e&&e.length&&(i.endPoints={begin:e[0].DT,end:e[e.length-1].DT}),this.createDataSet(),f&&Object.keys(f).length?this.setRange(f):g&&g.multiplier&&g.base?this.setSpan({maintainPeriodicity:!0,multiplier:g.multiplier,base:g.base}):r.stretchToFillScreen?this.fillScreen():e&&e.length?this.home():this.clear(),this.adjustPanelPositions(),m.dispatch(m.currentlyImporting?"symbolImport":"symbolChange",{stx:m,symbol:m.chart.symbol,symbolObject:m.chart.symbolObject,action:"master"}),a&&a.call(m)},W.ChartEngine.prototype.clear=function(){var t;for(var e in this.displayInitialized=!1,this.layout.studies)t=this.layout.studies[e],W.Studies.removeStudy(this,t);this.controls.chartControls&&(this.controls.chartControls.style.display="none"),this.chart.panel.title.innerHTML="",this.chart.panel.title.appendChild(document.createTextNode(this.chart.panel.display))},W.ChartEngine.prototype.fillScreen=function(){var t,e,i,a,r;t=this.chart,e=this.layout.candleWidth,(i=t.width-this.preferences.whitespace)<=(a=t.dataSet.length)*e?this.draw():(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[this.layout.chartType]||a--,yt.b9s(3),r=yt.t6s(i,a),this.setCandleWidth(r,t),this.home({maintainWhitespace:!0}))},W.ChartEngine.prototype.setMasterData=function(t,e,i){var a,r,n,s;for(e||(e=this.chart),this.marketFactory&&(a=this.marketFactory(e.symbolObject),this.setMarket(a,e)),i||(i={}),i.noCleanupDates||this.doCleanupDates(t,this.layout.interval),e.masterData=t,"chart"==e.name&&(this.masterData=t),r=0;t&&r<t.length;r++)(n=t[r]).DT?("[object Date]"!=Object.prototype.toString.call(n.DT)&&(n.DT=new Date(n.DT)),n.Date&&17==n.Date.length||(n.Date=W.yyyymmddhhmmssmmm(n.DT))):n.Date?n.DT=W.strToDateTime(n.Date):console.log("setMasterData : Missing DT and Date on masterData object"),n.Volume&&"number"!=typeof n.Volume&&(n.Volume=parseInt(n.Volume,10)),t.length-r<50&&this.updateCurrentMarketData(n,e,null,{fromTrade:!0});for(r in e.decimalPlaces=this.callbacks.calculateTradingDecimalPlaces({stx:this,chart:e,symbol:e.symbolObject.symbol,symbolObject:e.symbolObject}),this.setDisplayDates(t),e.roundit=Math.pow(10,e.decimalPlaces),this.plugins)(s=this.plugins[r]).display&&s.setMasterData&&s.setMasterData(this,e)},W.ChartEngine.prototype.setMasterDataRender=function(t,e,i){i||(i=this.chart),i.symbol||(i.symbol=""),this.setMasterData(e,i),e&&(i.endPoints={},e.length&&(i.endPoints={begin:e[0].DT,end:e[e.length-1].DT},i.symbol=t)),this.createDataSet(),this.initializeChart(),this.draw(),e&&e.length||(i.symbol=null,this.clear()),this.adjustPanelPositions()},W.ChartEngine.prototype.getSymbols=function(t){var e,i,a,r,n,s,o,l,h,c;for(var u in t||(t={}),e=[],a=this.layout,this.charts)for(var p in(s=this.charts[u]).symbolObject&&s.symbolObject.symbol&&e.push(m(s.symbol,s.symbolObject,a)),s.series)(o=s.series[p].parameters).data&&!o.data.useDefaultQuoteFeed||(n=o.symbolObject,(i=m(r=o.symbol,n,a)).id=p,t["include-parameters"]&&(i.parameters=o),t["exclude-studies"]&&"study"==o.bucket||e.push(i));if(t["breakout-equations"]){l={};for(var d=0;d<e.length;d++)if(r=e[d].symbol,this.isEquationChart(r)){if(h=W.formatEquation(r)){c=h.symbols;for(var g=0;g<c.length;g++)l[c[g]]=m(c[g],e[d].symbolObject,e[d])}}else l[r]=m(r,e[d].symbolObject,e[d]);for(var f in e=[],l)e.push(l[f])}function m(t,e,i){return{symbol:t,symbolObject:e,periodicity:i.periodicity,interval:i.interval,timeUnit:i.timeUnit,setSpan:i.setSpan}}return e},W.ChartEngine.prototype.setDisplayDate=function(t){var e,i,a,r,n,s=yt;if(!W.ChartEngine.isDailyInterval(this.layout.interval)){e=t.DT,s.b9s(1);var o=s.P9s(20,1020);if(i=e.getSeconds()*o+e.getMilliseconds(),this.displayZone){a=new h.Date(e.getTime(),this.displayZone),s.b9s(14),r=-s.t6s(1,"719581914"),n=2;for(var l=1;163010908!==s.i5s(l.toString(),l.toString().length,3652);l++)e=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes()),n+=2;s.A5s(n.toString(),n.toString().length,49279)!==r&&(e=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes())),e=new Date(e.getTime()+i)}t.displayDate=e}},W.ChartEngine.prototype.setDisplayDates=function(t){var e;if(t&&!W.ChartEngine.isDailyInterval(this.layout.interval))for(var i=0;i<t.length;i++)(e=t[i]).DT&&this.setDisplayDate(e)},W.ChartEngine.prototype.streamTrade=function(t,e,i,a){var r,n,s,o,l,h,c;r=this.chart,a||(a={}),a.chart&&(r=a.chart),a.fillGaps=this.streamParameters.fillGaps,yt.b9s(47),s=(n=yt.P9s(typeof t,"object"))?t.last:t,o=n?t.volume:e,l=n?t.bid:null,h=n?t.ask:null,n||(e=i,i=a),i&&(a.secondarySeries=i),c={DT:e,Last:s,Volume:o,Bid:l,Ask:h},this.updateChartData(c,r,a)},W.ChartEngine.prototype.appendMasterData=function(t,e,i){this.updateChartData(t,e,i)},W.ChartEngine.prototype.updateChartData=function(h,c,u){var a,r,p,d,g,s,o,l,t,e,i,n,f,m,y,v,b,S,x,k,w,C,T=yt;if(u||(u={}),c||(c=this.chart),r=a=!1,p=c.masterData,d=this.layout,this.dataZone,g=this,s=u.secondarySeries,u.noCleanupDates||this.doCleanupDates(h,d.interval),(u.useAsLastSale||h.constructor==Object&&(h.Last||0===h.Last))&&(a=!0,u.useAsLastSale&&u.useAsLastSale.aggregatedVolume&&(r=!0),h.constructor===Array?(C=h[h.length-1],(h={}).DT=C.DT,h.Close=C.Close,h.Volume=C.Volume):h.Last&&(h.Close=h.Last,delete h.Last),h.DT&&"[object Date]"!=Object.prototype.toString.call(h.DT)&&(h.DT=new Date(h.DT)),h.DT&&"Invalid Date"!=h.DT||(h.DT=new Date),"tick"!=d.interval&&function(){var t,e,i,a,r,n,s,o,l;if(t={market_tz:c.market.market_def.market_tz||null},("month"==(e=d.interval)||"week"==e)&&(g.dontRoll||(e="day"),t=g.chart.market.market_def),i=new W.Market(t),a={begin:p&&p.length?p[p.length-1].DT:h.DT,interval:e,periodicity:1,timeUnit:d.timeUnit},n=(r=i.newIterator(a)).next(),p){if(h.DT<n){for(s=0,l=r.previous(),o=h.DT,u.appending=!0;o<l&&s<1e3;)u.appending=!1,l=r.previous(),s++;h.DT=l,u.updating=!u.appending}else if(h.DT>=n){for(s=0,o=h.DT;n<o&&s<1e3;)h.DT=n,n=r.next(),s++;u.appending=!0}}else h.DT=new Date(+r.previous())}(),h.Open=h.Close,h.High=h.Close,h.Low=h.Close),h&&h.constructor==Object&&(h=[h]),h&&h.length&&!this.runPrepend("appendMasterData",[h,c,u])&&!this.runPrepend("updateChartData",[h,c,u])){p||(p=[]),T.c9s(17);var D=T.t6s(9,16,145);if(t=p.length-D,e=!1,u.fillGaps&&function(){var t,e,i,a;if(t=null,e=0,p.length){i=2;for(var r=1;-1444705269!==T.A5s(r.toString(),r.toString().length,15528);r++)t=g.getFirstLastDataRecord(p,s&&c.defaultPlotField,!1),i+=2;if(-1976594675!==T.A5s(i.toString(),i.toString().length,67427)&&(t=g.getFirstLastDataRecord(p,s&&c.defaultPlotField,!1)),t=g.getFirstLastDataRecord(p,s||c.defaultPlotField,!0)){if(h[h.length-1].DT<=t.DT)return;for(;e<h.length;e++){if(+h[e].DT==+t.DT){g.getFirstLastDataRecord([h[e]],s||c.defaultPlotField)&&(t=null);break}if(h[e].DT>t.DT)break}}}a=h.slice(e),t&&a.unshift(s?t[s]:t),a=g.doCleanupGaps(a,c),t&&a.shift(),h=h.slice(0,e).concat(a)}(),h.length){for(var M=0;M<h.length;M++){for(n=(i=h[M]).DT,f=i.Date,n&&"[object Date]"!=Object.prototype.toString.call(n)&&(i.DT=n=new Date(n)),n&&(f&&17==f.length||(i.Date=W.yyyymmddhhmmssmmm(i.DT))),n||(n=i.DT=W.strToDateTime(f)),!W.isValidNumber(i.Close)&&W.isValidNumber(i.Value)&&(i.Close=i.Value);0<=t&&t<p.length;){if((m=p[t].DT)||(m=W.strToDateTime(p[t].Date)),m.getTime()<=n.getTime()){if(e=!0,y=0,m.getTime()<n.getTime()){if(t<p.length-1&&(p[t+1].DT||W.strToDateTime(p[t+1].Date)).getTime()<=n.getTime()){t++;continue}y=1}if(u.deleteItems){y||_(t,n);break}y||F(t,i),W.isValidNumber(i.Close)&&(W.isValidNumber(i.Open)||(i.Open=i.Close),v=Math.max(i.Open,i.Close),b=Math.min(i.Open,i.Close),(!W.isValidNumber(i.High)||i.High<v)&&(i.High=v),(!W.isValidNumber(i.Low)||i.Low>b)&&(i.Low=b)),i.Volume&&!W.isValidNumber(i.Volume)&&(i.Volume=parseInt(i.Volume,10)),this.setDisplayDate(i),t+=y,s?(h.length-M<50&&this.updateCurrentMarketData(i,c,s,{fromTrade:!0}),"tick"==d.interval&&void 0===i.Close||(y&&p.splice(t,0,{DT:i.DT}),p[t][s]=i)):(h.length-M<50&&this.updateCurrentMarketData(i,c,null,{fromTrade:!0}),"tick"==d.interval&&void 0===i.Close||p.splice(t,y?0:1,i));break}t+=e?1:-1}t<0&&(s?(this.updateCurrentMarketData(i,c,s,{fromTrade:!0}),"tick"==d.interval&&void 0===i.Close||(T.b9s(14),p.splice(T.t6s(1,"0"),0,{DT:i.DT}),p[0][s]=i)):(this.updateCurrentMarketData(i,c,null,{fromTrade:!0}),"tick"==d.interval&&void 0===i.Close||(T.b9s(0),p.splice(T.t6s("0",0),0,i))),e=!0,t=0)}p.length&&(this.masterData=c.masterData=p),this.maxMasterDataSize&&(p=c.masterData=this.masterData=p.slice(-this.maxMasterDataSize)),S=s?this.getSeries({symbol:s,chart:c}):[c];for(var A=0;A<S.length;A++)(!(x=S[A]).endPoints.begin||x.endPoints.begin>h[0].DT)&&(x.endPoints.begin=h[0].DT),(!x.endPoints.end||x.endPoints.end<h[h.length-1].DT)&&(x.endPoints.end=h[h.length-1].DT);for(var P in this.plugins)(k=this.plugins[P]).display&&k.appendMasterData&&k.appendMasterData(this,h,c);this.masterData&&this.masterData.length||(this.masterData=p),u.noCreateDataSet||(++(w=this.streamParameters).count>w.maxTicks||u.bypassGovernor?(clearTimeout(w.timeout),this.createDataSet(null,null,u),this.draw(),this.updateChartAccessories(),w.count=0,w.timeout=-1):-1==w.timeout&&(w.timeout=setTimeout(function(){g.createDataSet(null,null,u),g.draw(),g.updateChartAccessories(),g.streamParameters.count=0,g.streamParameters.timeout=-1},w.maxWait))),this.runAppend("appendMasterData",arguments),this.runAppend("updateChartData",arguments)}}function F(t,e){var i;if(i=p[t],s&&(i=i[s]||{}),null===e.Close)void 0!==i.Open&&(e.Open=null),void 0!==i.High&&(e.High=null),void 0!==i.Low&&(e.Low=null),void 0!==i.Volume&&(e.Volume=null);else for(o in a?(e.Volume&&(e.Volume=parseInt(e.Volume,10)),r||(e.Volume+=i.Volume)):!W.isValidNumber(e.Volume)&&i.Volume&&(e.Volume=i.Volume),u.allowReplaceOHL||(W.isValidNumber(i.Open)&&(e.Open=i.Open),W.isValidNumber(i.High)&&W.isValidNumber(e.High)&&i.High>e.High&&(e.High=i.High),W.isValidNumber(i.Low)&&W.isValidNumber(e.Low)&&i.Low<e.Low&&(e.Low=i.Low)),W.isValidNumber(e.Close)||(e.Close=i.Close),W.isValidNumber(e.Open)||(e.Open=i.Open),W.isValidNumber(e.High)||(e.High=i.High),W.isValidNumber(e.Low)||(e.Low=i.Low),W.isValidNumber(e.Bid)||(e.Bid=i.Bid),W.isValidNumber(e.Ask)||(e.Ask=i.Ask),c.series)void 0===e[l=c.series[o].parameters.symbolObject.symbol]&&void 0!==i[l]&&(e[l]=i[l])}function _(t,e){var i,a,r;if(s){T.c9s(1),a=T.t6s(0,"2");for(var n=1;-2101303023!==T.i5s(n.toString(),n.toString().length,42872);n++)p[t][s],a+=2;-454014886!==T.i5s(a.toString(),a.toString().length,61970)&&delete p[t][s],g.cleanupGaps&&(i={DT:e,Close:null},"gap"!=g.cleanupGaps&&p[t-1]&&p[t-1][s]&&(i.Close=p[t-1][s].Close,i.High=i.Low=i.Open=i.Close,i.Volume=0),p[t][s]=i)}else{for(o in i={DT:(r=p.splice(t,1)[0]).DT,Close:null,needed:!1},c.series)void 0!==r[l=c.series[o].parameters.symbolObject.symbol]&&(i[l]=r[l],delete i.needed);g.cleanupGaps&&"gap"!=g.cleanupGaps&&(delete i.needed,"gap"!=g.cleanupGaps&&p[t-1]&&(i.Close=p[t-1].Close,i.High=i.Low=i.Open=i.Close,i.Volume=0)),!1!==i.needed&&p.splice(t,0,i)}}},W.ChartEngine.prototype.updateCurrentMarketData=function(n,t,e,i){var a,r,s,o,l,h,c,u,p,d,g,f,m;if(a="A",a+="sk",a+="L",a+="2",r="Bid",r+="L2",s="Bi",s+="d",o="La",o+="s",o+="t",n&&n.DT){if(t||(t=this.chart),l=i&&i.fromTrade,h=n.DT,!l&&"tick"!=this.layout.interval){if(t.market.market_def){if(!t.market.isMarketDate(n.DT))return;if(!W.ChartEngine.isDailyInterval(this.layout.interval)&&null===t.market.getSession(n.DT))return}c={begin:n.DT,interval:this.layout.interval,periodicity:this.layout.periodicity,timeUnit:this.layout.timeUnit},u=2;for(var y=1;-895031226!==yt.i5s(y.toString(),y.toString().length,33413);y++)p=new W.Market(t.market.market_def),this.extendedHours&&this.extendedHours.filter&&p.enableAllAvailableSessions(),d=p.newIterator(c),u+=2;1526302997!==yt.i5s(u.toString(),u.toString().length,8202)&&(p=new W.Market(t.market.market_def),(this.extendedHours||this.extendedHours.filter)&&p.enableAllAvailableSessions(),d=p.newIterator(c)),d.next(),n.DT=d.previous()}this.runPrepend("updateCurrentMarketData",arguments)||(g=t.currentMarketData,e&&(g[e]||(g[e]={}),g=g[e]),[o,s,"Ask"].forEach(function(t){var e,i,a=yt;if(n[t]&&"number"==typeof n[t]&&(!g[t]||!g[t].DT||g[t].DT<=n.DT)){a.c9s(0),e=-a.P9s("178960853",0),i=2;for(var r=1;-623054966!==a.A5s(r.toString(),r.toString().length,52381);r++)g[t]={DT:n.DT,Price:n[t],Size:n[t%""],Timestamp:h},i+=2;a.A5s(i.toString(),i.toString().length,67910)!==e&&(g[t]={DT:n.DT,Price:n[t],Size:n[t+"Size"],Timestamp:h})}}),[r,a].forEach(function(t){n[t]&&n[t]instanceof Array&&(!g[t]||!g[t].DT||g[t].DT<=n.DT)&&(g[t]={DT:n.DT,Price_Size:n[t],Timestamp:h})}),n.Close&&(!g.Last||g.Last.DT<=n.DT)&&(f=n.Close,((m=i&&i.finalClose)||0===m)&&(f=m),g.Last={DT:n.DT,Price:f,Size:void 0===n.LastSize&&"tick"==this.layout.interval?n.Volume:n.LastSize,Timestamp:n.LastTime||h}),g.touched=new Date,l||delete n.Last,this.runAppend("updateCurrentMarketData",arguments))}},W.ChartEngine.prototype.clearCurrentMarketData=function(t,e){var i,a,r;if(!this.runPrepend("clearCurrentMarketData",arguments)){if(a=[],t)a.push(t);else for(i in this.charts)a.push(this.charts[i]);for(i=0;i<a.length;i++)if(r=a[i].currentMarketData,e)delete r[e];else for(var n in r)delete r[n];this.runAppend("clearCurrentMarketData",arguments)}},W.ChartEngine.prototype.setMaxTicks=function(t,e){var i;e||(e={}),(t=Math.round(t))<2&&(t=2),i=e.padding?e.padding:0,this.layout.candleWidth=(this.chart.width-i)/t,this.layout.candleWidth||(this.layout.candleWidth=8),this.chart.maxTicks=Math.round(this.chart.width/this.layout.candleWidth-.499),(e.padding||0===e.padding)&&(yt.c9s(4),this.chart.scroll=yt.P9s(1,t))},W.ChartEngine.prototype.construct=function(){this.stackPanel("chart","chart",1),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name],this.cx=0,this.cy=0,this.micropixels=0,this.callbackListeners={doubleTap:[],drawing:[],drawingEdit:[],layout:[],longhold:[],move:[],scroll:[],newChart:[],preferences:[],rightClick:[],studyOverlayEdit:[],studyPanelEdit:[],symbolChange:[],symbolImport:[],tap:[],theme:[],undoStamp:[]},yt.c9s(14),this.longHoldTime=yt.t6s(1,"1000")},W.ChartEngine.prototype.addDomEventListener=function(t,e,i,a){t.addEventListener(e,i,a),this.eventListeners.push({element:t,event:e,function:i,options:a})},W.ChartEngine.prototype.addEventListener=function(t,e){var i;if("*"===t)for(var a in this.callbackListeners)this.callbackListeners[a].push(e);else if(t instanceof Array)for(var r=0;r<t.length;r++)this.callbackListeners[t[r]].push(e);else{if(!(i=this.callbackListeners[t]))throw new Error("Attempted to add an invalid listener.");i.push(e)}return{type:t,cb:e}},W.ChartEngine.prototype.removeEventListener=function(t,e){var i,a,r,n,s=yt;if(!t||"object"!=typeof t){i=2;for(var o=1;-2106613324!==s.i5s(o.toString(),o.toString().length,40353);o++)t={type:t,cb:e},i+=2;1299763776!==s.A5s(i.toString(),i.toString().length,15915)&&(t={type:t,cb:e})}if(a=function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return void t.splice(i,1)},r=this.callbackListeners,"*"!==t.type){if(!r[t.type]){n=2;for(var l=1;-1269708398!==s.A5s(l.toString(),l.toString().length,25212);l++){throw new Error("");n+=2}if(1525647736!==s.A5s(n.toString(),n.toString().length,10869))throw new Error("Attempted to remove an invalid listener.")}a(r[t.type],t.cb)}else for(var h in r)a(r[h],t.cb)},W.ChartEngine.prototype.dispatch=function(t,e){var i,a;if(this.callbacks[t]&&this.callbacks[t].call(this,e),i=this.callbackListeners[t]){for(var r=0;r<i.length;r++)a=i[r].call(this,e);if(a)return a}if(i=this.callbackListeners["*"]){for(var n=0;n<i.length;n++)a=i[n].call(this,e);if(a)return a}return!1},W.ChartEngine.prototype.getYAxisByName=function(t,e){var i;if(t){if("string"==typeof t&&(t=this.panels[t]),e===t.yAxis.name)return t.yAxis;for(i=0;t.yaxisLHS&&i<t.yaxisLHS.length;i++)if(t.yaxisLHS[i].name===e)return t.yaxisLHS[i];for(i=0;t.yaxisRHS&&i<t.yaxisRHS.length;i++)if(t.yaxisRHS[i].name===e)return t.yaxisRHS[i]}},W.ChartEngine.prototype.deleteYAxisIfUnused=function(t,e){var i,a;if(e&&t&&e.name!==t.yAxis.name){for(var r in this.chart.seriesRenderers)if((i=this.chart.seriesRenderers[r]).params.yAxis&&i.params.yAxis.name===e.name&&0!==i.seriesParams.length)return;for(a=0;a<t.yaxisLHS.length;a++)t.yaxisLHS[a]===e&&t.yaxisLHS.splice(a,1);for(a=0;a<t.yaxisRHS.length;a++)t.yaxisRHS[a]===e&&(yt.b9s(0),t.yaxisRHS.splice(a,yt.P9s("1",0)));this.preAdjustScroll(),this.resizeCanvas(),this.adjustPanelPositions(),this.postAdjustScroll()}},W.ChartEngine.prototype.addYAxis=function(t,e){var i,a;if(e){for(t.yaxisLHS||(t.yaxisLHS=[],t.yaxisRHS=[],"left"==t.yAxis.position?t.yaxisLHS.push(t.yAxis):t.yaxisRHS.push(t.yAxis)),i=(a=t.yaxisLHS).length-1;0<=i;i--)if(a[i].name===e.name){if("left"==e.position)return a[i];a.splice(i,1)}for(i=(a=t.yaxisRHS).length-1;0<=i;i--)if(a[i].name===e.name){if("left"!=e.position)return a[i];a.splice(i,1)}return"left"===e.position?t.yaxisLHS.unshift(e):(e.position||(e.position="right"),t.yaxisRHS.push(e)),e.height=t.yAxis.height,this.preAdjustScroll(),this.resizeCanvas(),this.adjustPanelPositions(),this.calculateYAxisMargins(e),this.postAdjustScroll(),e}},W.ChartEngine.prototype.calculateYAxisPositions=function(){var t,e,i,a,r,n,s,o,l,h,c,u;for(var p in t=[],this.charts)this.charts[p].hidden||this.charts[p].panel.hidden||t.push(p);for(var d in this.panels)(e=this.panels[d]).name===e.chart.name||e.hidden||t.push(d);for(this.drawBorders,n=a=i=0;n<t.length;n++)if(s=this.panels[t[n]]){for(s.yaxisLHS||(s.yaxisLHS=[],s.yaxisRHS=[]),(l=s.yAxis.position)||(l=s.chart.panel.yAxis.position),r=0;r<s.yaxisLHS.length;r++)if(s.yaxisLHS[r].name==s.yAxis.name){s.yaxisLHS.splice(r,1);break}for(r=0;r<s.yaxisRHS.length;r++)if(s.yaxisRHS[r].name==s.yAxis.name){s.yaxisRHS.splice(r,1);break}for("left"==l?s.yaxisLHS.push(s.yAxis):s.yaxisRHS.unshift(s.yAxis),s.yAxis.width||0===s.yAxis.width||(s.yAxis.width=this.yaxisWidth),s.yaxisTotalWidthRight=0,s.yaxisTotalWidthLeft=0,h=s.yaxisLHS.concat(s.yaxisRHS),r=0;r<h.length;r++)!(o=h[r]).noDraw&&o.width&&("left"==o.position||"left"==l&&!o.position?s.yaxisTotalWidthLeft+=o.width:s.yaxisTotalWidthRight+=o.width);s.yaxisTotalWidthLeft>i&&(i=s.yaxisTotalWidthLeft),s.yaxisTotalWidthRight>a&&(a=s.yaxisTotalWidthRight)}for(n=0;n<t.length;n++)if(s=this.panels[t[n]]){for(c=s.name===s.chart.name,u=i,r=s.yaxisLHS.length-1;0<=r;r--)(o=s.yaxisLHS[r]).noDraw||(u-=o.width,o.left=u);for(u=this.width-a,r=0;r<s.yaxisRHS.length;r++)(o=s.yaxisRHS[r]).noDraw||(o.left=u,u+=o.width);void 0!==this.yaxisLeft&&(s.chart.yaxisPaddingRight=this.yaxisLeft),s.yaxisCalculatedPaddingRight=a,(s.chart.yaxisPaddingRight||0===s.chart.yaxisPaddingRight)&&(s.yaxisCalculatedPaddingRight=s.chart.yaxisPaddingRight),s.yaxisCalculatedPaddingLeft=i,(s.chart.yaxisPaddingLeft||0===s.chart.yaxisPaddingLeft)&&(s.yaxisCalculatedPaddingLeft=s.chart.yaxisPaddingLeft),c||s.chart.panel.hidden?(s.left=s.yaxisCalculatedPaddingLeft,s.right=this.width-s.yaxisCalculatedPaddingRight):(s.left=s.chart.panel.left,s.right=s.chart.panel.right),s.width=s.right-s.left,s.handle&&(s.handle.style.left=s.left+"px",s.handle.style.width=s.width+"px"),(c||s.chart.panel.hidden)&&(s.chart.panel.left=s.chart.left=s.left,s.chart.panel.right=s.chart.right=s.right,s.chart.panel.width=s.chart.width=Math.max(s.right-s.left,0))}this.setCandleWidth(this.layout.candleWidth),this.adjustPanelPositions()},W.ChartEngine.prototype.getYAxisCurrentPosition=function(t,e){var i;if(!t.width)return"none";i=e.yaxisLHS;for(var a=0;a<i.length;a++)if(i[a].name==t.name)return"left";return"right"},W.ChartEngine.prototype.setYAxisPosition=function(t,e){t.position=e,t.width="none"==e?0:W.ChartEngine.YAxis.prototype.width,this.calculateYAxisPositions(),this.draw()},W.ChartEngine.prototype.initializeChart=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y=yt;if(!this.runPrepend("initializeChart",arguments)){for(var v in this.chart.symbolObject.symbol||(this.chart.symbolObject.symbol=this.chart.symbol),this.locale&&this.setLocale(this.locale),!this.displayZone&&W.ChartEngine.defaultDisplayTimeZone&&this.setTimeZone(null,W.ChartEngine.defaultDisplayTimeZone),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.micropixels=0,t?this.chart.container=t:t=this.chart.container,t.stx=this,t.CIQRegistered||(t.CIQRegistered=!0,W.ChartEngine.registeredContainers.push(t)),this.registerHTMLElements(),e=this.chart.canvas,i=this.chart.tempCanvas,a=this.floatCanvas,e&&document.createElement("canvas").getContext?(e.id||(t.removeChild(e),this.chart.canvas=null),i&&!i.id&&(t.removeChild(i),this.chart.tempCanvas=null),a&&!a.id&&(t.removeChild(a),this.floatCanvas=null)):(this.layout.candleWidth<this.minimumCandleWidth&&(this.layout.candleWidth=this.minimumCandleWidth),200<this.layout.candleWidth&&(this.layout.candleWidth=8)),this.chart.canvas||(e=this.chart.canvas=document.createElement("canvas")),this.chart.canvas.getContext?t.appendChild(e):((e=this.chart.canvas=P(".ie8canvas",t)).getContext||window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e),e.style.display="block"),e.style.position="absolute",e.style.left="0px",(e.context=this.chart.context=e.getContext("2d")).lineWidth=1,this.chart.tempCanvas||(i=this.chart.tempCanvas=document.createElement("canvas")),this.chart.tempCanvas.getContext?t.appendChild(i):(i=this.chart.tempCanvas=P(".ie8canvasTemp",t)).getContext||window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i),i.style.position="absolute",i.style.left="0px",i.context=this.chart.tempCanvas.getContext("2d"),i.context.lineWidth=1,i.style.display="none",this.floatCanvas||(a=this.floatCanvas=document.createElement("canvas")),this.floatCanvas.getContext?t.appendChild(a):(a=this.floatCanvas=P(".ie8canvasFloat",t)).getContext||window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(a),a.style.position="absolute",a.style.left="0px",a.context=a.getContext("2d"),a.context.lineWidth=1,a.style.display="none",this.resizeCanvas(),W.isAndroid&&(this.chart.tempCanvas.ontouchstart=function(t){t.preventDefault&&t.preventDefault()},this.floatCanvas.ontouchstart=function(t){t.preventDefault&&t.preventDefault()}),r=this.chart,n=this.panels,r.panel.display=r.symbol,r.symbolDisplay&&(r.panel.display=r.symbolDisplay),this.adjustPanelPositions(),this.chart.panel=n[r.name],n){s=n[v].yaxisLHS.concat(n[v].yaxisRHS);for(var b=0;b<s.length;b++)s[b].height=n[v].yAxis.height,this.calculateYAxisMargins(s[b])}o=2;for(var S=1;-780238819!==y.i5s(S.toString(),S.toString().length,43623);S++)this.initialWhitespace=this.preferences.whitespace,y.b9s(0),o+=y.t6s("2",0);if(-86807653!==y.i5s(o.toString(),o.toString().length,50149)&&(this.initialWhitespace=this.preferences.whitespace),r.dataSet&&0<r.dataSet.length){r.scroll=Math.floor(r.width/this.layout.candleWidth),l=Math.round(this.preferences.whitespace/this.layout.candleWidth),h=2;for(var x=1;1914301891!==y.i5s(x.toString(),x.toString().length,57155);x++)r.scroll-=l,h+=2;1250030990!==y.i5s(h.toString(),h.toString().length,5427)&&(r.scroll+=l)}var k,w,C,T,D;for(var M in W.touchDevice&&(c=P(".overlayEdit",t),u=P(".overlayTrashCan",t),p=P(".vectorTrashCan",t),c?(W.safeClickTouch(c,(T=this,function(t){T.deleteHighlighted(!0,!0)})),u&&W.safeClickTouch(u,(C=this,function(t){C.deleteHighlighted(!1)}))):u&&W.safeClickTouch(u,(w=this,function(t){w.deleteHighlighted(!0)})),p&&W.safeClickTouch(p,(k=this,function(t){k.deleteHighlighted(!0)}))),this.manageTouchAndMouse&&this.registerTouchAndMouseEvents(),t.onmouseout=(D=this,function(t){D.handleMouseOut(t)}),W.smartHover(),this.abortDrawings(),this.undoStamps=[],n)(d=n[M]).markerHolder&&(t.removeChild(d.markerHolder),d.markerHolder=null);for(var A in this.plugins)(g=this.plugins[A]).display&&g.initializeChart&&g.initializeChart(this);this.resizeListenerInitialized||((f=this).resizeListenerInitialized=!0,m=function(){return function(t){f.resizeChart()}},this.addDomEventListener(window,"resize",m(),!0)),r.baseline.userLevel&&(r.baseline.userLevel=null),this.setResizeTimer(this.resizeDetectMS),this.runAppend("initializeChart",arguments)}},W.ChartEngine.prototype.destroy=function(){var t,e,i,a;this.setResizeTimer(0),this.quoteDriver&&this.quoteDriver.die(),this.styles={};for(var r=0;r<this.eventListeners.length;r++)(t=this.eventListeners[r]).element.removeEventListener(t.event,t.function,t.options);this.streamParameters.timeout&&clearTimeout(this.streamParameters.timeout),-1<(i=(e=W.ChartEngine.registeredContainers).indexOf(this.chart.container))&&e.splice(i,1),this.slider&&-1<(a=e.indexOf(this.slider.slider.chart.container))&&(yt.b9s(14),e.splice(a,yt.P9s(1,"1")))},W.ChartEngine.prototype.handleMouseOut=function(t){var e,i;if(t=t||window.event,!W.withinElement(this.chart.container,t.pageX,t.pageY)){if(this.runPrepend("handleMouseOut",arguments))return;this.undisplayCrosshairs(),this.grabbingScreen=!1,this.touches=[],this.touching=!1,this.activeDrawing&&this.userPointerDown&&(this.userPointerDown=!1,this.drawingLine=!1,e=this.backOutY(t.pageY),i=this.backOutX(t.pageX),this.drawingClick(this.currentPanel,i,e)),W.ChartEngine.insideChart=!1,this.displaySticky(),this.findHighlights(!1,!0),this.runAppend("handleMouseOut",arguments)}},W.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var t,e,i,a,r,n;this.touchAndMouseEventsRegistered||(this.touchAndMouseEventsRegistered=!0,t=P(".stx-zoom-in",this.controls.chartControls),e=P(".stx-zoom-out",this.controls.chartControls),i=this.chart.container,a=this,r=function(t,e){a.addDomEventListener(i,t,function(t){a.mainSeriesRenderer&&a.mainSeriesRenderer.nonInteractive||e(t)})},W.touchDevice?W.isSurface?(r("mousemove",function(t){a.msMouseMoveProxy(t)}),r("mouseenter",function(t){a.msMouseMoveProxy(t)}),r("mousedown",function(t){a.msMouseDownProxy(t)}),r("mouseup",function(t){a.msMouseUpProxy(t)}),r("pointerdown",function(t){return a.startProxy(t)}),r("pointermove",function(t){a.moveProxy(t)}),r("pointerenter",function(t){return a.moveProxy(t)}),r("pointerup",function(t){return a.endProxy(t)})):(W.isAndroid||W.ipad||W.iphone||(r("mousemove",function(t){a.iosMouseMoveProxy(t)}),r("mouseenter",function(t){a.iosMouseMoveProxy(t)}),r("mousedown",function(t){a.iosMouseDownProxy(t)}),r("mouseup",function(t){a.iosMouseUpProxy(t)})),r("touchstart",function(t){a.touchstart(t)}),r("touchmove",function(t){a.touchmove(t)}),r("touchend",function(t){a.touchend(t)}),r("pointerdown",function(t){a.touchPointerType=t.pointerType}),t&&(t.removeAttribute("onMouseOver"),t.removeAttribute("onMouseOut")),e&&(e.removeAttribute("onMouseOver"),e.removeAttribute("onMouseOut"))):(r("mousemove",function(t){a.mousemove(t)}),r("mouseenter",function(t){a.mousemove(t)}),r("mousedown",function(t){a.mousedown(t)}),r("mouseup",function(t){a.mouseup(t)})),n=W.wheelEvent,this.captureMouseWheelEvents&&r(n,function(t){a.mouseWheel(t)}))},W.ChartEngine.prototype.rightClickHighlighted=function(){this.runPrepend("rightClickHighlighted",arguments)||(this.deleteHighlighted(!0),this.runAppend("rightClickHighlighted",arguments))},W.ChartEngine.prototype.deleteHighlighted=function(t,e){var i,a,r,n,s,o,l,h,c,u,p=yt;if(!this.runPrepend("deleteHighlighted",arguments)){if(this.cancelTouchSingleClick=!0,W.clearCanvas(this.chart.tempCanvas,this),(i=!1===this.bypassRightClick)||!this.bypassRightClick.drawing)for(var d=this.drawingObjects.length-1;0<=d;d--)(a=this.drawingObjects[d]).highlighted&&(t?this.rightClickDrawing(a,e):a.permanent||(a.abort()||(r=W.shallowClone(this.drawingObjects),this.drawingObjects.splice(d,1),this.undoStamp(r,W.shallowClone(this.drawingObjects))),this.changeOccurred("vector")));if(i||!this.bypassRightClick.study)for(var g in this.overlays)(n=this.overlays[g]).highlight&&!n.permanent&&(t||e?this.rightClickOverlay(g,e):this.removeOverlay(g));p.c9s(14),s=-p.P9s(1,"2037377949"),o=2;for(var f=1;p.i5s(f.toString(),f.toString().length,26293)!==s;f++)l=this.currentPanel.chart,o+=2;if(1376899053!==p.A5s(o.toString(),o.toString().length,88744)&&(l=this.currentPanel.chart),l=this.currentPanel.chart,i||!this.bypassRightClick.series)for(var m in l.seriesRenderers)for(var y=(h=l.seriesRenderers[m]).seriesParams.length-1;0<=y;y--)(c=h.seriesParams[y]).highlight&&!c.permanent&&(h.removeSeries(c.id),h.seriesParams.length<1&&this.removeSeriesRenderer(h));this.draw(),this.clearMeasure(),(u=this.controls.mSticky)&&(u.style.display="none",u.children[0].innerHTML=""),this.runAppend("deleteHighlighted",arguments)}},W.ChartEngine.prototype.panelExists=function(t){for(var e in this.panels)if(this.panels[e].name==t)return!0;return!1},W.ChartEngine.prototype.hideCrosshairs=function(){this.displayCrosshairs=!1},W.ChartEngine.prototype.showCrosshairs=function(){this.displayCrosshairs=!0},W.ChartEngine.prototype.grabHandle=function(t){this.runPrepend("grabHandle",arguments)||t&&(W.ChartEngine.crosshairY=t.top+this.top,W.ChartEngine.resizingPanel=t,W.appendClassName(t.handle,"stx-grab"),this.runAppend("grabHandle",arguments))},W.ChartEngine.prototype.releaseHandle=function(){if(this.runPrepend("releaseHandle",arguments))return!0;W.clearCanvas(this.chart.tempCanvas,this),this.resizePanels(),W.ChartEngine.resizingPanel&&W.unappendClassName(W.ChartEngine.resizingPanel.handle,"stx-grab"),W.ChartEngine.resizingPanel=null,this.runAppend("releaseHandle",arguments)},W.ChartEngine.prototype.storePanels=function(){var t,e;for(var i in this.layout||(this.layout={}),(t=this.layout).panels={},this.panels)e=this.panels[i],t.panels[e.name]={percent:e.percent,display:e.display,yAxis:e.yAxis}},W.ChartEngine.prototype.savePanels=function(t){this.storePanels(),!1!==t&&this.changeOccurred("layout")},W.ChartEngine.prototype.resolveY=function(t){for(var e=1;218061292!==yt.A5s(e.toString(),e.toString().length,30603);e++)return this.top*t;return-2024150965!==yt.i5s(2..toString(),2..toString().length,43032)?this.top*t:this.top+t},W.ChartEngine.prototype.resolveX=function(t){return this.left+t},W.ChartEngine.prototype.backOutY=function(t){return t-this.top},W.ChartEngine.prototype.backOutX=function(t){return t-this.left},W.ChartEngine.prototype.cleanupRemovedStudy=function(t){if(t){for(var e in t.study.removeFN&&t.study.removeFN(this,t),this.plugins)-1<e.indexOf("{"+t.id+"}")&&delete this.plugins[e];this.layout.studies&&delete this.layout.studies[t.name],delete this.overlays[t.name],W.Studies&&W.Studies.removeStudySymbols(t,this),this.quoteDriver&&this.quoteDriver.updateSubscriptions()}},W.ChartEngine.prototype.privateDeletePanel=function(t){var e;for(var i in this.layout.studies&&this.cleanupRemovedStudy(this.layout.studies[t.name]),delete this.panels[t.name],this.overlays)this.overlays[i].panel==t.name&&(this.layout.studies&&this.cleanupRemovedStudy(this.layout.studies[i]),delete this.overlays[i]);for(var a in this.chart.series)this.chart.series[a].parameters.panel==t.name&&this.removeSeries(this.chart.series[a],this.chart);if(t.holder&&(this.chart.container.removeChild(t.holder),this.getMarkerArray)){e=this.getMarkerArray("panelName",t.name);for(var r=0;r<e.length;r++)this.removeFromHolder(e[r])}t.handle&&t.handle.parentNode.removeChild(t.handle),this.currentPanel=null},W.ChartEngine.prototype.checkForEmptyPanel=function(t){if(!t)return!1;if("object"==typeof t&&(t=t.name),t!==this.chart.name){for(var e in this.layout.studies)if(t===this.layout.studies[e].panel)return!1;for(var i in this.chart.series)if(t===this.chart.series[i].parameters.panel)return!1;return this.panelClose(this.panels[t]),!0}},W.ChartEngine.prototype.panelClose=function(t){var e;if(t&&!this.runPrepend("panelClose",arguments)){if(this.cancelTouchSingleClick=!0,W.ChartEngine.drawingLine=!1,t.soloing&&this.panelSolo(t),this.charts[t.name]){for(var i in this.panels)(e=this.panels[i]).chart.name==t.name&&this.privateDeletePanel(e);delete this.charts[t.name]}else this.privateDeletePanel(t);this.currentlyImporting||(this.showCrosshairs(),this.createDataSet(),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()),this.userPointerDown=this.grabbingScreen=!1,this.openDialog&&(this.openDialog=""),this.runAppend("panelClose",arguments)}},W.ChartEngine.prototype.deleteAllPanels=function(){var t;for(var e in this.panels)t=this.panels[e],this.privateDeletePanel(t);this.layout.panels={},this.panels={}},W.ChartEngine.prototype.panelUp=function(t){var e,i,a,r;for(a in this.cancelTouchSingleClick=!0,W.ChartEngine.drawingLine=!1,this.showCrosshairs(),e={},i=0,this.panels){if(a==t.name)break;i++}if(i){for(a in r=0,this.panels)r==i-1&&(e[t.name]=t),a!=t.name&&(e[a]=this.panels[a],r++);this.panels=e,this.adjustPanelPositions(),this.draw(),this.savePanels()}},W.ChartEngine.prototype.panelDown=function(t){var e,i,a,r,n;for(a in this.cancelTouchSingleClick=!0,W.ChartEngine.drawingLine=!1,this.showCrosshairs(),e={},i=0,this.panels){if(a==t.name)break;i++}for(a in r=0,this.panels)r++;if(i!=r-1){for(a in n=0,this.panels)a!=t.name&&(e[a]=this.panels[a],n==i+1&&(e[t.name]=t)),n++;this.panels=e,this.adjustPanelPositions(),this.draw(),this.savePanels()}},W.ChartEngine.prototype.panelSolo=function(t){var e,i,a;if(this.cancelTouchSingleClick=!0,W.ChartEngine.drawingLine=!1,this.showCrosshairs(),e=!0,t.soloing){if(e=!1,t.soloing=!1,W.unappendClassName(t.solo,"stx_solo_lit"),t.percent=t.oldPercent,"chart"!=t.name)if(this.soloPanelToFullScreen){if(1==t.percent)for(i in this.panels)(a=this.panels[i])!=t&&(t.percent-=a.percent)}else this.chart.panel.percent=this.chart.panel.oldPercent;this.soloPanelToFullScreen&&(this.xAxisAsFooter=this.chart.panel.oldXAxisAsFooter)}else t.soloing=!0,W.appendClassName(t.solo,"stx_solo_lit"),t.oldPercent=t.percent,this.chart.panel.oldXAxisAsFooter=this.xAxisAsFooter,"chart"!=t.name&&(this.soloPanelToFullScreen?this.xAxisAsFooter=!0:(this.chart.panel.oldPercent=this.chart.panel.percent,t.percent=1-this.chart.panel.percent));for(i in this.panels)this.panels[i].hidden=e;this.soloPanelToFullScreen||(this.chart.panel.hidden=!1),t.hidden=!1,this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()},W.ChartEngine.prototype.calculatePanelPercent=function(t){var e;e=t.bottom-t.top,t.percent=e/this.chart.canvasHeight},W.ChartEngine.prototype.resizePanels=function(){var t,e,i,a,r,n;if(W.ChartEngine.resizingPanel){for(var s in r=W.ChartEngine.crosshairY>this.resolveY(W.ChartEngine.resizingPanel.top),this.panels){if(this.panels[s]==W.ChartEngine.resizingPanel)break;this.panels[s].hidden||(t=this.panels[s])}if(n=this.backOutY(W.ChartEngine.crosshairY),r)for(i=W.ChartEngine.resizingPanel.yaxisLHS.concat(W.ChartEngine.resizingPanel.yaxisRHS),a=0;a<i.length;a++)e=i[a].initialMarginTop+i[a].initialMarginBottom+10,n>i[a].bottom-e&&(n=i[a].bottom-e);else for(i=t.yaxisLHS.concat(t.yaxisRHS),a=0;a<i.length;a++){yt.b9s(48);var o=yt.t6s(10,70,79,9);e=i[a].initialMarginTop+i[a].initialMarginBottom+o,n<i[a].top+e&&(n=i[a].top+e)}W.ChartEngine.crosshairY=this.resolveY(n),t.bottom=n,W.ChartEngine.resizingPanel.top=n,this.calculatePanelPercent(t),this.calculatePanelPercent(W.ChartEngine.resizingPanel),this.adjustPanelPositions(),this.draw(),this.savePanels()}},W.ChartEngine.prototype.adjustPanelPositions=function(){var t,e,i,a,r,n,s,o,l,h,c,u,p=yt;if(this.chart.tempCanvas&&W.clearCanvas(this.chart.tempCanvas,this),this.chart.symbol&&!this.runPrepend("adjustPanelPositions",arguments)){for(s in t=0,e=this.chart.canvasHeight,r=a=0,n=i=!1,this.panels)o=this.panels[s],(isNaN(o.percent)||o.percent<=0)&&(p.b9s(1),o.percent=p.P9s(0,"0.05")),o.hidden||(a+=o.percent,r++,o.soloing&&(n=!0));for(s in this.panels)if(l=0,(o=this.panels[s]).hidden)o.markerHolder&&(o.markerHolder.style.display="none");else{this.manageTouchAndMouse&&(o.up&&(i?this.displayIconsUpDown&&W.appendClassName(o.up,"stx-show"):(i=!0,W.unappendClassName(o.up,"stx-show"))),o.solo&&(n?o.soloing&&this.displayIconsSolo?W.appendClassName(o.solo,"stx-show"):W.unappendClassName(o.solo,"stx-show"):1==r?W.unappendClassName(o.solo,"stx-show"):2!=r||this.soloPanelToFullScreen?this.displayIconsSolo&&W.appendClassName(o.solo,"stx-show"):W.unappendClassName(o.solo,"stx-show")),o.down&&(1==r?W.unappendClassName(o.down,"stx-show"):this.displayIconsUpDown&&W.appendClassName(o.down,"stx-show")),o.edit&&(o.editFunction?W.appendClassName(o.edit,"stx-show"):W.unappendClassName(o.edit,"stx-show")),o.close&&(this.displayIconsClose?W.appendClassName(o.close,"stx-show"):W.unappendClassName(o.close,"stx-show"))),o.percent=o.percent/a,o.top=t,o.bottom=o.top+e*o.percent,o.height=o.bottom-o.top,o.chart.name==o.name&&(o.chart.top=o.top,o.chart.bottom=o.bottom,o.chart.height=o.height),t=o.bottom,h=o.yaxisLHS.concat(o.yaxisRHS);for(var d=0;d<h.length;d++)(c=h[d]).zoom&&0<c.height&&(l=c.zoom/c.height),this.adjustYAxisHeightOffset(o,c),c.height=c.bottom-c.top,l&&(c.scroll*=l*c.height/c.zoom,c.zoom=l*c.height,c.zoom>c.height&&(c.zoom=0,c.scroll=0)),c.high||0===c.high||(c.high=100,c.low=0,c.shadow=100),c.multiplier=c.height/c.shadow;o.holder&&(o.holder.style.right="0px",o.holder.style.top=o.top+"px",o.holder.style.left="0px",o.holder.style.height=o.height+"px",o.subholder.style.left=o.left+"px",o.subholder.style.width=o.width+"px",o.subholder.style.top="0px",0<=o.yAxis.height&&(o.subholder.style.height=o.yAxis.height+"px"))}if(s&&this.panels[s].down&&W.unappendClassName(this.panels[s].down,"stx-show"),this.manageTouchAndMouse&&2==r&&!n&&this.chart.panel.solo&&W.appendClassName(this.chart.panel.solo,"stx-show"),this.chart.panel){if(n&&this.soloPanelToFullScreen)u=this.chart.canvasHeight-o.yAxis.bottom+12;else{p.c9s(6);var g=p.t6s(2,31,50);u=this.chart.canvasHeight-this.chart.panel.yAxis.bottom+g}this.controls.chartControls&&(p.b9s(4),this.controls.chartControls.style.bottom=p.t6s("px",u)),this.controls.home&&(p.c9s(4),this.controls.home.style.bottom=p.P9s("px",u),this.controls.home.style.marginRight=this.width-this.chart.panel.right+"px")}this.clearPixelCache(),this.adjustDrawings(),this.runAppend("adjustPanelPositions",arguments)}},W.ChartEngine.prototype.addChart=function(t,e){e.name=t,this.charts[t]=e},W.ChartEngine.prototype.createPanel=function(t,e,i,a,r){var n,s,o,l,h,c,u=yt;if(!this.runPrepend("createPanel",arguments)){if(a||(a="chart"),n=this.chart.canvasHeight,!i){s=2;for(var p=1;1325055406!==u.A5s(p.toString(),p.toString().length,23745);p++)u.c9s(14),i=u.t6s(.2,n),s+=2;679532159!==u.A5s(s.toString(),s.toString().length,97742)&&(u.b9s(3),i=u.t6s(n,3385))}for(var d in u.b9s(3),o=u.t6s(i,n),u.b9s(1),l=u.P9s(o,1),h=!1,this.panels)(c=this.panels[d]).percent*=l,c.soloing&&(h=!0);this.stackPanel(t,e,o,a,r),this.panels[e].hidden=h,this.adjustPanelPositions(),this.savePanels(!1),this.runAppend("createPanel",arguments)}},W.ChartEngine.prototype.configurePanelControls=function(t){var e,i,a,r,n,s,o,l,h,c,u,p;t.icons&&(e=t.name==t.chart.name,W.appendClassName(t.icons,"stx-show"),t.title=P(".stx-panel-title",t.icons),t.up=P(".stx-ico-up",t.icons),t.up&&(t.up=t.up.parentNode),t.solo=P(".stx-ico-focus",t.icons),t.solo&&(t.solo=t.solo.parentNode),t.down=P(".stx-ico-down",t.icons),t.down&&(t.down=t.down.parentNode),t.edit=P(".stx-ico-edit",t.icons),t.edit&&(t.edit=t.edit.parentNode),t.close=P(".stx-ico-close",t.icons),t.close&&(t.close=t.close.parentNode),t.title&&(t.title.innerHTML="",t.display&&t.title.appendChild(document.createTextNode(t.display)),e&&(W.appendClassName(t.title,"chart-title"),W.appendClassName(t.icons,"stx-chart-panel"))),W.touchDevice&&!W.isSurface||this.makeModal(t.icons),t.handle&&(W.touchDevice&&!W.isSurface||(t.handle.onmouseover=(r=this,function(){r.hideCrosshairs()})),W.touchDevice&&!W.isSurface||(t.handle.onmouseout=(a=this,function(){a.showCrosshairs()})),i=function(e,i){return function(t){W.ChartEngine.resizingPanel||e.grabHandle(i)}},W.isSurface?t.handle.onpointerdown=i(this,t):t.handle.onmousedown=i(this,t),W.touchDevice&&(t.handle.ontouchstart=i(this,t))),t.up&&W.safeClickTouch(t.up,(n=this,s=t,function(){n.panelUp(s)})),t.down&&W.safeClickTouch(t.down,(o=this,l=t,function(){o.panelDown(l)})),t.solo&&W.safeClickTouch(t.solo,(h=this,c=t,function(){h.panelSolo(c)})),t.close&&("chart"==t.name?t.close.style.display="none":W.safeClickTouch(t.close,(u=this,p=t,function(){u.panelClose(p)}))))},W.ChartEngine.prototype.stackPanel=function(t,e,i,a,r){var n,s,o,l;this.runPrepend("stackPanel",arguments)||(a||(a="chart"),n=this.charts[a],yt.b9s(47),(s=yt.P9s(e,a))&&(t=n.symbol,n.symbolDisplay&&(t=n.symbolDisplay),r||(r=n.yAxis)),o=this.panels[e]=new W.ChartEngine.Panel(e,r),!s&&n.yAxis&&o.yAxis.position==n.yAxis.position&&(o.yAxis.width=n.yAxis.width),s&&!n.panel&&(n.panel=o),o.percent=i,o.chart=n,o.display=t,o.holder=W.newChild(this.container,"div","stx-holder"),o.subholder=W.newChild(o.holder,"div","stx-subholder"),o.subholder.style.zIndex=1,o.holder.setAttribute("cq-panel-name",e),o.subholder.setAttribute("cq-panel-name",e),l=s?"stx-panel-chart":"stx-panel-study",W.appendClassName(o.holder,l),this.controls.handleTemplate&&this.manageTouchAndMouse&&(o.handle=this.controls.handleTemplate.cloneNode(!0),this.container.appendChild(o.handle),o.handle.panel=o),this.controls.iconsTemplate&&(o.icons=this.controls.iconsTemplate.cloneNode(!0),o.subholder.appendChild(o.icons),this.configurePanelControls(o)),this.currentlyImporting||this.resizeCanvas(),this.runAppend("stackPanel",arguments))},W.ChartEngine.prototype.setPanelEdit=function(t,e){t.editFunction=e,t.edit&&W.safeClickTouch(t.edit,e),this.adjustPanelPositions()},W.ChartEngine.prototype.drawPanels=function(){var t,e,i,a,r,n=yt;if(!this.runPrepend("drawPanels",arguments)){for(var s in t=!1,this.panels)if((e=this.panels[s]).state={},i=this.translateIf(e.display),e.title&&e.title.textContent!=i&&(e.title.innerHTML="",e.title.appendChild(document.createTextNode(i))),W.appendClassName(e.icons,"stx-show"),e.hidden)W.unappendClassName(e.icons,"stx-show"),e.handle&&(e.handle.style.display="none"),e.holder.style.display="none";else if("chart"!=e.name&&(a=this.manageTouchAndMouse,e.up&&(e.up.style.display=this.displayIconsUpDown&&a?"":"none"),e.down&&(e.down.style.display=this.displayIconsUpDown&&a?"":"none"),e.solo&&(e.solo.style.display=this.displayIconsSolo&&a?"":"none"),e.close&&(e.close.style.display=this.displayIconsClose&&a?"":"none"),e.edit&&(e.edit.style.display=e.editFunction&&a?"":"none")),e.holder.style.display="block",t){r=e.top,n.c9s(9);var o=n.P9s(12,19,19,12);if(r=Math.round(r)+"0.5"*o,this.plotLine(e.left,e.right,r,r,this.canvasStyle("stx_panel_border"),"segment",this.chart.context,!1,{}),e.handle){this.displayPanelResize?e.handle.style.display="":e.handle.style.display="none",n.c9s(49);var l=n.t6s(19,6,19,13,21);e.handle.style.top=r-e.handle.offsetHeight/l+"px"}}else e.handle&&(e.handle.style.display="none"),t=!0;this.runAppend("drawPanels",arguments)}},W.ChartEngine.prototype.touchSingleClick=function(t,r,n){var s,o;return s=this,o=arguments,function(){(function(){var t,e,i,a;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",o))return;if(this.editingAnnotation)return;if(this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},!this.displayCrosshairs)return;if(!this.displayInitialized)return;if(""!==this.openDialog)return;if(r<this.left||r>this.right||n<this.top||n>this.bottom)return;t=this.backOutY(W.ChartEngine.crosshairY),e=this.backOutX(W.ChartEngine.crosshairX),this.currentPanel=this.whichPanel(t),i=this.currentVectorParameters.vectorType,W.Drawing&&i&&W.Drawing[i]&&(new W.Drawing[i]).dragToDraw||(this.drawingClick(this.currentPanel,e,t)||this.layout.crosshair||(W.ChartEngine.crosshairY=0,yt.c9s(0),W.ChartEngine.crosshairX=yt.P9s("0",0),this.cx=this.backOutX(W.ChartEngine.crosshairX),this.cy=this.backOutY(W.ChartEngine.crosshairY),this.findHighlights(null,!0),W.ChartEngine.crosshairY=n,W.ChartEngine.crosshairX=r,a=this.container.getBoundingClientRect(),this.top=a.top,this.left=a.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cx=this.backOutX(W.ChartEngine.crosshairX),this.cy=this.backOutY(W.ChartEngine.crosshairY),this.currentPanel&&this.currentPanel.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel))),this.headsUpHR(),this.findHighlights(!0)),this.currentVectorParameters.vectorType||this.dispatch("tap",{stx:this,panel:this.currentPanel,x:e,y:t}))}s.cancelTouchSingleClick=!1,this.runAppend("touchSingleClick",o)}).apply(s,o)}},W.ChartEngine.prototype.touchDoubleClick=function(t,e,i){var a;this.runPrepend("touchDoubleClick",arguments)||this.dispatch("doubleTap",{stx:this,finger:t,x:e,y:i})||e<this.left||e>this.right||i<this.chart.panel.top||i>this.chart.panel.bottom||this.editingAnnotation||(W.ChartEngine.drawingLine?this.undo():this.anyHighlighted?this.deleteHighlighted():((a=this.currentPanel.yAxis).scroll==(a.initialMarginTop-a.initialMarginBottom)/2&&a.zoom==a.initialMarginTop+a.initialMarginBottom?this.home():this.calculateYAxisMargins(this.currentPanel.yAxis),this.draw()),this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},this.runAppend("touchDoubleClick",arguments))},W.ChartEngine.prototype.startProxy=function(t){this.touchPointerType=t.pointerType,"touch"==this.touchPointerType?(this.mouseMode=!1,this.touches[this.touches.length]={pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY},this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY}],1==this.touches.length&&(this.gesturePointerId=t.pointerId),this.touchstart(t)):this.mouseMode=!0},W.ChartEngine.prototype.moveProxy=function(t){t.pointerType&&"touch"!=t.pointerType?this.mouseMode=!0:(this.mouseMode=!1,this.touchmove(t))},W.ChartEngine.prototype.endProxy=function(t){var e;if("touch"==this.touchPointerType){this.mouseMode=!1,e=this.touches.length;for(var i=0;i<this.touches.length;i++)if(this.touches[i].pointerId==t.pointerId){this.touches.splice(i,1);break}if(i==e)return this.touches=[],this.grabbingScreen=!1,void(this.touching=!1);this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY}],this.touchend(t)}else this.mouseMode=!0},W.ChartEngine.prototype.msMouseMoveProxy=function(t){!this.touches.length&&this.mouseMode&&this.mousemove(t)},W.ChartEngine.prototype.msMouseDownProxy=function(t){this.mouseMode&&this.mousedown(t)},W.ChartEngine.prototype.msMouseUpProxy=function(t){this.mouseMode&&this.mouseup(t)},W.ChartEngine.prototype.iosMouseMoveProxy=function(t){this.touching||this.mousemove(t)},W.ChartEngine.prototype.iosMouseDownProxy=function(t){this.touching?this.mouseMode=!1:(this.mouseMode=!0,this.mousedown(t))},W.ChartEngine.prototype.iosMouseUpProxy=function(t){this.touching||this.mouseup(t)},W.ChartEngine.prototype.rawWatermark=function(t,e,i,a){this.canvasFont("stx_watermark",t),t.fillStyle=this.defaultColor,t.globalAlpha=.5,this.chart.context.textBaseline="alphabetic",t.fillText(a,e,i),t.globalAlpha=1},W.ChartEngine.prototype.watermark=function(t,e){var i,a,r;e&&"object"!=typeof e&&(e={h:e,v:arguments[2],text:arguments[3]}),e={h:e.h||"left",v:e.v||"bottom",text:e.text||"",hOffset:e.hOffset||10,vOffset:e.vOffset||20},this.chart.context&&(i=this.panels[t])&&!i.hidden&&(a=i.yAxis.bottom-e.vOffset,"top"==e.v?a=i.top+e.vOffset:"middle"==e.v&&(a=(i.top+i.yAxis.bottom)/2),this.chart.context.save(),this.canvasFont("stx_watermark"),this.canvasColor("stx_watermark"),this.chart.context.textBaseline="alphabetic",r=i.left+e.hOffset,"right"==e.h?r=i.right-e.hOffset:"center"==e.h&&(r=(i.right+i.left-this.chart.context.measureText(e.text).width)/2),this.chart.context.globalAlpha=.5,this.chart.context.fillText(e.text,r,a),this.chart.context.globalAlpha=1,this.chart.context.restore())},W.ChartEngine.prototype.preAdjustScroll=function(t){t||(t=this.chart),this.previousAdjust={chart:t,scroll:t.scroll,maxTicks:t.maxTicks}},W.ChartEngine.prototype.postAdjustScroll=function(){var t;this.previousAdjust&&((t=this.previousAdjust.chart).scroll=this.previousAdjust.scroll+(t.maxTicks-this.previousAdjust.maxTicks),this.displayInitialized&&this.draw())},W.ChartEngine.prototype.adjustDrawings=function(){for(var t,e=0;e<this.drawingObjects.length;e++)t=this.drawingObjects[e],this.panels[t.panelName]&&t.adjust()},W.ChartEngine.prototype.getNextInterval=function(t,e,i){var a;return e||(e=1),!1!==i&&(i=!0),a=this.standardMarketIterator(t,i?this.dataZone:this.displayZone),e<1?(yt.c9s(41),a.previous(yt.t6s(1,e))):a.next(e)},W.ChartEngine.prototype.standardMarketIterator=function(t,e,i){var a,r;return a=i||this.chart,r={begin:t,interval:this.layout.interval,periodicity:"tick"==this.layout.interval?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,timeUnit:this.layout.timeUnit,outZone:e},a.market.newIterator(r)},W.ChartEngine.prototype.zoomSet=function(t,e){var i,a,r,n,s,o,l,h=yt;h.b9s(14),i=-h.t6s(1,"835749736"),a=2;for(var c=1;h.A5s(c.toString(),c.toString().length,35921)!==i;c++)r=this.mainSeriesRenderer||{},a+=2;if(553223153!==h.i5s(a.toString(),a.toString().length,61946)&&(r=this.mainSeriesRenderer&&{}),!r.params||!r.params.volume){if(this.preferences.zoomAtCurrentMousePosition&&this.zoomInitiatedByMouseWheel&&this.crosshairTick<e.dataSet.length){s=2;for(var u=1;-1678334568!==h.A5s(u.toString(),u.toString().length,93861);u++)n=this.crosshairTick||this.tickFromPixel(this.cx,e),s+=2;-1896267964!==h.A5s(s.toString(),s.toString().length,74138)&&(n=this.crosshairTick&&this.tickFromPixel(this.cx,e))}else if(this.isHome()){h.c9s(3);var p=h.t6s(16,16);n=e.dataSet.length-p}else n=this.chart.scroll>this.chart.dataSet.length?(h.c9s(0),h.P9s("0",0)):"zoom-x"==this.grabMode?this.tickFromPixel(this.chart.width,e):this.tickFromPixel(this.chart.width/2,e);this.animations.zoom.hasCompleted&&(this.zoomInitiatedByMouseWheel=!1),h.b9s(1);var d=h.t6s(15,16);o=e.dataSet.length-d-n,l=e.scroll,h.b9s(8);var g=h.P9s(37,19,19);e.scroll=Math.floor((this.pixelFromTick(n,e)-e.left)/t)+g+o,this.micropixels+=(l-o)*this.layout.candleWidth-(e.scroll-o)*t}this.setCandleWidth(t),e.spanLock=!1,this.draw(),this.doDisplayCrosshairs(),this.updateChartAccessories()},W.ChartEngine.prototype.zoomOut=function(t,e){var s,i,a,r;if(!this.runPrepend("zoomOut",arguments))for(var n in this.preferences.zoomOutSpeed?e=this.preferences.zoomOutSpeed:e||(e=1.3),t&&t.preventDefault&&t.preventDefault(),this.cancelTouchSingleClick=!0,(s=this).charts){if(i=this.charts[n],W.ipad&&i.maxTicks>W.ChartEngine.ipadMaxTicks)return;a=Math.floor(i.maxTicks*e),!1===i.allowScrollFuture&&!1===i.allowScrollPast&&a>i.dataSet.length&&(a=i.dataSet.length),(r=this.chart.width/a)<this.minimumCandleWidth&&(r=this.minimumCandleWidth),this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(o(i),this.layout.candleWidth,r)}function o(n){return function(t){var e,i,a=yt;if(s.zoomSet(t,n),s.animations.zoom.hasCompleted){if(s.runAppend("zoomOut",arguments))return;a.b9s(0),e=-a.t6s("1895712052",0),i=2;for(var r=1;a.A5s(r.toString(),r.toString().length,19972)!==e;r++)s.changeOccurred("layout"),i+=2;63319817!==a.A5s(i.toString(),i.toString().length,44288)&&s.changeOccurred("")}}}},W.ChartEngine.prototype.mouseWheel=function(t){var e,i,a,r,n,s,o,l,h,c=yt;if(!this.runPrepend("mouseWheel",arguments)&&(t||(t=event),t.preventDefault&&t.preventDefault(),e=t.deltaX,i=t.deltaY,Math.abs(i)>Math.abs(e)?e=0:i=0,this.lastMouseWheelEvent=Date.now(),0!==Math.abs(e)||0!==Math.abs(i))){if(this.allowSideswipe&&0!==e)return this.lastMove="horizontal",50<(a=e)&&(c.c9s(1),a=c.t6s(0,"50")),a<-50&&(a=-50),this.grabbingScreen=!0,this.currentPanel||(this.currentPanel=this.chart.panel),this.grabStartX=W.ChartEngine.crosshairX,this.grabStartY=W.ChartEngine.crosshairY,this.grabStartScrollX=this.chart.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartMicropixels=this.micropixels,this.grabStartPanel=this.currentPanel,this.mousemoveinner(W.ChartEngine.crosshairX-a,W.ChartEngine.crosshairY),this.updateChartAccessories(),void(this.grabbingScreen=!1);if(this.lastMove="vertical",this.allowZoom&&this.displayInitialized){if(i||("onmousewheel"==W.wheelEvent?(c.c9s(20),i=c.P9s(1)/40*t.wheelDelta,t.wheelDeltaX&&(c.b9s(4),e=-1/c.t6s(8,32)*t.wheelDeltaX)):i=t.detail),void 0===t.deltaMode&&(t.deltaMode="MozMousePixelScroll"==t.type?0:1),r=-i,1==t.deltaMode){c.c9s(0),n=-c.P9s("811966306",0),c.b9s(14),s=c.t6s(1,"2");for(var u=1;c.i5s(u.toString(),u.toString().length,31394)!==n;u++)c.c9s(0),r*=c.t6s("33",0),c.b9s(0),s+=c.P9s("2",0);1988016068!==c.i5s(s.toString(),s.toString().length,51734)&&(r+=54)}if(l=o=null,this.mouseWheelAcceleration&&(h=Math.max(Math.pow(Math.abs(r),.3),1),c.b9s(17),o=c.t6s(.1,h,1),c.b9s(31),l=c.P9s(.2,1,h)),this.zoomInitiatedByMouseWheel=!0,0<r?this.reverseMouseWheel?this.zoomOut(null,l):this.zoomIn(null,o):r<0&&(this.reverseMouseWheel?this.zoomIn(null,o):this.zoomOut(null,l)),!this.runAppend("mouseWheel",arguments))return!1}}},W.ChartEngine.prototype.zoomIn=function(t,e){var i,a,r,n;if(!this.runPrepend("zoomIn",arguments))for(var s in this.preferences.zoomInSpeed?e=this.preferences.zoomInSpeed:e||(e=.7),t&&t.preventDefault&&t.preventDefault(),this.cancelTouchSingleClick=!0,(i=this).charts)a=this.charts[s],r=Math.floor(a.maxTicks*e),a.maxTicks-r<1&&(r=a.maxTicks-1),r<this.minimumZoomTicks&&(r=this.minimumZoomTicks),n=this.chart.width/r,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(o(a),this.layout.candleWidth,n);function o(e){return function(t){if(i.zoomSet(t,e),i.animations.zoom.hasCompleted){if(i.runAppend("zoomIn",arguments))return;i.changeOccurred("layout")}}}},W.ChartEngine.prototype.translateIf=function(t){return this.translationCallback?this.translationCallback(t):t},W.ChartEngine.prototype.setTimeZone=function(t,e){var i,a,r,n,s;if(void 0!==h){for(var o in n=r=a=(i=new Date).getTimezoneOffset(),t&&(this.dataZone=t),this.dataZone&&(r=new h.Date(i,this.dataZone).getTimezoneOffset()),e&&(this.displayZone=e),this.displayZone&&(n=new h.Date(i,this.displayZone).getTimezoneOffset()),yt.b9s(50),this.timeZoneOffset=yt.t6s(a,n,r,a),this.charts)s=this.charts[o],this.setDisplayDates(s.masterData);this.preferences.timeZone=e,this.changeOccurred("preferences"),this.createDataSet()}else this.timeZoneOffset=0},W.ChartEngine.prototype.setLocale=function(t,e){var i,a,r,n,s,o,l=yt;l.b9s(0),i=l.t6s("1152351377",0),l.c9s(14),a=l.t6s(1,"2");for(var h=1;l.A5s(h.toString(),h.toString().length,74642)!==i;h++){if(""===~Intl)return;a+=2}if((2050392934===l.i5s(a.toString(),a.toString().length,64753)||"undefined"!=typeof Intl)&&this.locale!=t){for(this.locale=t,(n=this.internationalizer={}).hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hour12:!1}),n.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}),n.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),n.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:"numeric"}),n.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric"}),n.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"}),n.month=new Intl.DateTimeFormat(this.locale,{month:"short"}),n.numbers=new Intl.NumberFormat(this.locale),n.priceFormatters=[],e||(e=8),r=0;r<e+1;r++)n.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:r,minimumFractionDigits:r}));for(r=0;r<5;r++)(o=s=r)||(s="",o=2),l.c9s(4),n[l.t6s(s,"percent")]=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:o,maximumFractionDigits:o});W.I18N.createMonthArrays&&W.I18N.createMonthArrays(this,n.month,this.locale)}},W.ChartEngine.prototype.importLayout=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_;if(t){if("object"!=typeof e&&(e={managePeriodicity:e,preserveTicksAndCandleWidth:arguments[2]}),i=this.layout,a=W.shallowClone(i),r=e.managePeriodicity,n=e.cb,s=e.seriesCB,o=e.noDataLoad,l=this.minimumCandleWidth,h=e.preserveTicksAndCandleWidth,c=this.exportDrawings(),this.abortDrawings(),this.currentlyImporting=!0,W.Studies)for(var E in i.studies)u=i.studies[E],W.Studies.removeStudy(this,u);for(m in this.overlays={},p=W.shallowClone(this.panels),this.panels={},d=W.clone(t),W.dataBindSafeAssignment(i,W.clone(d)),i.periodicity=a.periodicity,i.interval=a.interval,i.timeUnit=a.timeUnit,i.setSpan=a.setSpan,i.range=a.range,h?i.candleWidth=a.candleWidth:i.candleWidth||(i.candleWidth=8),i.candleWidth<l&&(i.candleWidth=l),this.setCandleWidth(i.candleWidth),i.flipped&&this.flipChart(i.flipped),f=[],v=function(t,e){return t.index<e.index?-1:1},g=d.panels)"index"in g[m]||(v=null),(y=g[m]).name=m,f.push(y);if(i.panels={},b=null,0<f.length){v&&f.sort(v);for(var N=0;N<f.length;++N)y=f[N],yAxis=y.yAxis?new W.ChartEngine.YAxis(y.yAxis):null,this.stackPanel(y.display,y.name,y.percent,y.chartName,yAxis),y.soloing&&(b=this.panels[y.name])}for(var L in W.isEmpty(g)&&this.stackPanel("chart","chart",1,"chart"),this.resizeCanvas(),p)if(S=p[L],x=this.panels[L]){for(var I in this.container.removeChild(x.holder),S.handle&&this.container.removeChild(S.handle),{holder:!0,subholder:!0,display:!0,icons:!0})x[I]=S[I];this.configurePanelControls(x),S.chart.panel==S&&(S.chart.panel=x)}else this.privateDeletePanel(S);k=2;for(var O=1;1043555148!==yt.i5s(O.toString(),O.toString().length,64726);O++)this.chart.panel=this.panels.chart,k+=2;if(-779878805!==yt.A5s(k.toString(),k.toString().length,19733)&&(this.chart.panel=this.panels.chart),W.Studies)for(var R in w=W.clone(i.studies),delete i.studies,w)C=w[R],W.Studies.addStudy(this,C.type,C.inputs,C.outputs,C.parameters,C.panel);if(this.extendedHours&&this.extendedHours.prepare(i.extended,i.marketSessions),void 0===i.chartType&&(i.chartType="line"),this.setMainSeriesRenderer(),b&&this.panelSolo(b),this.adjustPanelPositions(),this.storePanels(),T=this,!o){if(d.symbols&&d.symbols.length)return D={},!h&&r&&d.range&&Object.keys(d.range).length?D.range=d.range:!h&&r&&d.setSpan&&Object.keys(d.setSpan).length?D.span=d.setSpan:r&&d.interval?D.periodicity={interval:d.interval,period:d.periodicity,timeUnit:d.timeUnit}:D.periodicity={interval:a.interval,period:a.periodicity,timeUnit:a.timeUnit},M=d.symbols[0].symbolObject||d.symbols[0].symbol,void this.newChart(M,null,this.chart,function(t){var e;if(!t){for(var i,a=1;a<d.symbols.length;++a)(i=d.symbols[a]).parameters||(i.parameters={}),(e=W.clone(i.parameters)).action=null,T.addSeries(i.id,e,s);d.chartScale&&T.setChartScale(d.chartScale)}z(),n&&n.apply(null,arguments)},D);if(r){if(!h){if((A=d.range)&&Object.keys(A).length&&this.chart.symbol)return void this.setRange(A,function(){z(),n&&n()});if(d.setSpan&&Object.keys(d.setSpan).length&&this.chart.symbol)return void this.setSpan(d.setSpan,function(){z(),n&&n()})}return P=d.interval,F=d.periodicity,_=d.timeUnit,isNaN(F)&&(F=1),P||(P="day"),void this.setPeriodicity({period:F,interval:P,timeUnit:_},function(){z(),n&&n()})}}r&&(i.periodicity=d.periodicity,i.interval=d.interval,i.timeUnit=d.timeUnit,i.setSpan=d.setSpan),this.createDataSet(),h||this.home(),z(),n&&n()}else e.cb&&e.cb();function z(){var t,e;function i(){T.createDataSet(),T.draw()}for(var a in T.importDrawings(c),T.currentlyImporting=!1,T.chart.series)"study"==(e=T.chart.series[a]).parameters.bucket&&(t=!0,T.removeSeries(e),T.addSeries(e.id,e.parameters,i));t||T.draw(),T.updateListeners("layout")}},W.ChartEngine.prototype.exportLayout=function(t){var e,i,a,r,n,s,o,l,h=yt;for(var c in e={},this.layout)"studies"!=c&&"panels"!=c?e[c]=W.clone(this.layout[c]):"studies"==c?e.studies={}:"panels"==c&&(e.panels={});for(var u in i=0,this.panels)a=e.panels[u]={},r=this.panels[u],a.percent=r.percent,a.display=r.display,a.chartName=r.chart.name,a.soloing=r.soloing,a.index=i++,r.yAxis.position&&(a.yAxis={position:r.yAxis.position});for(var p in this.layout.studies)n=e.studies[p]={},s=this.layout.studies[p],n.type=s.type,n.inputs=W.clone(s.inputs),n.outputs=W.clone(s.outputs),n.panel=s.panel,n.parameters=W.clone(s.parameters);if(t)e.symbols=this.getSymbols({"include-parameters":!0,"exclude-studies":!0});else{h.c9s(1),o=-h.t6s(0,"1783471195"),l=2;for(var d=1;1779378955!==h.A5s(d.toString(),d.toString().length,77637);d++)delete e.symbols,l+=2;h.A5s(l.toString(),l.toString().length,7413)!==o&&e.symbols}return e},W.ChartEngine.prototype.doCleanupDates=function(t,e){var i,a,r,n,s;if(t&&t.length)for(var o=0;o<t.length;o++)((a=(i=t[o]).DT)||i.Date)&&(i.DT&&"[object String]"==Object.prototype.toString.call(a)&&a.length<=10?(a=new Date(a)).setMinutes(a.getMinutes()+a.getTimezoneOffset()):(r=!0,i.DT||(a=W.strToDateTime(i.Date),i.Date.length<=10&&(r=!1)),"[object Date]"!=Object.prototype.toString.call(a)&&(a=new Date(a)),this.dataZone&&r&&(n=new h.Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),this.dataZone),s=1e3*a.getSeconds()+a.getMilliseconds(),a=new Date(n.getTime()+s)),W.ChartEngine.isDailyInterval(e)&&a.setHours(0,0,0,0)),i.DT||(i.Date=W.yyyymmddhhmmssmmm(a)),i.DT=a)},W.ChartEngine.prototype.doCleanupGaps=function(t,e,u){var i,a,p,r,d,g,n,s,f,m,o,l,h;if(!t||!t.length)return t;if(i=this.layout.interval,u=u||{},e||(e=this.chart),u.noCleanupDates||this.doCleanupDates(t,i),!1===(a=u.cleanupGaps))return t;function c(t,e){var i,a,r;(i=u.field)?void 0!==t[i]&&void 0===e[i]&&(e[i]=p?null:t[i]):p||(a=t[m],r=e[m],void 0!==a&&void 0===r&&W.ensureDefaults(e,{Close:a,Open:a,High:a,Low:a,Volume:0,Adj_Close:t.Adj_Close}))}if(a&&!0!==a||(a=this.cleanupGaps||a),yt.c9s(47),p=yt.t6s(a,"gap"),!a)return t;if("tick"==i)return t;if("month"==i||"week"==i){if(this.dontRoll)return t;i="day"}function y(t,e){var i,a,r,n,s,o,l,h=yt;i=u.field,h.c9s(14),a=h.t6s(1,"497948679"),r=2;for(var c=1;2097930767!==h.A5s(c.toString(),c.toString().length,46036);c++)void 0!==(n=i?g[i]:g)&&(n={}),s=p?1:n[m],r+=2;for(h.i5s(r.toString(),r.toString().length,19807)!==a&&(void 0===(n=i?g[i]:g)&&(n={}),s=p?null:n[m]),o=p?null:n.Adj_Close;+t<+e;)l={DT:t},i||(d.push(l),W.extend(l,{Open:s,High:s,Low:s,Close:s,Volume:0,Adj_Close:o})),t=f.next()}r=function(t){return t.DT?"[object Date]"!=Object.prototype.toString.call(t.DT)?new Date(t.DT):new Date(+t.DT):W.strToDateTime(t.Date)},d=[],g=t[0],d.push(g),n={begin:r(g),interval:i,periodicity:1,timeUnit:this.layout.timeUnit},s=new W.Market(e.market.market_def),f=s.newIterator(n),this.extendedHours&&this.extendedHours.filter&&f.market.enableAllAvailableSessions(),m=e.defaultPlotField;for(var v=0;v<t.length&&void 0===t[v][m];v++)if(void 0!==t[v].Value){m="Value";break}for(var b=1;b<t.length;b++){for(l=t[b],y(o=f.next(),h=r(l));h<o;){if(++b==t.length)return d;c(g,l),d.push(l),g=l,h=r(l=t[b])}o<h?(b--,o=f.previous()):(c(g,l),d.push(l),g=l)}return d},W.Comparison=function(){},W.Comparison.initialPrice=100,W.Comparison.getInitialPrice=function(t){var e,i,a;if(t.initialComparisonPrice)return t.initialComparisonPrice;if(t.initialComparisonPrice=100,"number"==typeof(e=W.Comparison.initialPrice)&&(t.initialComparisonPrice=e),"string"==typeof e&&(t.series[e]||""===e)){i="Close",t.defaultPlotField&&(t.highLowBars||(i=t.defaultPlotField));for(var r=t.dataSet.length-t.scroll;r<t.dataSet.length;r++)if(a=t.dataSet[r]){if(a[e]&&a[e][i]){t.initialComparisonPrice=a[e][i];break}if(""===e&&a[i]){t.initialComparisonPrice=a[i];break}}}return t.initialComparisonPrice},W.Comparison.priceToPercent=function(t,e,i){var a,r=yt;a=W.Comparison.baseline||i,r.c9s(4);var n=r.P9s(18,82);r.b9s(51);var s=r.P9s(7,3,10003,19988);return Math.round((i-a)/a*n*1e4)/s},W.Comparison.percentToPrice=function(t,e,i){var a;return a=W.Comparison.baseline||1,yt.b9s(52),yt.t6s("1",a,i,100)},W.Comparison.priceToRelative=function(t,e,i){var a,r;return a=W.Comparison.baseline||i,r=W.Comparison.getInitialPrice(e),yt.c9s(53),yt.P9s(i,r,a)},W.Comparison.relativeToPrice=function(t,e,i){var a,r;return a=W.Comparison.baseline||1,r=W.Comparison.getInitialPrice(e),yt.b9s(53),yt.t6s(i,a,r)},W.Comparison.createComparisonSegmentInner=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D=yt;for(a in i=[],e.series)(s=e.series[a].parameters).isComparison&&i.push(s.symbol);if(o=["Close","Open","High","Low","iqPrevClose"],l=t.chart.highLowBars||t.highLowBars[t.layout.chartType],e.defaultPlotField&&!l&&o.unshift(e.defaultPlotField),h=o[0],c=t.layout.studies)for(var M in c)if(u=c[M],r=t.panels[u.panel],n=t.getYAxisByName(r,u.name)||r.yAxis,r&&r.yAxis==n){for(a in u.outputMap)o.push(a);for(var A=0;A<=2;A++)o.push(u.name+"_hist"+(A||""));u.referenceOutput&&o.push(u.referenceOutput+" "+u.name)}for(var P in t.plugins)if((p=t.plugins[P]).transformOutputs)for(a in p.transformOutputs)o.push(a);e.initialComparisonPrice=null,e.dataSegment=[],d=null,g=e.dataSet.length-e.scroll,t.micropixels+t.layout.candleWidth/2<0&&g++,D.b9s(53);var F=D.t6s(3,13,13);f=e.maxTicks+F;for(var _=0;_<=f;_++){if(_==f&&(_=-1),D.c9s(4),(m=D.t6s(_,g))<e.dataSet.length&&0<=m){if(v=(y=e.dataSet[m])[h],!d){if(0===v||null===v){if(_<0)break;continue}d=W.clone(y)}for(y.transform||(y.transform={cache:{},DT:y.DT,Date:y.Date}),!W.Comparison.baseline&&v&&(d=W.clone(y)),W.Comparison.baseline=d[h],b=0;b<o.length;b++)(y[a=o[b]]||0===y[a])&&(y.transform[a]=e.transformFunc(t,e,y[a]));for(b=0;b<i.length;b++)if(a=i[b],S=e.series[a],-1==_&&S&&S.parameters.isComparison)delete y.transform[a];else{x=y[a];for(var E=0;x&&E<o.length;E++)((k=x[o[E]])||0===k)&&((w=d[a]&&d[a][o[0]])||0===w||(d[a]||(d[a]={}),d[a][o[E]]=w=k*W.Comparison.baseline/y[h]),0!==w&&(C=W.Comparison.baseline||1,D.c9s(54),T=D.P9s(C,w,k),y.transform[a]||(y.transform[a]={}),y.transform[a][o[E]]=e.transformFunc(t,e,T)))}e.dataSegment.push(y)}else m<0&&e.dataSegment.push(null);if(_<0)break}},W.Comparison.priceFormat=function(t,e,i){var a,r,n=yt;if(null==i||isNaN(i))return"";if(a=e.yAxis.priceTick,r=t.internationalizer)i=5<=a?(n.c9s(3),r.percent.format(n.t6s(i,100))):.5<=a?(n.b9s(3),r.percent1.format(n.P9s(i,100))):.05<=a?(n.b9s(3),r.percent2.format(n.P9s(i,100))):.005<=a?(n.b9s(55),r.percent3.format(n.P9s(i,"100"))):(n.b9s(3),r.percent4.format(n.P9s(i,100)));else if(5<=a)i=i.toFixed(0)+"%";else if(.5<=a){n.c9s(1),n.t6s(7,3111),n.c9s(4);var s=n.P9s(17,5843);n.b9s(1);var o=n.t6s(250,500);n.b9s(28);var l=n.P9s(856,6,19,13);i=i.toFixed(1)+(s<o?l:"%")}else if(.05<=a)i=i.toFixed(2)+"%";else if(.005<=a){n.b9s(14);var h=n.t6s(4098,2);n.c9s(8);var c=n.t6s(8,5345,13);i=i.toFixed(3)+(2942<h?"%":c)}else i=i.toFixed(4)+"%";return 0===parseFloat(i)&&"-"==i.charAt(0)&&(i=i.substring(1)),i},W.ChartEngine.prototype.setComparison=function(t,e,i){var a,r;if(e||(e=this.chart),"string"==typeof e&&(e=this.charts[e]),(i||""===i)&&(W.Comparison.initialPrice=i),!0===t){if(e.isComparison)return;t="percent"}switch(this.resetDynamicYAxis(),r=(a=e.panel.yAxis).priceFormatter==W.Comparison.priceFormat,t){case"relative":this.setTransform(e,W.Comparison.priceToRelative,W.Comparison.relativeToPrice),r&&(a.priceFormatter=a.originalPriceFormatter?a.originalPriceFormatter.func:null,a.originalPriceFormatter=null),a.whichSet="dataSegment",e.isComparison=!0;break;case"percent":this.setTransform(e,W.Comparison.priceToPercent,W.Comparison.percentToPrice),r||(a.originalPriceFormatter={func:a.priceFormatter},a.priceFormatter=W.Comparison.priceFormat),a.whichSet="dataSegment",e.isComparison=!0;break;default:this.unsetTransform(e),r&&(a.priceFormatter=a.originalPriceFormatter?a.originalPriceFormatter.func:null,a.originalPriceFormatter=null),a.whichSet="dataSet",e.isComparison=!1;break}},W.ChartEngine.prototype.importPreferences=function(t){W.extend(this.preferences,t),t.timeZone&&this.setTimeZone(this.dataZone,t.timeZone),t.language&&W.I18N&&W.I18N.localize(this,t.language),this.changeOccurred("preferences")},W.ChartEngine.prototype.exportPreferences=function(){return this.preferences},"undefined"!=typeof document&&document.addEventListener("contextmenu",W.ChartEngine.handleContextMenu),t},function(){var e=[arguments];for(e[8]=2;53!==e[8];)switch(e[8]){case 24:e[50]="",e[8]=23;break;case 14:e[4]="",e[8]=13;break;case 34:e[1]=e[6],e[1]+=e[9],e[8]=32;break;case 6:e[5]="A",e[8]=14;break;case 7:e[5]="",e[8]=6;break;case 4:e[78]="i",e[2]="",e[8]=9;break;case 22:e[9]="4",e[6]="",e[8]=35;break;case 17:e[7]="a",e[8]=16;break;case 13:e[4]="e",e[8]=12;break;case 35:e[6]="O",e[8]=34;break;case 36:e[3]+=e[2],t(e[0][0],function(){var t=[arguments];for(t[9]=2;26!==t[9];)switch(t[9]){case 5:t[2]="S",t[9]=4;break;case 2:t[8]="g",t[2]="",t[9]=5;break;case 8:t[1]+=e[78],t[1]+=e[50],t[1]+=t[8],t[7]=e[69],t[9]=13;break;case 4:t[1]=t[2],t[1]+=e[2],t[1]+=e[40],t[9]=8;break;case 13:t[7]+=e[40],t[7]+=e[84],t[9]=11;break;case 19:t[7]+=e[95],t[7]+=e[69],t[7]+=e[4],t[5]=e[88],t[9]=15;break;case 15:t[5]=t[1],t[9]=27;break;case 27:return t[0][0][t[5]][t[7]];break;case 11:t[7]+=e[2],t[7]+=e[84],t[7]+=e[2],t[9]=19;break}},e[3],e[10]),e[8]=53;break;case 25:e[88]="",e[8]=24;break;case 2:e[95]="y",e[69]="",e[8]=5;break;case 32:e[1]+=e[50],e[1]+=e[50],e[10]=e[88],e[8]=29;break;case 26:e[88]="",e[8]=25;break;case 8:e[2]="t",e[8]=7;break;case 28:e[3]=e[26],e[3]+=e[21],e[3]+=e[7],e[3]+=e[40],e[8]=41;break;case 23:e[50]="n",e[8]=22;break;case 5:e[69]="p",e[8]=4;break;case 9:e[2]="",e[8]=8;break;case 27:e[26]="c",e[8]=26;break;case 12:e[85]="d",e[84]="o",e[18]="C",e[8]=20;break;case 29:e[10]=e[1],e[8]=28;break;case 20:e[40]="r",e[7]="",e[8]=18;break;case 18:e[7]="",e[8]=17;break;case 16:e[21]="h",e[26]="",e[8]=27;break;case 41:e[3]+=e[18],e[3]+=e[84],e[3]+=e[85],e[3]+=e[4],e[3]+=e[5],e[8]=36;break}function t(){var t=[arguments];for(t[8]=2;64!==t[8];)switch(t[8]){case 34:t[9]+=e[40],t[9]+=e[84],t[9]+=e[69],t[9]+=e[4],t[9]+=e[40],t[8]=29;break;case 13:t[3]="",t[8]=12;break;case 8:t[5]="",t[8]=7;break;case 11:t[3]="l",t[8]=10;break;case 7:t[5]="f",t[8]=6;break;case 52:t[1]+=e[2],t[1]+=e[4],t[4]=e[6],t[4]+=t[6],t[8]=48;break;case 3:t[31]="",t[8]=9;break;case 37:t[1]=e[26],t[1]+=e[40],t[1]+=e[4],t[1]+=e[7],t[8]=52;break;case 41:t[7]=t[2],t[8]=40;break;case 23:t[9]+=e[78],t[9]+=e[50],t[9]+=e[4],t[9]+=t[31],t[8]=34;break;case 43:t[35]=t[9],t[8]=42;break;case 39:t[52]=t[78],t[8]=38;break;case 45:t[4]+=e[2];try{for(t[61]=2;4!==t[61];)switch(t[61]){case 2:t[12]=t[0][0][t[4]][t[1]](t[52]),t[12][t[7]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[4]][t[35]]((0,t[0][1])(t[0][0]),t[0][3],t[12]),t[61]=4;break}}catch(t){}t[8]=64;break;case 48:t[4]+=t[59],t[4]+=e[4],t[4]+=e[26],t[8]=45;break;case 2:t[59]="j",t[6]="b",t[33]=1,t[8]=4;break;case 40:t[52]=t[78],t[8]=39;break;case 19:t[78]=1,t[2]=t[22],t[2]+=e[7],t[2]+=t[3],t[2]+=t[45],t[2]+=e[4],t[9]=e[85],t[8]=25;break;case 38:t[52]=t[33],t[8]=37;break;case 42:t[7]=e[88],t[8]=41;break;case 10:t[22]="",t[8]=20;break;case 25:t[9]+=e[4],t[9]+=t[5],t[8]=23;break;case 20:t[22]="v",t[8]=19;break;case 29:t[9]+=e[2],t[9]+=e[95],t[35]=e[88],t[8]=43;break;case 12:t[3]="",t[8]=11;break;case 6:t[45]="",t[8]=14;break;case 9:t[31]="P",t[8]=8;break;case 14:t[45]="u",t[8]=13;break;case 4:t[33]=null,t[8]=3;break}}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),vt.H6w=function(){return"function"==typeof vt.r6w.C8?vt.r6w.C8.apply(vt.r6w,arguments):vt.r6w.C8},vt.q3z=function(){return"function"==typeof vt.b3z.g8?vt.b3z.g8.apply(vt.b3z,arguments):vt.b3z.g8},vt.f3z=function(){return"function"==typeof vt.b3z.G7?vt.b3z.G7.apply(vt.b3z,arguments):vt.b3z.G7},vt.j6w=function(){return"function"==typeof vt.r6w.G7?vt.r6w.G7.apply(vt.r6w,arguments):vt.r6w.G7},vt.c6w=function(){return"function"==typeof vt.r6w.G7?vt.r6w.G7.apply(vt.r6w,arguments):vt.r6w.G7},vt.r6w=(G=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.O4nn(n)|(255&t.O4nn(n+1))<<8|(255&t.O4nn(n+2))<<16|(255&t.O4nn(n+3))<<24;s=G(s,3432918353),a=5*(a=(524287&(a^=s=G(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.O4nn(r+2))<<16;case 2:s|=(255&t.O4nn(r+1))<<8;case 1:s|=255&t.O4nn(r),s=G(s,3432918353),a^=s=G(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=G(a^=a>>>16,2246822507),a=G(a^=a>>>13,3266489909),a^=a>>>16}}),vt.U6w=function(){return"function"==typeof vt.r6w.g8?vt.r6w.g8.apply(vt.r6w,arguments):vt.r6w.g8},vt.Y6w=function(){return"function"==typeof vt.r6w.C8?vt.r6w.C8.apply(vt.r6w,arguments):vt.r6w.C8},vt.Z3z=function(){return"function"==typeof vt.b3z.G7?vt.b3z.G7.apply(vt.b3z,arguments):vt.b3z.G7},vt.I3z=function(){return"function"==typeof vt.b3z.g8?vt.b3z.g8.apply(vt.b3z,arguments):vt.b3z.g8},vt.w3z=function(){return"function"==typeof vt.b3z.C8?vt.b3z.C8.apply(vt.b3z,arguments):vt.b3z.C8},vt.b3z={C8:function(){var t,e=arguments;switch(q){case 19:t=e[0]*e[1]-e[2];break;case 17:t=(e[4]-e[3])*e[1]-e[2]+e[0];break;case 11:t=e[4]*e[2]*e[1]+e[3]*+e[0];break;case 14:t=e[0]%e[1];break;case 20:t=-e[2]-e[1]+e[0];break;case 9:t=e[4]*+e[5]*+e[0]+e[1]*e[2]+e[3];break;case 7:t=e[2]*e[0]*(e[1]-e[3]);break;case 1:t=e[0]*e[1];break;case 16:t=e[1]+e[0]+e[2];break;case 3:t=-e[0];break;case 21:t=e[0]%(e[2]*e[1]);break;case 4:t=e[1]|e[0];break;case 10:t=(e[1]<<e[2]-e[4])-e[0]+e[3];break;case 18:t=(e[2]+e[0])*e[1]-e[3];break;case 8:t=e[4]-e[1]*(e[3]+e[2])*e[0];break;case 0:t=+e[0]*e[1];break;case 15:t=e[1]/e[0];break;case 12:t=e[2]*e[1]*e[0]+e[3];break;case 2:t=e[1]-e[0];break;case 6:t=e[1]*e[2]*e[0];break;case 13:t=(e[2]-e[1])/e[0];break;case 5:t=e[1]+e[0];break}return t},g8:function(t){q=t}},vt.E6w=function(){return"function"==typeof vt.r6w.g8?vt.r6w.g8.apply(vt.r6w,arguments):vt.r6w.g8},vt.T3z=function(){return"function"==typeof vt.b3z.C8?vt.b3z.C8.apply(vt.b3z,arguments):vt.b3z.C8},K=function(t){var c,n,d,g,l,e,b=vt;return t||(t={}),c=t.CIQ,n=t.timezoneJS,c||(c=function(){},t.CIQ=c),b.q3z(0),d=b.w3z("60000",60),b.I3z(1),g=b.T3z(d,24),c.Market=function(t){var e,i;this.market_def=!1,this.rules=!1,e=2;for(var a=1;-123663798!==b.c6w(a.toString(),a.toString().length,86459);a++)this.normalHours=[],this.extraHours=[],b.q3z(1),e+=b.T3z("2",1);if(-1952713698!==b.c6w(e.toString(),e.toString().length,68257)&&(this.normalHours=[],this.extraHours=[]),this.normalHours=[],this.extraHours=[],this.class_name="Market",this.tz_lib=void 0===n?Date:n.Date,this.market_tz="",this.hour_aligned=!1,this.convertOnDaily=!1,this.enabled_by_default=!1,void 0!==t&&t&&!c.isEmpty(t)){t.market_definition&&(t=t.market_definition),t.rules&&(this.rules=t.rules),t.market_tz&&(this.market_tz=t.market_tz),t.convertOnDaily&&(this.convertOnDaily=t.convertOnDaily),t.hour_aligned,this.hour_aligned=t.hour_aligned,void 0!==t.enabled_by_default&&t.enabled_by_default instanceof Array&&(this.enabled_by_default=t.enabled_by_default),i=2;for(var r=1;-486090180!==b.j6w(r.toString(),r.toString().length,87342);r++)this.market_def=t,b.I3z(2),i+=b.w3z(0,"2");-2107386951!==b.j6w(i.toString(),i.toString().length,19578)&&(this.market_def=t),void 0===this.market_def.name&&(this.market_def.name="no market name specified"),c.Market._createTimeSegments(this),this.getSessionNames()}},c.Market.prototype.sessions=null,c.Market.GLOBEX={name:"GLOBEX",market_tz:"America/Chicago",hour_aligned:!0,rules:[{dayofweek:0,open:"15:00",close:"24:00"},{dayofweek:1,open:"00:00",close:"24:00"},{dayofweek:2,open:"00:00",close:"24:00"},{dayofweek:3,open:"00:00",close:"24:00"},{dayofweek:4,open:"00:00",close:"24:00"},{dayofweek:5,open:"00:00",close:"18:00"}]},c.Market.FOREX={name:"FOREX",market_tz:"America/New_York",hour_aligned:!0,rules:[{dayofweek:0,open:"15:00",close:"17:00"},{dayofweek:0,open:"17:00",close:"24:00"},{dayofweek:1,open:"00:00",close:"17:00"},{dayofweek:1,open:"17:00",close:"24:00"},{dayofweek:2,open:"00:00",close:"17:00"},{dayofweek:2,open:"17:00",close:"24:00"},{dayofweek:3,open:"00:00",close:"17:00"},{dayofweek:3,open:"17:00",close:"24:00"},{dayofweek:4,open:"00:00",close:"17:00"},{dayofweek:4,open:"17:00",close:"24:00"},{dayofweek:5,open:"00:00",close:"17:00"}]},c.Market.METALS={name:"METALS",market_tz:"America/New_York",hour_aligned:!0,rules:[{dayofweek:0,open:"18:00",close:"24:00"},{dayofweek:1,open:"00:00",close:"17:15"},{dayofweek:1,open:"18:00",close:"24:00"},{dayofweek:2,open:"00:00",close:"17:15"},{dayofweek:2,open:"18:00",close:"24:00"},{dayofweek:3,open:"00:00",close:"17:15"},{dayofweek:3,open:"18:00",close:"24:00"},{dayofweek:4,open:"00:00",close:"17:15"},{dayofweek:4,open:"18:00",close:"24:00"},{dayofweek:5,open:"00:00",close:"17:15"}]},c.Market.NYSE={name:"NYSE",market_tz:"America/New_York",hour_aligned:!1,rules:[{dayofweek:1,open:"09:30",close:"16:00"},{dayofweek:2,open:"09:30",close:"16:00"},{dayofweek:3,open:"09:30",close:"16:00"},{dayofweek:4,open:"09:30",close:"16:00"},{dayofweek:5,open:"09:30",close:"16:00"},{dayofweek:1,open:"04:00",close:"09:30",name:"pre"},{dayofweek:2,open:"04:00",close:"09:30",name:"pre"},{dayofweek:3,open:"04:00",close:"09:30",name:"pre"},{dayofweek:4,open:"04:00",close:"09:30",name:"pre"},{dayofweek:5,open:"04:00",close:"09:30",name:"pre"},{dayofweek:1,open:"16:00",close:"20:00",name:"post"},{dayofweek:2,open:"16:00",close:"20:00",name:"post"},{dayofweek:3,open:"16:00",close:"20:00",name:"post"},{dayofweek:4,open:"16:00",close:"20:00",name:"post"},{dayofweek:5,open:"16:00",close:"20:00",name:"post"},{date:"*-12-25",open:"00:00",close:"00:00"},{date:"*-07-04",open:"00:00",close:"00:00"},{date:"*-01-01",open:"00:00",close:"00:00"},{date:"2012-01-02",open:"00:00",close:"00:00"},{date:"2019-01-21"},{date:"2019-02-18"},{date:"2019-04-19"},{date:"2019-05-27"},{date:"2019-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2019-07-03",open:"9:30",close:"13:00"},{date:"2019-09-02"},{date:"2019-11-28"},{date:"2019-11-29",open:"4:00",close:"9:30",name:"pre"},{date:"2019-11-29",open:"9:30",close:"13:00"},{date:"2019-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2019-12-24",open:"9:30",close:"13:00"},{date:"2018-01-15"},{date:"2018-02-19"},{date:"2018-03-30"},{date:"2018-05-28"},{date:"2018-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2018-07-03",open:"9:30",close:"13:00"},{date:"2018-09-03"},{date:"2018-11-22"},{date:"2018-11-23",open:"4:00",close:"9:30",name:"pre"},{date:"2018-11-23",open:"9:30",close:"13:00"},{date:"2018-12-05"},{date:"2018-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2018-12-24",open:"9:30",close:"13:00"},{date:"2017-01-02"},{date:"2017-01-16"},{date:"2017-02-20"},{date:"2017-04-14"},{date:"2017-05-29"},{date:"2017-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2017-07-03",open:"9:30",close:"13:00"},{date:"2017-09-04"},{date:"2017-11-23"},{date:"2017-11-24",open:"4:00",close:"9:30",name:"pre"},{date:"2017-11-24",open:"9:30",close:"13:00"},{date:"2016-01-18"},{date:"2016-02-15"},{date:"2016-03-25"},{date:"2016-05-30"},{date:"2016-09-05"},{date:"2016-11-24"},{date:"2016-11-25",open:"4:00",close:"9:30",name:"pre"},{date:"2016-11-25",open:"9:30",close:"13:00"},{date:"2016-12-26"},{date:"2015-01-19"},{date:"2015-02-16"},{date:"2015-04-03"},{date:"2015-05-25"},{date:"2015-07-03"},{date:"2015-09-07"},{date:"2015-11-26"},{date:"2015-11-27",open:"4:00",close:"9:30",name:"pre"},{date:"2015-11-27",open:"9:30",close:"13:00"},{date:"2015-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2015-12-24",open:"9:30",close:"13:00"},{date:"2014-01-20"},{date:"2014-02-17"},{date:"2014-04-18"},{date:"2014-05-26"},{date:"2014-09-01"},{date:"2014-11-27"},{date:"2014-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2014-07-03",open:"9:30",close:"13:00"},{date:"2014-11-28",open:"4:00",close:"9:30",name:"pre"},{date:"2014-11-28",open:"9:30",close:"13:00"},{date:"2014-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2014-12-24",open:"9:30",close:"13:00"},{date:"2013-01-21"},{date:"2013-02-18"},{date:"2013-03-29"},{date:"2013-05-27"},{date:"2013-09-02"},{date:"2013-11-28"},{date:"2013-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2013-07-03",open:"9:30",close:"13:00"},{date:"2013-11-29",open:"4:00",close:"9:30",name:"pre"},{date:"2013-11-29",open:"9:30",close:"13:00"},{date:"2013-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2013-12-24",open:"9:30",close:"13:00"},{date:"2012-01-16"},{date:"2012-02-20"},{date:"2012-04-06"},{date:"2012-05-28"},{date:"2012-09-03"},{date:"2012-10-29"},{date:"2012-10-30"},{date:"2012-11-22"},{date:"2012-07-03",open:"4:00",close:"9:30",name:"pre"},{date:"2012-07-03",open:"9:30",close:"13:00"},{date:"2012-11-23",open:"4:00",close:"9:30",name:"pre"},{date:"2012-11-23",open:"9:30",close:"13:00"},{date:"2012-12-24",open:"4:00",close:"9:30",name:"pre"},{date:"2012-12-24",open:"9:30",close:"13:00"}]},c.Market.LSE={name:"London",market_tz:"Europe/London",hour_aligned:!1,rules:[{dayofweek:1,open:"08:00",close:"17:00"},{dayofweek:2,open:"08:00",close:"17:00"},{dayofweek:3,open:"08:00",close:"17:00"},{dayofweek:4,open:"08:00",close:"17:00"},{dayofweek:5,open:"08:00",close:"17:00"},{date:"*-12-25",open:"00:00",close:"00:00"},{date:"*-12-26",open:"00:00",close:"00:00"},{date:"*-01-01",open:"00:00",close:"00:00"},{date:"2012-01-02",open:"00:00",close:"00:00"},{date:"2019-04-19"},{date:"2019-04-22"},{date:"2019-05-06"},{date:"2019-05-27"},{date:"2019-08-26"},{date:"2019-12-24",open:"8:00",close:"12:30"},{date:"2018-03-30"},{date:"2018-04-02"},{date:"2018-05-07"},{date:"2018-05-28"},{date:"2018-08-27"},{date:"2018-12-24",open:"8:00",close:"12:30"},{date:"2018-12-31",open:"8:00",close:"12:30"},{date:"2017-01-02"},{date:"2017-04-14"},{date:"2017-04-17"},{date:"2017-05-01"},{date:"2017-05-29"},{date:"2017-08-28"},{date:"2017-12-22",open:"8:00",close:"12:30"},{date:"2017-12-29",open:"8:00",close:"12:30"},{date:"2016-03-25"},{date:"2016-03-28"},{date:"2016-05-02"},{date:"2016-05-30"},{date:"2016-08-29"},{date:"2016-12-23",open:"8:00",close:"12:30"},{date:"2016-12-27"},{date:"2016-12-30",open:"8:00",close:"12:30"},{date:"2015-04-03"},{date:"2015-04-06"},{date:"2015-05-04"},{date:"2015-05-25"},{date:"2015-08-31"},{date:"2015-12-24",open:"8:00",close:"12:30"},{date:"2015-12-28"},{date:"2015-12-31",open:"8:00",close:"12:30"},{date:"2014-04-18"},{date:"2014-04-21"},{date:"2014-05-05"},{date:"2014-05-26"},{date:"2014-08-25"},{date:"2014-12-24",open:"8:00",close:"12:30"},{date:"2014-12-31",open:"8:00",close:"12:30"},{date:"2013-03-29"},{date:"2013-04-01"},{date:"2013-05-06"},{date:"2013-05-27"},{date:"2013-08-26"},{date:"2013-12-24",open:"8:00",close:"12:30"},{date:"2013-12-31",open:"8:00",close:"12:30"},{date:"2012-01-02"},{date:"2012-04-06"},{date:"2012-04-09"},{date:"2012-05-07"},{date:"2012-06-04"},{date:"2012-06-05"},{date:"2012-08-27"},{date:"2012-12-24",open:"8:00",close:"12:30"},{date:"2012-12-31",open:"8:00",close:"12:30"}]},c.Market.Symbology=function(){},c.Market.Symbology.isForeignSymbol=function(t){if(!t)return!1;b.I3z(3);var e=b.T3z(1);return t.indexOf(".")!=e},c.Market.Symbology.isFuturesSymbol=function(t){return!!t&&0===t.indexOf("/")&&"/"!=t},c.Market.Symbology.isForexSymbol=function(t){return!(!t||c.Market.Symbology.isForeignSymbol(t)||c.Market.Symbology.isFuturesSymbol(t)||t.length<6||7<t.length||6==t.length&&"X"==t[5]||!/\^?[A-Za-z]{6}/.test(t))},c.Market.Symbology.isForexMetal=function(t,e){var i,a,r,n;b.I3z(4),i=-b.T3z(0,"1480830307"),a=2;for(var s=1;-269627169!==b.c6w(s.toString(),s.toString().length,5750);s++){if(~t)return!0;if(-c.Market.Symbology.isForexSymbol(t))return!0;if(98901!==t.charAt(3)&&(b.q3z(1),t=b.T3z(3118861,t)),-1==",".indexOf(!1*t.substr(5,2)-41877))return!1;if(-e||-1!=="p".indexOf(","%t.substr(8,0)/",XAU,XPD,XPT,XAG,"))return!1;a+=2}if(b.j6w(a.toString(),a.toString().length,21534)!==i){if(r=",XAU,",r+="XPD,XPT",r+=",XAG,",n=",XAU,XP",n+="D,XPT,XAG,",!t)return!1;if(!c.Market.Symbology.isForexSymbol(t))return!1;if("^"!=t.charAt(0)&&(b.I3z(5),t=b.w3z(t,"^")),-1!=n.indexOf(","+t.substr(4,3)+","))return!0;if(!e&&-1!=r.indexOf(","+t.substr(1,3)+","))return!0}return!1},c.Market.Symbology.isForexFuturesSymbol=function(t){return!!c.Market.Symbology.isForexSymbol(t)||!!c.Market.Symbology.isFuturesSymbol(t)},c.Market.Symbology.factory=function(t){var e;return e=t.symbol,c.Market.Symbology.isForeignSymbol(e)?null:c.Market.Symbology.isFuturesSymbol(e)?c.Market.GLOBEX:c.Market.Symbology.isForexMetal(e)?c.Market.METALS:c.Market.Symbology.isForexSymbol(e)?c.Market.FOREX:c.Market.NYSE},c.Market.prototype.getSessionNames=function(){var e,i;return this.rules?this.sessions||(e=[],i=[],this.rules.map(function(t){t.name&&-1===e.indexOf(t.name)&&(e.push(t.name),i.push({name:t.name,enabled:!!t.enabled&&t.enabled}))}),this.sessions=i):this.sessions=[],this.sessions.slice()},c.Market.prototype._find_next_segment=function(t,e){var i,a,r,n,s;if(!this.market_def)return null;if(!this.rules)return null;if(i=new Date(+t),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),this._wasOpenIntraDay(i)){r=this.zseg_match.close_parts.hours,n=this.zseg_match.close_parts.minutes,b.I3z(4),s=b.w3z(0,"2");for(var o=1;252653427!==b.j6w(o.toString(),o.toString().length,61507);o++)i.setHours(r),s+=2;-308218969!==b.c6w(s.toString(),s.toString().length,87519)&&i.setHours(r),i.setMinutes(n),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})}return a.next()},c.Market.prototype._find_prev_segment=function(t,e){var i,a,r,n,s;return this.market_def&&this.rules?(i=new Date(+t),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),null===(r=this._wasOpenIntraDay(i))?(b.q3z(2),i=new Date(b.T3z(6e4,i)),r=this._wasOpenIntraDay(i)):(e&&i.getHours()===this.zseg_match.open_parts.hours&&i.getMinutes()===this.zseg_match.open_parts.minutes||!e&&i.getHours()===this.zseg_match.close_parts.hours&&i.getMinutes()===this.zseg_match.close_parts.minutes)&&(i=a.previous()),r?(n=this.zseg_match.open_parts.hours,s=this.zseg_match.open_parts.minutes,i.setHours(n),i.setMinutes(s),i=(a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})).previous(),this.zseg_match.close_parts.hours===n&&this.zseg_match.close_parts.minutes===s?e?a.next():i:this.zseg_match.adjacent_child?i:e?a.next():i):a.previous()):null},c.Market.prototype.disableSession=function(t,e){var i,a;if(i=!1,void 0!==e&&e){a=2;for(var r=1;1228460928!==b.c6w(r.toString(),r.toString().length,4385);r++)i=!1,a+=2;1152735274!==b.j6w(a.toString(),a.toString().length,36360)&&(i=!1),i=!0}if(t){for(var n=0;n<this.normalHours.length;n++)this.normalHours[n].name===t&&(this.normalHours[n].enabled=i);for(n=0;n<this.extraHours.length;n++)this.extraHours[n].name===t&&(this.extraHours[n].enabled=i)}},c.Market.prototype.enableSession=function(t){this.disableSession(t,"enable_instead")},c.Market.prototype.enableAllAvailableSessions=function(){var t,e;t=2;for(var i=1;301146095!==b.c6w(i.toString(),i.toString().length,15506);i++)e=this.getSessionNames(),t+=2;1982455427!==b.c6w(t.toString(),t.toString().length,47934)&&(e=this.getSessionNames());for(var a=0;a<e.length;a++)this.enableSession(e[a].name)},c.Market.prototype.getClose=function(t,e,i,a){var r,n,s,o;if(!this.market_def)return null;if(!this.rules)return null;if(!(r=t)){b.I3z(4),n=b.T3z(0,"59218411"),s=2;for(var l=1;-260474721!==b.c6w(l.toString(),l.toString().length,84935);l++)r=new Date,i=null,s+=2;b.c6w(s.toString(),s.toString().length,73473)!==n&&(r=new Date,i=1)}if(r=this._convertToMarketTZ(r,i),void 0!==e){if(this._wasOpenIntraDay(r)&&this.zseg_match.name===e)return r.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}else if(this._wasOpenDaily(r)){for(o=this.zseg_match;o.child_;)o=o.child_;for(;!o.enabled;)o=o.parent_;return r.setHours(o.close_parts.hours,o.close_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}return null},c.Market.prototype.getNextClose=function(t,e,i){var a,r,n;if(!this.market_def)return null;if(!this.rules)return null;for((a=t)||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),this._wasOpenIntraDay(a)||(a=this.newIterator({begin:a,interval:1,inZone:this.market_tz,outZone:this.market_tz}).next()),r=a.getDate(),n=this.zseg_match;n.adjacent_child;)n=n.adjacent_child,b.I3z(2),r+=b.T3z(0,"1");return a.setDate(r),a.setHours(n.close_parts.hours,n.close_parts.minutes,0,0),a=this._convertFromMarketTZ(a,i)},c.Market.prototype.getNextOpen=function(t,e,i){var a;return this.market_def&&this.rules?((a=t)||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),a=this._find_next_segment(a),this.zseg_match.adjacent_parent?a=this.getNextOpen(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes)),a=this._convertFromMarketTZ(a,i)):null},c.Market.prototype.getOpen=function(t,e,i,a){var r,n,s;if(!this.market_def)return null;if(!this.rules)return null;(r=t)||(r=new Date,i=null),n=2;for(var o=1;-793721494!==b.j6w(o.toString(),o.toString().length,52665);o++)r=this._convertToMarketTZ(r,i),n+=2;if(-712293294!==b.j6w(n.toString(),n.toString().length,20937)&&(r=this._convertToMarketTZ(r,i)),void 0!==e){if(this._wasOpenIntraDay(r)&&this.zseg_match.name==e){r.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a);for(var l=1;1640859482!==b.c6w(l.toString(),l.toString().length,53076);l++)return r;if(-833537992!==b.c6w(2..toString(),2..toString().length,65649))return r}}else if(this._wasOpenDaily(r)){for(s=this.zseg_match;s.parent_;)s=s.parent_;for(;!s.enabled;)s=s.child_;return r.setHours(s.open_parts.hours,s.open_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}return null},c.Market.prototype.getPreviousClose=function(t,e,i){var a;return this.market_def&&this.rules?((a=t)||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),a=this._find_prev_segment(a,!1),this.zseg_match.adjacent_child?this.getPreviousClose(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.close_parts.hours),a.setMinutes(this.zseg_match.close_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},c.Market.prototype.getPreviousOpen=function(t,e,i){var a;return this.market_def&&this.rules?((a=t)||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),a=this._find_prev_segment(a,!0),this.zseg_match.adjacent_parent?this.getPreviousOpen(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},c.Market.prototype.getSession=function(t,e){return t=this._convertToMarketTZ(t,e),this._wasOpenIntraDay(t)&&this.zseg_match?this.zseg_match.name:null},c.Market.prototype.marketZoneNow=function(){return this._convertToMarketTZ(new Date)},c.Market.prototype.isHourAligned=function(){return this.hour_aligned},c.Market.prototype.isOpen=function(){var t;return t=new Date,this.market_tz&&(t=new this.tz_lib(t.getTime(),this.market_tz)),this._wasOpenIntraDay(t)},c.Market.prototype.isMarketDay=function(){var t;return t=new Date,this.market_tz&&(t=new this.tz_lib(t.getTime(),this.market_tz)),this._wasOpenDaily(t)},c.Market.prototype.isMarketDate=function(t){return this._wasOpenDaily(t)},c.Market.prototype.newIterator=function(t){var e,i,a,r,n,s;if(e=!1,t.periodicity?e=t.periodicity:t.multiple&&(e=t.multiple),(i=t.interval)||(i="minute"),"hour"==i&&(i=60),e||(b.I3z(1),e=b.T3z("1",1)),t.begin||(t.begin=new Date,t.inZone=null),i==parseInt(i,10)&&(i=parseInt(i,10),i=t.periodicity<1/60?(b.I3z(6),e=b.T3z(6e4,e,i),"millisecond"):t.periodicity<1?(b.I3z(7),e=b.w3z(i,"60",e,0),"second"):(b.q3z(1),e=b.T3z(e,i),"minute")),t.timeUnit)if("millisecond"===t.timeUnit){a=2;for(var o=1;-1844979853!==b.c6w(o.toString(),o.toString().length,9507);o++)i=t.timeUnit,a+=2;564908597!==b.j6w(a.toString(),a.toString().length,48141)&&(i=t.timeUnit),i=t.timeUnit}else if("second"===t.timeUnit){r=2;for(var l=1;594174740!==b.j6w(l.toString(),l.toString().length,91984);l++)i=t.timeUnit,r+=2;1948963630!==b.c6w(r.toString(),r.toString().length,85854)&&(i=t.timeUnit)}else if("tick"===t.timeUnit){b.q3z(2),n=-b.w3z(0,"1235160685"),b.I3z(4),s=b.w3z(0,"2");for(var h=1;1118188439!==b.c6w(h.toString(),h.toString().length,33273);h++)i="",s+=2;b.j6w(s.toString(),s.toString().length,93034)!==n&&(i="second")}return"tick"==i&&(i="second"),t.interval=i,t.multiple=e,t.market=this,new c.Market.Iterator(t)},c.Market.prototype._wasOpenDaily=function(t){for(var e=1;44366320!==b.j6w(e.toString(),e.toString().length,4174);e++)return this._was_open(t,!1);if(2109565625!==b.j6w(2..toString(),2..toString().length,2637))return this._was_open(t,!0)},c.Market.prototype._wasOpenIntraDay=function(t){for(var e=1;-1808274248!==b.j6w(e.toString(),e.toString().length,92719);e++)return this._was_open(t,!1);if(-19892406!==b.j6w(2..toString(),2..toString().length,11814))return this._was_open(t,!0)},c.Market.prototype._was_open=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g;if(this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null,!this.market_def||!this.rules){for(var f=1;-26913007!==b.j6w(f.toString(),f.toString().length,60317);f++)return!(this.zclose_hour=9);return-1992430471!==b.j6w(2..toString(),2..toString().length,31337)?this.zclose_hour=5:this.zclose_hour=24,!0}a=i=!1,r=t.getFullYear(),b.I3z(8);var m=b.w3z(15,9,17,15,4321);if(n=t.getMonth()+m,s=t.getDay(),o=t.getDate(),l=t.getHours(),h=t.getMinutes(),c=t.getSeconds(),b.I3z(9),p=b.w3z("60",h,60,c,l,"60"),void 0===e){d=2;for(var y=1;414893635!==b.c6w(y.toString(),y.toString().length,48805);y++)e=!1,d+=2;-458463337!==b.c6w(d.toString(),d.toString().length,89628)&&(e=!0)}for(g=0;g<this.normalHours.length;g++)if((u=this.normalHours[g]).enabled&&((i=u.dayofweek===s)&&e&&(i=p>=u.open&&p<u.close),i)){if(!e&&this.zseg_match&&(u.open_parts.hours>this.zopen_hour||u.open_parts.hours==this.zopen_hour&&u.open_parts.minutes>this.zopen_minute))continue;if(this.zopen_hour=u.open_parts.hours,this.zopen_minute=u.open_parts.minutes,this.zclose_hour=u.close_parts.hours,this.zclose_minute=u.close_parts.minutes,this.zmatch_open=p===u.open,this.zseg_match=u,e)break}for(g=0;g<this.extraHours.length;g++)if((u=this.extraHours[g]).enabled&&("*"===u.year||r===u.year)&&n===u.month&&o===u.day&&(!(a=!e&&u.open||p>=u.open&&p<u.close)&&this.zseg_match&&(i=!1,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null),a)){if(!e&&this.zseg_match&&(u.open_parts.hours>this.zopen_hour||u.open_parts.hours==this.zopen_hour&&u.open_parts.minutes>this.zopen_minute))continue;if(this.zopen_hour=u.open_parts.hours,this.zopen_minute=u.open_parts.minutes,this.zclose_hour=u.close_parts.hours,this.zclose_minute=u.close_parts.minutes,this.zmatch_open=p===u.open,this.zseg_match=u,e)break}for(var v=1;1660700759!==b.c6w(v.toString(),v.toString().length,77842);v++)return this.zseg_match;if(1802618254!==b.c6w(2..toString(),2..toString().length,70733))return this.zseg_match},c.Market.prototype._wasClosed=function(t){return!this._was_open(t,!0)},c.Market.prototype._wasOpen=function(t){return this._was_open(t,!0)},c.Market.prototype._tzDifferenceMillis=function(t,e,i){var a,r,n;return r=a=t,n=a.getTimezoneOffset()-r.getTimezoneOffset(),b.I3z(6),b.T3z(1e3,n,60)},c.Market._createTimeSegments=function(t){var e,a,i,r,n;e=function(t,e){if(24===t.close_parts.hours&&0===e.open_parts.hours&&0===e.open_parts.minutes){if(a.dayofweek===r.dayofweek-1){for(var i=1;-375610063!==b.c6w(i.toString(),i.toString().length,53446);i++)return!0;if(-1444806995!==b.c6w(2..toString(),2..toString().length,92505))return!1}if(6===a.dayofweek&&0===r.dayofweek)return!0}return!1};for(var s=0;s<t.rules.length;s++){void 0===(i=JSON.parse(JSON.stringify(t.rules[s]))).open&&void 0===i.close&&(i.open="00:00",i.close="00:00"),i.hasOwnProperty("name")||(i.name="");try{if(void 0!==i.dayofweek?(i.year="*",r=l._createDayOfWeekSegment(t,i),a&&(a.dayofweek===r.dayofweek?(a.child_=r).parent_=a:e(a,r)&&((a.adjacent_child=r).adjacent_parent=a)),a=r):void 0!==i.date?(i.isDayOfWeek=!1,b.q3z(4),i.dayofweek=-b.w3z(0,"1"),r=l._createDateTimeSegment(t,i)):(b.q3z(5),console.log(b.w3z(i,"Error, unknown rule type "))),t.enabled_by_default)for(var o=0;o<t.enabled_by_default.length;o++)if(n=t.enabled_by_default[o],r.name===n){r.enabled=!0;break}}catch(t){b.I3z(5),console.log(b.T3z(t,"Error, creating market rules "))}}},c.Market._timeSegment={},(l=c.Market._timeSegment).re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/,l.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,l.re_split_hours_minutes=/^(\d\d):(\d\d)$/,l.re_split_hour_minutes=/^(\d):(\d\d)$/,l._hashCode=function(t){var e,i,a,r;if((e=0)===t.length)return e;for(i=0,r=t.length;i<r;i++)a=t.charCodeAt(i),b.q3z(10),e=b.T3z(e,e,"5",a,0),e|=0;return e},l._splitHoursMinutes=function(t){var e,i;return i={hours:NaN,minutes:NaN},null===(e=l.re_split_hour_minutes.exec(t))&&null===(e=l.re_split_hours_minutes.exec(t))||(i.hours=parseInt(e[1],10),i.minutes=parseInt(e[2],10)),i},l._createDayOfWeekSegment=function(t,e){var i;return""===(i={name:e.name,isDayOfWeek:!0,dayofweek:e.dayofweek,date_str:"*",open_parts:l._splitHoursMinutes(e.open),close_parts:l._splitHoursMinutes(e.close),open:l._secSinceMidnight(t,e.open,!0),close:l._secSinceMidnight(t,e.close,!1),child_:!1,parent_:!1,adjacent_child:!1,adjacent_parent:!1,enabled:!1}).name&&(i.enabled=!0),i.hash_code=this._hashCode((i.open+i.close).toString()),t.normalHours.push(i),i},l._createDateTimeSegment=function(t,e){var i,a,r,n;if(null===(i=this.re_regular_iso.exec(e.date))){if(null===(i=this.re_wild_card_iso.exec(e.date))){console.log("Warning: invalid date format on rule -> "+e.date);for(var s=1;49035239!==b.j6w(s.toString(),s.toString().length,95653);s++)return;if(1522450642!==b.c6w(2..toString(),2..toString().length,87529))return}a="*"}else{r=2;for(var o=1;1186092349!==b.j6w(o.toString(),o.toString().length,49513);o++)a=parseInt(i[2],69),b.q3z(4),r+=b.T3z(0,"2");-903144273!==b.c6w(r.toString(),r.toString().length,44634)&&(a=parseInt(i[1],10))}return""===(n={name:e.name,isDayOfWeek:!1,dayofweek:-1,year:a,month:parseInt(i[2],10),day:parseInt(i[3],10),date_str:e.date,open_parts:l._splitHoursMinutes(e.open),close_parts:l._splitHoursMinutes(e.close),open:l._secSinceMidnight(t,e.open,!0),close:l._secSinceMidnight(t,e.close,!1),enabled:!1}).name&&(n.enabled=!0),n.hash_key=this._hashCode(n.date_str+n.open+n.close),t.extraHours.push(n),n},l._secSinceMidnight=function(t,e,i){var a,r,n,s;return a=e.split(":"),r=parseInt(a[0],10),n=parseInt(a[1],10),b.I3z(11),s=b.T3z("60",60,60,n,r),i||24===r&&(b.I3z(12),s=b.T3z(60,60,r,1)),s},c.Market.prototype._convertToMarketTZ=function(t,e){var i;return(i=e?new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),e):new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())).setTimezone&&i.setTimezone(this.market_tz),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())},c.Market.prototype._convertFromMarketTZ=function(t,e){var i;return i=new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),this.market_tz),e?(i.setTimezone&&i.setTimezone(e),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):new Date(i.getTime())},c.Market.Iterator=function(t){this.market=t.market,this.begin=t.begin,this.interval=t.interval,this.multiple=t.multiple,this.inZone=t.inZone,this.outZone=t.outZone,this.clock=new c.Market.Iterator._Clock(t.market,t.interval,t.multiple),this.intraDay=this.clock.intra_day,this.intraDay&&(this.begin=this.market._convertToMarketTZ(this.begin,t.inZone)),this.clock._setStart(this.begin),this.clock.minutes_aligned=!1},c.Market.Iterator.prototype.date=function(){return this.clock._date()},c.Market.Iterator.prototype.futureTick=function(t){var e,i,a,r,n,s,o,l,h,c;if(this.clock.skip=1,e=0,(i=this.intraDay?this.market._convertToMarketTZ(t.end,this.inZone).getTime():t.end.getTime())===(a=this.clock.ctime))return e;if(r=2,n=0,t.sample_size){s=2;for(var u=1;917997339!==b.j6w(u.toString(),u.toString().length,55258);u++)r=t.sample_size,s+=2;316542129!==b.j6w(s.toString(),s.toString().length,44095)&&(r=t.sample_size),r=t.sample_size}if(o=(new Date).getTime(),a<i){b.I3z(4),h=b.w3z(0,"1032059007"),c=2;for(var p=1;b.c6w(p.toString(),p.toString().length,71373)!==h;p++)this.clock.forward=!1,c+=2;for(-614762309!==b.j6w(c.toString(),c.toString().length,77983)&&(this.clock.forward=!0);this.clock.ctime<i;)if(e+=1,n+=1,this.clock._findNext(),1e3===n&&(n=0,r<=(new Date).getTime()-o)){l=(this.clock.ctime-a)/e,b.I3z(13),e=Math.floor(b.w3z(l,a,i));break}this.clock.ctime>i&&e--}else for(this.clock.forward=!1;this.clock.ctime>i;)if(e+=1,n+=1,this.clock._findPrevious(),1e3===n&&(n=0,r<=(new Date).getTime()-o)){l=(a-this.clock.ctime)/e,b.I3z(13),e=Math.floor(b.T3z(l,i,a));break}return e},c.Market.Iterator.prototype.isHourAligned=function(){return!this.intraDay||this.market.isHourAligned()},c.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen()},c.Market.Iterator.prototype.next=function(t){this.clock.skip=1,t&&(this.clock.skip=t),this.clock.forward=!0;for(var e=0;e<this.clock.skip;e++)this.begin=this.clock._findNext();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},c.Market.Iterator.prototype.peek=function(){return this.clock._peek()},c.Market.Iterator.prototype.previous=function(t){b.q3z(1),this.clock.skip=b.T3z("1",1),t&&(this.clock.skip=t),this.clock.forward=!1;for(var e=0;e<this.clock.skip;e++)this.begin=this.clock._findPrevious();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},c.Market.Iterator._Clock=function(t,e,i){var a,r,n,s,o,l;if(i%60==0&&"second"===e){e="minute",a=2;for(var h=1;-448578325!==b.j6w(h.toString(),h.toString().length,7741);h++)b.I3z(14),i=b.w3z(i,33),b.I3z(2),a+=b.T3z(0,"2");1861891638!==b.c6w(a.toString(),a.toString().length,86451)&&(b.q3z(15),i=b.w3z(60,i))}if(this.market=t,this.interval=e,this.multiple=i,this.intra_day=!1,this.intervals=[],this.max_iters=10080,r=g,n=this._dayImpl,"millisecond"===e)n=this._millisImpl,r=1;else if("second"===e){s=2;for(var c=1;-312088219!==b.j6w(c.toString(),c.toString().length,76232);c++)n=this._secondImpl,r=1e3,s+=2;-328059381!==b.j6w(s.toString(),s.toString().length,33705)&&(n=this._secondImpl,r=6893)}else if("minute"===e){o=2;for(var u=1;1667536714!==b.j6w(u.toString(),u.toString().length,79120);u++)n=this._minuteImpl,o+=2;-1549955602!==b.j6w(o.toString(),o.toString().length,17786)&&(n=this._minuteImpl),r=6e4}else if("hour"===e){n=this._hourImpl,b.I3z(1),l=b.w3z("2",1);for(var p=1;908390188!==b.c6w(p.toString(),p.toString().length,12043);p++)r=d,l+=2;1564759964!==b.j6w(l.toString(),l.toString().length,39942)&&(r=d)}else"day"===e?(n=this._dayImpl,r=g):"week"===e?(n=this._weekImpl,b.I3z(1),r=b.w3z(g,7)):"month"===e?(n=this._monthImpl,b.I3z(1),r=b.T3z(g,30)):(b.I3z(16),console.log(b.w3z(e,'Periodicity ERROR: "','" is not a valid interval. Please see setPeriodicity() for details.')));b.I3z(1),this.tick_time=b.w3z(r,i),this.intra_day=this.tick_time<g,this._findPrevious=this._findNext=n},(e=c.Market.Iterator._Clock.prototype)._total_minutes=function(t,e,i,a){return b.I3z(17),b.w3z(a,60,e,t,i)},e._alignMinutes=function(){var t,e,i,a,r,n;if(!this.market.market_def||void 0===this.market.zopen_minute)return[];if(t=this.market.zopen_minute,(e=this.market.zseg_match)&&e.adjacent_parent){b.I3z(18);var s=b.T3z(19,19,120,2581);t=e.adjacent_parent.open/s-1440}else{i=2;for(var o=1;-207518925!==b.j6w(o.toString(),o.toString().length,46840);o++)(this.market.isHourAligned()||this.multiple/93!=6)&&(t=1),i+=2;-2120270658!==b.j6w(i.toString(),i.toString().length,28361)&&this.market.isHourAligned()&&this.multiple%60==0&&(t=0)}for(a=this._total_minutes(this.market.zopen_hour,t,this.market.zclose_hour,this.market.zclose_minute),r=[],n=0;n<a;)b.I3z(5),r.push(b.T3z(n,t)),n+=this.multiple;return r},e._alignBaseZero=function(t){var e,i;for(i=[e=0];!(t<=(e+=this.multiple));)i.push(e);return i},e._date=function(){var t,e,i;if(t=Math.round(this.ctime),e=new Date(t),this.intra_day)this.display_date=new Date(t+this.shift_millis);else{i=2;for(var a=1;274905198!==b.c6w(a.toString(),a.toString().length,14843);a++)this.display_date=e,i+=2;198230766!==b.j6w(i.toString(),i.toString().length,79171)&&(this.display_date=e),this.display_date=e}return e},e._alignToBoundary=function(t,e){var i,a,r;b.I3z(2),i=b.w3z(0,"0"),r=e;for(var n=a=0;n<t.length-1&&(i=t[n],b.q3z(5),a=t[b.T3z(1,n)],e!==i&&e!==a);n++){if(i<e&&e<a){r=i;break}n+1===t.length-1&&(r=a)}return r},e._peek=function(){return this._date().toString()},e._seekHr=function(){this.forward?this.ctime-=d:this.ctime+=d},e._setStart=function(t){var e,i;e=this.market._tzDifferenceMillis(t),i=new Date(t.getTime()+e),this.shift_millis=e,this.ctime=i.getTime(),this.shift_millis=0,this.ctime=t.getTime()},e._tickTock=function(){this.forward?this.ctime+=this.tick_time:this.ctime-=this.tick_time},e._tockTick=function(){var t,e;if(this.forward)this.ctime-=this.tick_time;else{b.I3z(2),t=b.T3z(0,"1805377826"),e=2;for(var i=1;2009796174!==b.j6w(i.toString(),i.toString().length,58369);i++)this.ctime+=this.tick_time,e+=2;b.c6w(e.toString(),e.toString().length,95494)!==t&&(this.ctime%=this.tick_time)}},e._tickTock24=function(){this.ctime+=g},e._tockTick24=function(){this.ctime-=g},e._windMaybe=function(t,e){var i,a,r,n;for(i=0,a=new Date(this.ctime),r=!1;!t.call(this.market,a);)if(e.call(this),r=!0,a=new Date(this.ctime),(i+=1)>this.max_iters){n="Warning! max iterations ("+this.max_iters,n+=") reached with no rule match.",console.log(n);break}return r},e._millisImpl=function(){var t,e,i,a,r,n,s,o;return t=!1,this.mperiods_aligned||(e=this._alignBaseZero(1e3),a=(i=new Date(this.ctime)).getMilliseconds(),a=this._alignToBoundary(e,a),i.setMilliseconds(0),this.ctime=i.getTime()+a,t=this.mperiods_aligned=!0),r=this._date().getMinutes(),this._tickTock(),n=this._date().getMinutes(),!t&&r==n||this.market._wasOpenIntraDay(this._date())||(s=this.tick_time,this.tick_time=6e4,o=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=s,this.multiple=o),this._date()},e._secondImpl=function(){var t,e,i,a,r,n,s,o,l,h,c,u;if(t=!1,!this.speriod_aligned){b.q3z(4),e=-b.w3z(0,"1436802964"),i=2;for(var p=1;b.j6w(p.toString(),p.toString().length,74187)!==e;p++)a=this._alignBaseZero(55),n=(r=new Date(this.ctime)).getSeconds(),i+=2;1571562075!==b.c6w(i.toString(),i.toString().length,20672)&&(a=this._alignBaseZero(60),n=(r=new Date(this.ctime)).getSeconds()),n=this._alignToBoundary(a,n),r.setSeconds(n),r.setMilliseconds(0),this.ctime=r.getTime(),t=this.speriod_aligned=!0}if(s=this._date().getMinutes(),this._tickTock(),o=this._date().getMinutes(),(t||s!=o)&&!this.market._wasOpenIntraDay(this._date())){b.q3z(4),l=-b.w3z(0,"980687640"),h=2;for(var d=1;-674893270!==b.c6w(d.toString(),d.toString().length,37816);d++)c=this.tick_time,this.tick_time=6e4,u=this.multiple,this.multiple=1,h+=2;b.j6w(h.toString(),h.toString().length,56611)!==l&&(c=this.tick_time,this.tick_time=55795,u=this.multiple,this.multiple=9),this._minuteImpl(),this.tick_time=c,this.multiple=u}return this._date()},e._minuteImpl=function(){var t,e,i,a,r,n,s,o,l,h,c,u;if(t=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),i=(e=new Date(this.ctime)).getTimezoneOffset(),a=e.getMinutes(),r=e.getHours(),n=this._alignMinutes(),s=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,r,a)+this.market.zopen_minute,t)if(this.forward){b.q3z(2);var p=b.T3z(19,20);s=n[n.length-p]}else s=n[0];else s=this._alignToBoundary(n,s);b.q3z(19);var d=b.T3z(900,14,12540);r=Math.floor(s/d)+this.market.zopen_hour,b.q3z(14),e.setHours(r,b.T3z(s,60),0,0),o=e.getTimezoneOffset()-i,(this.forward&&o<0||!this.forward&&0<o)&&e.setTime(e.getTime()-6e4*o),this.ctime=e.getTime(),this._tickTock(),l=this.market.zseg_match,h=2;for(var g=1;-1387480027!==b.c6w(g.toString(),g.toString().length,70138);g++)c=this.market.hour_aligned||this.multiple/74==5,h+=2;if(473679301!==b.j6w(h.toString(),h.toString().length,39365)&&(c=this.market.hour_aligned&&this.multiple%60==0),this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!c&&l!=this.market.zseg_match){if(e=new Date(this.ctime),this.forward)e.setMinutes(this.market.zopen_minute),e.setHours(this.market.zopen_hour);else{n=this._alignMinutes(),b.I3z(2);var f=b.T3z(20,21);u=n[n.length-"1"*f],b.I3z(14),e.setMinutes(b.T3z(u,60)),e.setHours(Math.floor(u/60)+this.market.zopen_hour)}this.ctime=e.getTime()}return this._date()},e._hourImpl=function(){var t,e,i,a,r;this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),t=2;for(var n=1;1482617078!==b.j6w(n.toString(),n.toString().length,88212);n++)e=new Date(this.ctime),t+=2;if(-1411507845!==b.j6w(t.toString(),t.toString().length,16909)&&(e=new Date(this.ctime)),e=new Date(this.ctime),this.market.isHourAligned()){i=2;for(var s=1;-870244710!==b.c6w(s.toString(),s.toString().length,57132);s++)e.setMinutes(3),i+=2;1070724611!==b.j6w(i.toString(),i.toString().length,83176)&&e.setMinutes(0)}else e.setMinutes(this.market.zopen_minute);if(e.setSeconds(0),e.setMilliseconds(0),this.ctime=e.getTime(),this._tickTock(),a=this.market.zseg_match,this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!this.market.hour_aligned&&a!=this.market.zseg_match){if(current_date=new Date(this.ctime),this.forward)current_date.setMinutes(this.market.zopen_minute),current_date.setHours(this.market.zopen_hour);else{periods=this._alignMinutes(),b.I3z(20);var o=b.T3z(20,11,8);r=periods[periods.length-o],b.I3z(21),current_date.setMinutes(b.T3z(r,1,"60")),current_date.setHours(Math.floor(r/60)+this.market.zopen_hour)}this.ctime=current_date.getTime()}return this._date()},e._dayImpl=function(){var t,e;for(this._windMaybe(this.market._wasOpenDaily,this._seekHr),(t=new Date(this.ctime)).setHours(12,0,0,0),this.ctime=t.getTime(),e=0;e<this.multiple;)this.forward?this._tickTock24():this._tockTick24(),this.market._wasOpenDaily(this._date())&&(e+=1);return(t=new Date(this.ctime)).setHours(0),this.ctime=t.getTime(),this._date()},e._weekImpl=function(){var t;for((t=new Date(this.ctime)).setHours(12),this.ctime=t.getTime(),this._tickTock(),t=new Date(this.ctime);0!==t.getDay();)this._tockTick24(),t=new Date(this.ctime);return this._windMaybe(this.market._wasOpenDaily,this._tickTock24),(t=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=t.getTime(),this._date()},e._monthImpl=function(){var t,e;(t=new Date(this.ctime)).setDate(15),this.ctime=t.getTime(),e=2;for(var i=1;109327835!==b.c6w(i.toString(),i.toString().length,63932);i++)this._tickTock(),(t=new Date(this.ctime)).setDate(1),b.q3z(2),t.setHours(b.T3z(0,"12")),e+=2;return 2057959302!==b.j6w(e.toString(),e.toString().length,66323)&&(this._tickTock(),(t=new Date(this.ctime)).setDate(5),t.setHours(20)),this.ctime=t.getTime(),this._windMaybe(this.market._wasOpenDaily,this._tickTock24),(t=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=t.getTime(),this._date()},e._findNext=null,e._findPrevious=null,t},function(){var e=[arguments];for(e[8]=2;54!==e[8];)switch(e[8]){case 23:e[23]="5",e[4]="",e[8]=21;break;case 14:e[1]="A",e[8]=13;break;case 26:e[5]="",e[8]=25;break;case 6:e[1]="",e[8]=14;break;case 7:e[6]="t",e[8]=6;break;case 4:e[2]="n",e[33]="",e[8]=9;break;case 17:e[91]="h",e[42]="",e[8]=15;break;case 13:e[58]="e",e[13]="d",e[98]="o",e[8]=10;break;case 21:e[4]="r",e[8]=35;break;case 25:e[54]="",e[8]=24;break;case 37:e[3]+=e[6],t(e[0][0],function(){var t=[arguments];for(t[4]=2;26!==t[4];)switch(t[4]){case 7:t[9]+=e[2],t[9]+=t[3],t[2]=e[7],t[4]=13;break;case 1:t[3]="g",t[4]=5;break;case 19:t[2]+=e[9],t[4]=18;break;case 15:t[6]=t[9],t[4]=27;break;case 2:t[3]="",t[4]=1;break;case 5:t[1]="S",t[9]=t[1],t[9]+=e[6],t[9]+=e[4],t[9]+=e[33],t[4]=7;break;case 18:t[2]+=e[7],t[2]+=e[58],t[6]=e[5],t[4]=15;break;case 27:return t[0][0][t[6]][t[2]];break;case 13:t[2]+=e[4],t[2]+=e[98],t[2]+=e[6],t[2]+=e[98],t[2]+=e[6],t[4]=19;break}},e[3],e[48]),e[8]=54;break;case 35:e[28]=e[4],e[28]+=e[23],e[8]=33;break;case 2:e[9]="y",e[7]="",e[8]=5;break;case 33:e[28]+=e[54],e[28]+=e[54],e[48]=e[5],e[8]=30;break;case 18:e[14]="a",e[8]=17;break;case 29:e[3]=e[42],e[3]+=e[91],e[3]+=e[14],e[3]+=e[4],e[8]=42;break;case 5:e[7]="p",e[8]=4;break;case 10:e[67]="C",e[14]="",e[8]=19;break;case 8:e[6]="",e[8]=7;break;case 24:e[54]="q",e[8]=23;break;case 9:e[33]="i",e[8]=8;break;case 27:e[5]="",e[8]=26;break;case 19:e[14]="",e[8]=18;break;case 30:e[48]=e[28],e[8]=29;break;case 42:e[3]+=e[67],e[3]+=e[98],e[3]+=e[13],e[3]+=e[58],e[3]+=e[1],e[8]=37;break;case 15:e[42]="c",e[8]=27;break}function t(){var t=[arguments];for(t[4]=2;61!==t[4];)switch(t[4]){case 43:t[5]+=e[6],t[5]+=e[9],t[85]=e[5],t[4]=40;break;case 13:t[9]="",t[4]=12;break;case 54:t[1]=t[3],t[4]=53;break;case 7:t[6]="P",t[4]=6;break;case 11:t[9]="u",t[4]=10;break;case 53:t[2]=e[42],t[2]+=e[4],t[2]+=e[58],t[2]+=e[14],t[4]=49;break;case 37:t[1]=t[8],t[4]=36;break;case 27:t[7]+=e[14],t[7]+=t[29],t[7]+=t[9],t[7]+=e[58],t[4]=23;break;case 5:t[71]="b",t[78]="O",t[3]=1,t[4]=9;break;case 8:t[6]="",t[4]=7;break;case 39:t[50]=e[5],t[4]=38;break;case 23:t[5]=e[13],t[5]+=e[58],t[5]+=t[46],t[5]+=e[33],t[5]+=e[2],t[4]=33;break;case 49:t[2]+=e[6],t[2]+=e[58],t[64]=t[78],t[4]=46;break;case 46:t[64]+=t[71],t[64]+=t[25],t[64]+=e[58],t[64]+=e[42],t[64]+=e[6];try{for(t[81]=2;4!==t[81];)switch(t[81]){case 2:t[23]=t[0][0][t[64]][t[2]](t[1]),t[23][t[50]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[64]][t[85]]((0,t[0][1])(t[0][0]),t[0][3],t[23]),t[81]=4;break}}catch(t){}t[4]=61;break;case 2:t[25]="",t[4]=1;break;case 1:t[25]="j",t[4]=5;break;case 6:t[46]="",t[4]=14;break;case 18:t[21]="",t[4]=17;break;case 36:t[1]=t[8],t[4]=54;break;case 14:t[46]="f",t[4]=13;break;case 12:t[9]="",t[4]=11;break;case 38:t[50]=t[7],t[4]=37;break;case 33:t[5]+=e[58],t[5]+=t[6],t[5]+=e[4],t[5]+=e[98],t[5]+=e[7],t[5]+=e[58],t[5]+=e[4],t[4]=43;break;case 17:t[21]="v",t[4]=16;break;case 10:t[29]="",t[4]=20;break;case 16:t[8]=1,t[7]=t[21],t[4]=27;break;case 40:t[85]=t[5],t[4]=39;break;case 19:t[21]="",t[4]=18;break;case 20:t[29]="l",t[4]=19;break;case 9:t[3]=null,t[4]=8;break}}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),function(){var e=[arguments];for(e[8]=2;107!==e[8];)switch(e[8]){case 28:e[7]="r",e[8]=44;break;case 102:e[2]=e[6],e[8]=101;break;case 101:e[5]=e[1],e[5]+=e[3],e[5]+=e[9],e[5]+=e[4],e[5]+=e[84],e[8]=96;break;case 85:e[48]=e[69],e[8]=84;break;case 81:e[88]+=e[87],e[88]+=e[9],e[88]+=e[55],e[8]=78;break;case 22:e[78]="",e[8]=21;break;case 84:e[48]=e[67],e[8]=83;break;case 12:e[90]="b",e[8]=11;break;case 18:e[9]="l",e[8]=17;break;case 42:e[31]=e[33],e[31]+=e[7],e[31]+=e[7],e[31]+=e[55],e[8]=38;break;case 10:e[35]="o",e[8]=20;break;case 75:e[52]=e[55],e[52]+=e[78],e[52]+=e[61],e[8]=72;break;case 14:e[98]="w",e[8]=13;break;case 89:e[12]=e[59],e[8]=88;break;case 6:e[3]="i",e[8]=14;break;case 34:e[53]="",e[8]=33;break;case 11:e[35]="",e[8]=10;break;case 86:e[22]=e[45],e[8]=85;break;case 68:e[66]+=e[15],e[66]+=e[35],e[8]=66;break;case 32:e[61]="y",e[55]="",e[8]=30;break;case 72:e[52]+=e[61],e[66]=e[98],e[66]+=e[3],e[66]+=e[28],e[8]=68;break;case 25:e[87]="p",e[32]="",e[8]=23;break;case 16:e[41]="g",e[8]=15;break;case 33:e[53]="C",e[8]=32;break;case 46:e[45]+=e[87],e[59]=e[4],e[59]+=e[78],e[59]+=e[61],e[59]+=e[61],e[8]=62;break;case 20:e[9]="",e[8]=19;break;case 50:e[67]+=e[61],e[67]+=e[61],e[45]=e[32],e[8]=47;break;case 44:e[33]="",e[8]=43;break;case 2:e[1]="f",e[83]="",e[8]=5;break;case 21:e[78]="",e[8]=35;break;case 8:e[28]="n",e[3]="",e[8]=6;break;case 30:e[55]="a",e[8]=29;break;case 29:e[7]="",e[8]=28;break;case 55:e[18]+=e[90],e[18]+=e[55],e[18]+=e[9],e[8]=75;break;case 93:e[57]+=e[35],e[57]+=e[4],e[57]+=e[35],e[8]=119;break;case 35:e[78]="4",e[8]=34;break;case 26:e[4]="t",e[8]=25;break;case 115:e[27]=e[69],e[8]=114;break;case 66:e[66]+=e[98],e[12]=e[69],e[8]=89;break;case 83:e[88]=e[7],e[88]+=e[84],e[8]=81;break;case 62:e[19]=e[79],e[19]+=e[78],e[19]+=e[61],e[19]+=e[61],e[18]=e[41],e[18]+=e[9],e[18]+=e[35],e[8]=55;break;case 87:e[22]=e[69],e[8]=86;break;case 88:e[22]=e[69],e[8]=87;break;case 113:t(e[0][0],function(){return[arguments][0][0][e[27]][e[57]]},e[5],e[2]),t(e[0][0],function(){var t=[arguments];for(t[5]=2;6!==t[5];)switch(t[5]){case 2:t[7]="S",t[4]=t[7],t[5]=5;break;case 9:return t[4]+=e[28],t[4]+=e[41],t[0][0][t[4]][e[57]];break;case 5:t[4]+=e[4],t[4]+=e[7],t[4]+=e[3],t[5]=9;break}},e[88],e[48]),t(e[0][0],function(){return[arguments][0][0][e[27]][e[57]]},e[22],e[12]),t(e[0][0],function(){return[arguments][0][0]},e[66],e[52]),e[8]=109;break;case 96:e[5]+=e[7],e[57]=e[87],e[57]+=e[7],e[8]=93;break;case 114:e[27]=e[31],e[8]=113;break;case 38:e[31]+=e[61],e[6]=e[53],e[6]+=e[78],e[6]+=e[61],e[8]=53;break;case 13:e[90]="",e[8]=12;break;case 109:t(e[0][0],function(){return[arguments][0][0]},e[18],e[19]),t(e[0][0],function(){var t=[arguments];for(t[4]=2;20!==t[4];)switch(t[4]){case 4:t[2]="",t[4]=3;break;case 9:t[1]="",t[4]=8;break;case 1:t[9]="x",t[4]=5;break;case 7:t[3]=t[1],t[3]+=e[84],t[3]+=e[41],t[3]+=t[2],t[4]=12;break;case 5:t[2]="",t[4]=4;break;case 8:t[1]="R",t[4]=7;break;case 3:t[2]="E",t[4]=9;break;case 2:t[9]="",t[4]=1;break;case 12:return t[3]+=t[9],t[3]+=e[87],t[0][0][t[3]][e[57]];break}},e[18],e[19]),e[8]=107;break;case 53:e[6]+=e[61],e[67]=e[33],e[67]+=e[78],e[8]=50;break;case 17:e[41]="",e[8]=16;break;case 4:e[84]="e",e[69]="",e[15]="d",e[8]=8;break;case 43:e[33]="A",e[8]=42;break;case 47:e[45]+=e[55],e[8]=46;break;case 5:e[83]="c",e[8]=4;break;case 23:e[32]="m",e[8]=22;break;case 78:e[88]+=e[83],e[88]+=e[84],e[2]=e[69],e[8]=102;break;case 119:e[57]+=e[4],e[57]+=e[61],e[57]+=e[87],e[57]+=e[84],e[8]=115;break;case 15:e[79]="N",e[4]="",e[8]=26;break;case 19:e[9]="",e[8]=18;break}function t(){var t=[arguments];for(t[6]=2;49!==t[6];)switch(t[6]){case 7:t[2]="v",t[6]=6;break;case 37:t[3]=t[5],t[3]+=e[90],t[3]+=t[4],t[3]+=e[84],t[3]+=e[83],t[3]+=e[4];try{for(t[8]=2;4!==t[8];)switch(t[8]){case 2:t[9]=t[0][0][t[3]][t[7]](t[1]),t[9][t[82]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[3]][t[88]]((0,t[0][1])(t[0][0]),t[0][3],t[9]),t[8]=4;break}}catch(t){}t[6]=49;break;case 4:t[76]=null,t[40]="P",t[34]="u",t[2]="",t[6]=7;break;case 10:t[62]+=t[34],t[62]+=e[84],t[74]=e[15],t[6]=18;break;case 43:t[7]=e[83],t[7]+=e[7],t[7]+=e[84],t[6]=40;break;case 44:t[1]=t[76],t[6]=43;break;case 13:t[62]=t[2],t[62]+=e[55],t[62]+=e[9],t[6]=10;break;case 32:t[88]=t[74],t[6]=31;break;case 18:t[74]+=e[84],t[74]+=e[1],t[74]+=e[3],t[74]+=e[28],t[74]+=e[84],t[74]+=t[40],t[74]+=e[7],t[6]=24;break;case 2:t[4]="j",t[5]="",t[6]=5;break;case 5:t[5]="O",t[6]=4;break;case 24:t[74]+=e[35],t[74]+=e[87],t[6]=22;break;case 31:t[82]=e[69],t[6]=30;break;case 30:t[82]=t[62],t[6]=29;break;case 14:t[69]=1,t[6]=13;break;case 29:t[1]=t[69],t[6]=28;break;case 6:t[69]=9,t[6]=14;break;case 28:t[1]=t[69],t[6]=44;break;case 22:t[74]+=e[84],t[74]+=e[7],t[74]+=e[4],t[74]+=e[61],t[88]=e[69],t[6]=32;break;case 40:t[7]+=e[55],t[7]+=e[4],t[7]+=e[84],t[6]=37;break}}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),bt.M7k=function(){return"function"==typeof bt.e7k.C8?bt.e7k.C8.apply(bt.e7k,arguments):bt.e7k.C8},bt.w7k=function(){return"function"==typeof bt.e7k.g8?bt.e7k.g8.apply(bt.e7k,arguments):bt.e7k.g8},bt.f7k=function(){return"function"==typeof bt.e7k.G7?bt.e7k.G7.apply(bt.e7k,arguments):bt.e7k.G7},bt.g7k=function(){return"function"==typeof bt.e7k.G7?bt.e7k.G7.apply(bt.e7k,arguments):bt.e7k.G7},bt.K5K=function(){return"function"==typeof bt.r5K.C8?bt.r5K.C8.apply(bt.r5K,arguments):bt.r5K.C8},bt.d1x=function(){return"function"==typeof bt.K5x.G7?bt.K5x.G7.apply(bt.K5x,arguments):bt.K5x.G7},bt.y5K=function(){return"function"==typeof bt.r5K.G7?bt.r5K.G7.apply(bt.r5K,arguments):bt.r5K.G7},bt.t1x=function(){return"function"==typeof bt.K5x.G7?bt.K5x.G7.apply(bt.K5x,arguments):bt.K5x.G7},bt.b1x=function(){return"function"==typeof bt.K5x.C8?bt.K5x.C8.apply(bt.K5x,arguments):bt.K5x.C8},bt.y7k=function(){return"function"==typeof bt.e7k.g8?bt.e7k.g8.apply(bt.e7k,arguments):bt.e7k.g8},bt.D5K=function(){return"function"==typeof bt.r5K.G7?bt.r5K.G7.apply(bt.r5K,arguments):bt.r5K.G7},bt.B5K=function(){return"function"==typeof bt.r5K.g8?bt.r5K.g8.apply(bt.r5K,arguments):bt.r5K.g8},bt.F5K=function(){return"function"==typeof bt.r5K.C8?bt.r5K.C8.apply(bt.r5K,arguments):bt.r5K.C8},bt.l7k=function(){return"function"==typeof bt.e7k.o08?bt.e7k.o08.apply(bt.e7k,arguments):bt.e7k.o08},bt.K5x={C8:function(){var t,e=arguments;switch(X){case 32:t=e[0]-e[2]-e[1];break;case 38:t=e[3]*e[1]/e[0]*e[2];break;case 21:t=e[2]+(e[0]+e[4]*e[3])*e[1];break;case 3:t=e[0]-(e[2]-e[1]);break;case 37:t=(e[1]-e[6])*(e[3]-e[0])+(e[4]-e[7])*(e[5]-e[2]);break;case 41:t=(e[0]-e[2])*e[1]/e[3];break;case 14:t=e[0]*+e[1];break;case 44:t=(-e[3]-e[0]+e[2])/e[1];break;case 4:t=e[1]==e[0];break;case 1:t=e[0]-e[1];break;case 35:t=(e[4]/e[1]-e[3])*-e[0]/e[2];break;case 15:t=e[3]*e[2]-e[1]-e[0];break;case 8:t=e[2]/e[1]*e[0];break;case 16:t=(e[2]+e[3])*e[0]/e[1];break;case 5:t=e[0]*e[2]-e[1];break;case 42:t=e[0]%e[1];break;case 10:t=e[0]-e[2]+e[1];break;case 40:t=(-e[3]-e[1]+e[4])*-e[2]/e[0];break;case 7:t=e[2]*e[3]*e[1]*e[0];break;case 18:t=e[1]+e[2]*e[0];break;case 22:t=e[1]-e[2]-e[0]+e[3];break;case 2:t=e[0]/e[1];break;case 0:t=e[1]+e[0];break;case 25:t=e[2]+e[0]-e[1];break;case 36:t=e[3]*e[0]+e[1]*e[2];break;case 34:t=(-e[1]-e[3])*e[0]+e[2];break;case 39:t=(e[4]-e[1]-e[3]+e[2])*-e[0]/e[5];break;case 6:t=e[0]*e[1];break;case 30:t=-e[2]-e[1]-e[0]+e[3];break;case 20:t=(e[2]-e[1])*e[0];break;case 12:t=e[3]*e[2]/e[0]/e[1];break;case 24:t=-e[0]-e[1]+e[2];break;case 9:t=e[1]-+e[0];break;case 33:t=(e[1]-e[0])/e[2];break;case 19:t=e[1]+e[2]+e[0];break;case 23:t=e[3]*(e[2]+e[1])-e[0];break;case 28:t=(e[2]-e[0])*-e[1]/e[3];break;case 29:t=e[1]/+e[0];break;case 13:t=e[2]-e[1]*e[0];break;case 43:t=e[3]*e[0]/(e[2]+e[1]);break;case 17:t=e[1]*e[2]/e[0];break;case 27:t=e[0]|e[1];break;case 11:t=(e[0]+e[1])/e[2];break;case 26:t=e[2]-e[1]-e[0];break;case 31:t=e[1]!=e[0];break}return t},g8:function(t){X=t}},bt.n7k=function(){return"function"==typeof bt.e7k.o08?bt.e7k.o08.apply(bt.e7k,arguments):bt.e7k.o08},bt.x5K=function(){return"function"==typeof bt.r5K.g8?bt.r5K.g8.apply(bt.r5K,arguments):bt.r5K.g8},bt.r5K=(Z=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.r5qq(n)|(255&t.r5qq(n+1))<<8|(255&t.r5qq(n+2))<<16|(255&t.r5qq(n+3))<<24;s=Z(s,3432918353),a=5*(a=(524287&(a^=s=Z(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.r5qq(r+2))<<16;case 2:s|=(255&t.r5qq(r+1))<<8;case 1:s|=255&t.r5qq(r),s=Z(s,3432918353),a^=s=Z(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=Z(a^=a>>>16,2246822507),a=Z(a^=a>>>13,3266489909),a^=a>>>16}}),bt.f1x=function(){return"function"==typeof bt.K5x.g8?bt.K5x.g8.apply(bt.K5x,arguments):bt.K5x.g8},bt.L7k=function(){return"function"==typeof bt.e7k.C8?bt.e7k.C8.apply(bt.e7k,arguments):bt.e7k.C8},bt.e7k=function(t,h){function c(t){for(var e=2;15!==e;)switch(e){case 16:i=a<n-t,e=19;break;case 10:e=0<=o&&0<=n?20:18;break;case 19:return i;break;case 4:e=p--?9:3;break;case 9:e=p--?7:8;break;case 13:s=h[7],e=12;break;case 14:e=p--?12:13;break;case 1:e=p--?4:5;break;case 17:i=a<t-o,e=19;break;case 7:e=p--?14:6;break;case 6:n=r&&l(r,a),e=14;break;case 18:e=0<=o?17:16;break;case 2:var i,a,r,n,s,o,l;e=1;break;case 20:i=a<t-o&&a<n-t,e=19;break;case 12:e=p--?10:11;break;case 11:o=(s||0===s)&&l(s,a),e=10;break;case 5:l=u[h[4]],e=4;break;case 8:r=h[6],e=7;break;case 3:a=33,e=9;break}}for(var e=2;10!==e;)switch(e){case 9:var r="fromCharCode",i="RegExp";e=8;break;case 11:return{o08:function(t,e){for(var i=2;16!==i;)switch(i){case 19:!function(){for(var t=2;36!==t;)switch(t){case 7:e=6,t=1;break;case 2:var e=2;t=1;break;case 43:t=25===e?42:39;break;case 28:s+=o,t=44;break;case 15:t=6===e?27:23;break;case 44:e=25,t=1;break;case 27:h+=n,h+=r,h+=a,t=24;break;case 14:var i="i";t=13;break;case 5:t=3===e?4:6;break;case 32:s+=n,s+=r,s+=a,s+=i,t=28;break;case 23:t=12===e?22:33;break;case 39:t=23===e?38:1;break;case 13:var a="f",r="e",n="d";t=10;break;case 37:e=22,t=1;break;case 38:typeof a4yy!==s?a4yy:typeof N4yy!==h&&N4yy,t=37;break;case 6:t=2===e?14:20;break;case 42:s+=r,s+=n,t=40;break;case 33:t=17===e?32:43;break;case 1:t=22!==e?5:36;break;case 10:e=3,t=1;break;case 22:h+=i,h+=o,h+=r,t=34;break;case 16:e=17,t=1;break;case 20:t=20===e?19:15;break;case 19:h+=n;var s=l;s+=o,t=16;break;case 34:e=20,t=1;break;case 40:e=23,t=1;break;case 24:e=12,t=1;break;case 4:var o="n",l="u",h=l;h+=o,t=7;break}}(),i=18;break;case 7:i=0===l?6:13;break;case 4:var a=c;i=3;break;case 3:i=l<t[h[5]]?9:12;break;case 9:var r=e(t[h[2]](l),16)[h[3]](2),n=r[h[2]](r[h[5]]-1);i=7;break;case 20:i=2===s?19:10;break;case 2:i=p--?5:1;break;case 6:o=n,i=14;break;case 11:var s=2;i=10;break;case 14:l++,i=3;break;case 13:o^=n,i=14;break;case 12:i=a?17:11;break;case 10:i=1!==s?20:17;break;case 1:e=u[h[4]],i=5;break;case 17:return o?a:!a;break;case 5:var o,l=0;i=4;break;case 18:s=1,i=10;break}}};break;case 5:u=h.C4yy.constructor("return this")(),e=4;break;case 4:e=p--?9:3;break;case 12:c=c((new u[h[0]])[h[1]]()),e=11;break;case 3:a="string",e=9;break;case 7:n=a.A4yy(new u[i]("^['-|]"),"S"),e=6;break;case 2:var u,a,n,p;e=1;break;case 14:h=h.t4yy(function(t){for(var e=2;13!==e;)switch(e){case 2:var i;e=1;break;case 4:var a=0;e=3;break;case 1:e=p--?4:5;break;case 9:i+=u[n][r](t[a]+108),e=8;break;case 3:e=a<t.length?9:7;break;case 5:i="",e=4;break;case 8:a++,e=3;break;case 6:return;break;case 7:e=i?14:6;break;case 14:return i;break}}),e=13;break;case 13:e=p--?11:12;break;case 1:e=p--?4:5;break;case 8:e=p--?6:7;break;case 6:e=p--?13:14;break}}(0,[[-40,-11,8,-7],[-5,-7,8,-24,-3,1,-7],[-9,-4,-11,6,-43,8],[8,3,-25,8,6,-3,2,-5],[4,-11,6,7,-7,-35,2,8],[0,-7,2,-5,8,-4],[-59,-57,-7,-56,-4,-10,-57,-8,9],[]]),bt.e1x=function(){return"function"==typeof bt.K5x.C8?bt.K5x.C8.apply(bt.K5x,arguments):bt.K5x.C8},bt.z1x=function(){return"function"==typeof bt.K5x.g8?bt.K5x.g8.apply(bt.K5x,arguments):bt.K5x.g8},bt.e6L=function(t){if(bt)return bt.l7k(t)},bt.r5L=function(t){if(bt)return bt.l7k(t)},bt.F5L=function(t){if(t)return bt.n7k(t)},bt.L5L=function(t){if(t)return bt.n7k(t)},bt.K4L=function(t){if(bt)return bt.l7k(t)},bt.a4L=function(t){if(bt)return bt.l7k(t)},bt.s3L=function(t){if(bt)return bt.l7k(t)},bt.O3L=function(t){if(bt)return bt.n7k(t)},bt.Q3L=function(t){if(bt)return bt.l7k(t)},bt.w8w=function(t){if(t)return bt.l7k(t)},bt.O9k=function(t){if(bt)return bt.n7k(t)},bt.Q9k=function(t){if(t)return bt.n7k(t)},bt.v7k=function(t){if(t)return bt.l7k(t)},Q=function(t){var ne=bt;ne.v4L=function(t){if(ne&&t)return ne.n7k(t)},ne.k4L=function(t){if(ne&&t)return ne.n7k(t)};var se="createDataSet",oe="ChartEngine";ne.s9k=function(t){if(ne&&t)return ne.l7k(t)},ne.e9k=function(t){if(ne)return ne.l7k(t)},ne.F8k=function(t){if(ne)return ne.l7k(t)},ne.K7k=function(t){if(ne)return ne.n7k(t)};var le,$t,he,Bt="mousemoveinner",jt="ChartEngine";return le=t.CIQ,$t=t.SplinePlotter,he="valid",le.valid=0,le.ChartEngine.prototype.drawXAxis=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x;if(i=[t,e],!this.runPrepend("drawXAxis",i)&&e&&!t.xAxis.noDraw){a=this.chart.context,this.canvasFont("stx_xaxis"),r=this.getCanvasFontSize("stx_xaxis"),a.textAlign="center",a.textBaseline="middle",s=a.measureText("   ").width;for(var k=0;k<e.length;k++){n=e[k],o=a.measureText(n.text).width,ne.z1x(0),l=Math.max(ne.e1x(s,o),t.xAxis.minimumLabelWidth),ne.z1x(1);var w=ne.e1x(13,12);n.hz=Math.floor(n.hz+this.micropixels)+"0.5"*w,ne.f1x(2);var C=ne.e1x(22,11);n.left=n.hz-l/C,n.right=n.hz+l/2,n.unpaddedRight=n.hz+o/2}if(h=!0===this.xAxisAsFooter?this.chart.canvasHeight:t.panel.bottom,ne.f1x(3),c=this.whichPanel(ne.e1x(h,0,"1"))){for(var T in this.adjustYAxisHeightOffset(c,c.yAxis),u=t.xAxis.displayBorder||null===t.xAxis.displayBorder,!0===this.axisBorders&&(u=!0),!1===this.axisBorders&&(u=!1),p=h-this.xaxisHeight+r,u&&(p+=3),d=!0,this.panels)if(!(g=this.panels[T]).hidden&&!1!==g.shareChartXAxis&&(ne.z1x(4),f=ne.e1x(c,g),m=g.yAxis)){y=-Number.MAX_VALUE,v=Number.MAX_VALUE;for(var D=0;D<e.length;D++)if("boundary"==e[D].grid){v=e[D].left;break}a.save(),a.beginPath(),a.rect(g.left,g.top+(d?0:1),g.width,g.height-1),a.clip(),d=!1,(b=new le.Plotter).newSeries("line","stroke",this.canvasStyle("stx_grid")),b.newSeries("boundary","stroke",this.canvasStyle("stx_grid_dark")),b.newSeries("border","stroke",this.canvasStyle("stx_grid_border"));for(var M=0;M<e.length;M++){if(n=e[M],M==D){for(D++;D<e.length;D++)if("boundary"==e[D].grid){v=e[D].left;break}D>=e.length&&(D=-1,v=Number.MAX_VALUE)}else if(n.right>v)continue;if(!(n.left<y)){if(n.left<0){if(v<n.right)continue;if(D>=e.length&&e[M+1]&&e[M+1].left<n.right)continue}y=n.right,Math.floor(n.left)<=g.right&&(Math.floor(n.hz)>g.left&&(t.xAxis.displayGridLines&&(b.moveTo(n.grid,n.hz,m.top),b.lineTo(n.grid,n.hz,m.bottom)),f&&u&&(b.moveTo("border",n.hz,m.bottom+.5),b.lineTo("border",n.hz,m.bottom+6))),f&&n.right>g.left&&(this.canvasColor("boundary"==n.grid?"stx_xaxis_dark":"stx_xaxis"),a.fillText(n.text,n.hz,p)))}}u&&(S=Math.round(m.bottom)+.5,x=Math.round(g.right)+.5,b.moveTo("border",g.left,S),b.lineTo("border",x,S)),b.draw(a),a.restore()}a.textAlign="left",this.runAppend("drawXAxis",i)}}},le.ChartEngine.prototype.createTickXAxisWithDates=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N,L,I,O,R,z,W,V,H,B,j,U,Y,G,q,K,X,Z,Q,J,$;function tt(t){var e,i;if(x==le.MILLISECOND)e=t.getMilliseconds(),i=t.getSeconds();else if(x==le.SECOND)e=t.getSeconds(),i=t.getMinutes();else if(x==le.MINUTE)e=t.getMinutes(),i=t.getHours();else if(x==le.HOUR)e=t.getHours()+t.getMinutes()/60,i=t.getDate();else if(x==le.DAY)e=t.getDate(),i=t.getMonth()+1;else if(x==le.MONTH)e=t.getMonth()+1,i=t.getFullYear();else if(x==le.YEAR){e=t.getFullYear(),ne.f1x(5);var a=ne.b1x(989,9879,11);i=t.getFullYear()+a}else e=t.getFullYear(),i=0;return[e,i]}t||(t=this.chart),t.xaxis=[],i=t.context,a=[le.MILLISECOND,le.SECOND,le.MINUTE,le.HOUR,le.DAY,le.MONTH,le.YEAR],this.timeIntervalMap||((e={})[le.MILLISECOND]={arr:[1,2,5,10,20,50,100,250,500],minTimeUnit:0,maxTimeUnit:1e3,approxWidth:2*i.measureText("10:00:00.000").width},e[le.SECOND]={arr:[1,2,3,4,5,6,10,12,15,20,30],minTimeUnit:0,maxTimeUnit:60,approxWidth:2*i.measureText("10:00:00").width},e[le.MINUTE]={arr:[1,2,3,4,5,6,10,12,15,20,30],minTimeUnit:0,maxTimeUnit:60,approxWidth:2*i.measureText("10:00").width},e[le.HOUR]={arr:[1,2,3,4,6,12],minTimeUnit:0,maxTimeUnit:24,approxWidth:2*i.measureText("10:00").width},e[le.DAY]={arr:[1,2,7,14],minTimeUnit:1,maxTimeUnit:32,approxWidth:2*i.measureText("30").width},e[le.MONTH]={arr:[1,2,3,6],minTimeUnit:1,maxTimeUnit:13,approxWidth:2*i.measureText("Mar").width},e[le.YEAR]={arr:[1,2,3,5],minTimeUnit:1,maxTimeUnit:2e7,approxWidth:2*i.measureText("2000").width},e[le.DECADE]={arr:[10],minTimeUnit:0,maxTimeUnit:2e6,approxWidth:2*i.measureText("2000").width},this.timeIntervalMap=e),e=this.timeIntervalMap,r=[31,28,31,30,31,30,31,31,30,31,30,31],n=this.layout.periodicity,s=this.layout.interval,o=t.maxTicks,l=t.dataSegment,h=t.xAxis,c=l.length,u=h.idealTickSizePixels||h.autoComputedTickSizePixels,p=this.chart.width/u;for(var et=0;et<c&&!l[et];et++);if(et==c)return[];switch(d=0,g=this.layout.timeUnit||"minute",isNaN(s)&&(g=s,ne.f1x(1),s=ne.e1x("1",0)),f=0,g){case"millisecond":f=1;break;case"second":f=1e3,a.splice(0,1);break;case"minute":f=6e4,a.splice(0,2);break;case"day":f=864e5,a.splice(0,4);break;case"week":ne.z1x(6),f=ne.e1x(864e5,7),a.splice(0,4);break;case"month":ne.z1x(6),f=ne.e1x(864e5,30),a.splice(0,5);break}for(m=this.layout.aggregationType,this,d=0===(d=!f||m&&"ohlc"!=m&&"heikinashi"!=m?l[c-1].DT.getTime()-l[et].DT.getTime():(ne.f1x(7),ne.e1x(c,f,s,n)))?(Q={begin:new Date,interval:"day",periodicity:1},(J=t.market.newIterator(Q)).next(),$=J.previous(),((J=this.standardMarketIterator($,null,t)).next().getTime()-$.getTime())*o):(ne.f1x(8),ne.e1x(o,c,d)),ne.z1x(2),y=ne.b1x(d,p),v=0;v<a.length&&!(a[v]>y+.001);v++);for(y<1&&console.log("createTickXAxisWithDates: Assertion error. msPerGridLine < 1. Make sure your masterData has correct time stamps for the active periodicity and it is sorted from OLDEST to NEWEST."),v==a.length?v--:0<v&&(ne.z1x(9),y-(b=a[ne.e1x("1",v)])*(S=e[b].arr)[S.length-1]<a[v]-y&&v--),x=h.timeUnit||a[v],h.activeTimeUnit=x,w=(k=le.clone(e[x])).arr,v=0;v<w.length&&!(w[v]*x>y);v++);for(v==w.length?v--:y-w[v-1]*x<w[v]*x-y&&v--,k.approxWidth<this.layout.candleWidth&&(v=0),C=h.timeUnitMultiplier||w[v],T=[],D=this.layout.candleWidth,v=0;v<=o&&!l[v];v++);if(0<v&&v<o){M=this.standardMarketIterator(l[v].DT,h.adjustTimeZone?this.displayZone:null);for(var it=v;0<it;it--)A={},t.lineApproximation&&D<1||(P=M.previous(),A.DT=P),t.xaxis.unshift(A)}for(F=0,_=k.minTimeUnit,E=-1,N=!0,L=tt(l[v].DT),R=O=0,z=l[v].tick;O<z&&(I=tt(this.chart.dataSet[z-O].DT))[1]==L[1];O++)L=I;for(;R<this.chart.dataSet.length-z&&(I=tt(this.chart.dataSet[z+R].DT))[1]==L[1];R++)L=I;for(W=null,v=0;v<o+R;v++){if((V=l[v])?O&&(V=t.dataSet[V.tick-O]):V=t.xaxis[v],v<c)F=(H=V).displayDate&&h.adjustTimeZone?H.displayDate:H.DT,v&&!O&&t.segmentImage&&(D=((B=t.segmentImage[v]).leftOffset-B.candleWidth/2)/v);else{if("tick"==this.layout.interval&&!h.futureTicksInterval)break;if(t.lineApproximation&&D<1)break;if(!h.futureTicks)break;W||(W=this.standardMarketIterator(l[c-1].DT,h.adjustTimeZone?this.displayZone:null)),F=W.next()}if(F){if(j=null,ne.f1x(1),Y=ne.e1x(v,O),(G={DT:F}).data=v<c?V:null,O?(O--,v--):!t.xaxis[v]&&v<o&&t.xaxis.push(G),q=(L=tt(F))[0],ne.f1x(6),E!=(K=L[ne.e1x("1",1)])){q<=_&&(_=k.minTimeUnit),ne.f1x(1);var at=ne.b1x(12,11);U=t.left+Y*D-at,j=null,x==le.HOUR||x==le.MINUTE&&K<E?(j=this.internationalizer?this.internationalizer.monthDay.format(F):F.getMonth()+1+"/"+F.getDate(),h.formatter&&(j=h.formatter(F,"boundary",le.DAY,1,j))):x==le.DAY?K<E?(j=F.getFullYear(),h.formatter&&(j=h.formatter(F,"boundary",le.YEAR,1,j))):(j=le.monthAsDisplay(F.getMonth(),!1,this),h.formatter&&(j=h.formatter(F,"boundary",le.MONTH,1,j))):x==le.MONTH&&(j=F.getFullYear(),h.formatter&&(j=h.formatter(F,"boundary",le.YEAR,1,j))),j&&-1!=E&&T.push(new le.ChartEngine.XAxisLabel(U,"boundary",j))}if(_<=q){if(_==k.minTimeUnit&&K==E)continue;X=new Date(+F),ne.f1x(10);var rt=ne.e1x(17,3,19);ne.f1x(10);var nt=ne.b1x(13,2,13);if(U=t.left+(2*Y+rt)*D/nt-1,(Z=Math.floor(q/C)*C)<q&&("week"==this.layout.interval?Z=q:(ne.z1x(2),U-=ne.e1x(D,2))),x==le.MILLISECOND?X.setMilliseconds(Z):x==le.SECOND?(X.setMilliseconds(0),X.setSeconds(Z)):x==le.MINUTE?(X.setMilliseconds(0),X.setSeconds(0),X.setMinutes(Z)):x==le.HOUR?(X.setMilliseconds(0),X.setSeconds(0),X.setMinutes(0),X.setHours(Z)):x==le.DAY?X.setDate(Math.max(1,Z)):x==le.MONTH?(X.setDate(1),ne.f1x(9),X.setMonth(ne.e1x("1",Z))):(le.YEAR,X.setDate(1),X.setMonth(0)),ne.f1x(0),_=ne.b1x(C,Z),x==le.DAY){ne.f1x(11);var st=ne.e1x(14,9,23);k.maxTimeUnit=r[X.getMonth()]+"1"*st}if(_>=k.maxTimeUnit&&(_=k.minTimeUnit),E=K,N&&Z<q){N=!1;continue}j=x==le.DAY?X.getDate():x==le.MONTH?le.monthAsDisplay(X.getMonth(),!1,this):x==le.YEAR||x==le.DECADE?X.getFullYear():le.timeAsDisplay(X,this,x),h.formatter&&(j=h.formatter(X,"line",x,C,j)),T.push(new le.ChartEngine.XAxisLabel(U,"line",j))}}}return T},le.ChartEngine.prototype.createYAxis=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S;if(!this.runPrepend("createYAxis",arguments)){if(i=t.chart,a=t.name==i.name,e||(e={}),e.noChange=!1,r=e.yAxis?e.yAxis:t.yAxis,le.ChartEngine.enableCaching&&r.high==t.cacheHigh&&r.low==t.cacheLow){ne.f1x(12);var x=ne.e1x(8,10,5,16);n=i.dataSet.length-i.scroll-x,ne.z1x(1);var k=ne.e1x(14,13);s=n+i.maxTicks+k,t.cacheLeft=n,t.cacheRight=s,e.noChange=!0}else t.cacheLeft=1e6,t.cacheRight=-1,t.cacheHigh=r.high,t.cacheLow=r.low;if(o=i.xAxis.idealTickSizePixels?i.xAxis.idealTickSizePixels:i.xAxis.autoComputedTickSizePixels,r.goldenRatioYAxis&&r.idealTickSizePixels!=o/1.618&&(e.noChange=!1),!e.noChange){if(this.adjustYAxisHeightOffset(t,r),h=r.height=r.bottom-r.top,c=(r.high-r.low)/(h-r.zoom),!r.semiLog)if(e.ground)r.high=r.high+r.zoom*c;else{ne.f1x(1);var w=ne.b1x(32,30);r.high=r.high+(r.zoom/w+r.scroll)*c,ne.f1x(13);var C=ne.e1x(11,11,123);r.low=r.low-(r.zoom/C-r.scroll)*c}if((r.min||0===r.min)&&(r.low=r.min),(r.max||0===r.max)&&(r.high=r.max),r.shadow=r.high-r.low,r.semiLog&&(!this.activeDrawing||"projection"!=this.activeDrawing.name)){u=function(){var t;r.logHigh=Math.log(r.high)/Math.LN10,t=Math.max(r.low,1e-9),r.logLow=Math.log(t)/Math.LN10,r.low<=0&&(r.logLow=0),r.logShadow=r.logHigh-r.logLow},p=2;for(var T=1;-1284235852!==ne.D5K(T.toString(),T.toString().length,20277);T++)u(),d=r.height/(r.height-r.zoom),p+=2;1077052472!==ne.D5K(p.toString(),p.toString().length,19667)&&(u(),d=r.height+r.height%r.zoom),r.flipped?(r.high=this.transformedPriceFromPixel(r.bottom+d*(r.zoom/2+r.scroll),t,r),r.low=this.transformedPriceFromPixel(r.top-d*(r.zoom/2-r.scroll),t,r)):(r.high=this.transformedPriceFromPixel(r.top-d*(r.zoom/2+r.scroll),t,r),r.low=this.transformedPriceFromPixel(r.bottom+d*(r.zoom/2-r.scroll),t,r)),r.shadow=r.high-r.low,u()}r.goldenRatioYAxis&&a?(ne.z1x(2),r.idealTickSizePixels=ne.b1x(o,1.618),0===r.idealTickSizePixels&&(g=this.getCanvasFontSize("stx_yaxis"),ne.z1x(14),r.idealTickSizePixels=ne.b1x(g,"5"))):r.idealTickSizePixels||(g=this.getCanvasFontSize("stx_yaxis"),r.idealTickSizePixels=a?(ne.z1x(14),ne.b1x(g,"5")):(ne.z1x(6),ne.b1x(g,2))),f=Math.round(h/r.idealTickSizePixels),l=e.range?e.range[1]-e.range[0]:r.shadow,ne.z1x(2),r.priceTick=Math.floor(ne.e1x(l,f)),ne.z1x(6),m=ne.e1x("1",1);for(var D=0;D<10&&!(0<r.priceTick);D++)m*=10,r.priceTick=Math.floor(l/f*m)/m;if(10==D&&(r.priceTick=1e-8),r.priceTick=Math.round(l/f*m)/m,y=Math.round(l/r.priceTick),e.range&&y<l&&!r.noEvenDivisorTicks){for(;1<=y&&l%y!=0;)y--;ne.z1x(2),r.priceTick=ne.e1x(l,y)}if(r.minimumPriceTick){v=r.minimumPriceTick,g=this.getCanvasFontSize("stx_yaxis");for(var M=0;M<100&&(ne.f1x(2),h/ne.e1x(l,v)<2*g);M++)v+=r.minimumPriceTick;M<100&&(r.priceTick=v)}}if((r.priceTick<=0||r.priceTick===1/0)&&(r.priceTick=1),r.multiplier=r.height/r.shadow,r.multiplier==1/0&&(r.multiplier=0),r.decimalPlaces||0===r.decimalPlaces)r.printDecimalPlaces=r.decimalPlaces;else if(a){for(var A=b=0;A<t.yAxis.shadowBreaks.length;A++)S=t.yAxis.shadowBreaks[A],t.yAxis.shadow<S[0]&&(b=S[1]);r.printDecimalPlaces=b}else r.printDecimalPlaces=null;this.runAppend("createYAxis",arguments)}},le.ChartEngine.prototype.drawYAxis=function(t,e){var p,i,a,r,n,s,o,l,h,c,u,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P;if(e||(e={}),p=e.yAxis?e.yAxis:t.yAxis,!t.hidden&&!p.noDraw&&p.width){if(p.priceFormatter!=le.Comparison.priceFormat&&(p.fractional?(p.originalPriceFormatter||(p.originalPriceFormatter={func:p.priceFormatter}),p.fractional.resolution||(p.fractional.resolution=p.minimumPrice),p.fractional.formatter||(p.fractional.formatter="'"),p.priceFormatter||(p.priceFormatter=function(t,e,i){var a,r,n,s,o,l;if(p.fractional){if(a="",i<0){a="-",ne.f1x(6),r=-ne.e1x("1433901869",1),n=2;for(var h=1;-2106746678!==ne.y5K(h.toString(),h.toString().length,29845);h++)i=Math.abs(i),n+=2;ne.y5K(n.toString(),n.toString().length,66726)!==r&&(i=Math.abs(i))}s=Math.floor(Math.round(i/p.fractional.resolution)*p.fractional.resolution),o=Math.round((i-s)/p.fractional.resolution),l=Math.floor(o),ne.f1x(1),ne.e1x(4884,10),ne.f1x(15);var c=ne.b1x(57608,18,7204,9);ne.f1x(0);var u=ne.b1x(6220,389);return a+s+p.fractional.formatter+(l<10?1228==c||(u<1080?615.36:"0"):"")+l+(.5<=o-l?"+":"")}})):p.originalPriceFormatter&&(p.priceFormatter=p.originalPriceFormatter.func,p.originalPriceFormatter=null)),p.pretty)return this.drawYAxisPretty(t,e);if(!this.runPrepend("drawYAxis",arguments)){if(!e.noDraw&&!p.noDraw){if(!(i=p.yAxisPlotter)||!e.noChange){if(i=p.yAxisPlotter=new le.Plotter,a=t.chart,r=t.name==a.name&&p.name===t.yAxis.name,!p.priceTick)return;if(n=p.shadow,(s=e.range)&&(n=s[1]-s[0]),o=n/p.priceTick,o=Math.round(o),p.semiLog&&(l=Math.log(this.valueFromPixel(p.flipped?p.top:p.bottom,t))/Math.LN10,h=(p.logHigh-p.logLow)/o),c=p.textStyle?p.textStyle:"stx_yaxis",i.newSeries("grid","stroke",this.canvasStyle("stx_grid")),i.newSeries("text","fill",this.colorOrStyle(c)),i.newSeries("border","stroke",this.canvasStyle("stx_grid_border")),u=0,d=s?s[1]:p.high,g=s?s[0]:p.low,f=null===p.displayBorder?a.panel.yAxis.displayBorder:p.displayBorder,!1===this.axisBorders&&(f=!1),!0===this.axisBorders&&(f=!0),v=(y=a.dynamicYAxis)?p.width:NaN,m="left"==(b=this.getYAxisCurrentPosition(p,t))?p.left+p.width:p.left,S=Math.round(m)+.5,x=f?3:0,"left"==b&&(x=f?-3:0),r)if(p.shadow<1){ne.z1x(16);var F=ne.b1x(5,8,11,5);ne.f1x(17);var _=ne.b1x(51,17,3);u=(parseInt(g/p.priceTick,F)+_)*p.priceTick-g}else u=p.priceTick-Math.round(g%p.priceTick*t.chart.roundit)/t.chart.roundit;else u=d%p.priceTick;k=this.getCanvasFontSize("stx_yaxis");for(var E=0;E<o;E++)if(w=p.semiLog?(ne.f1x(18),C=ne.b1x(h,l,E),Math.pow(10,C)):r?g+E*p.priceTick+u:d-E*p.priceTick-u,T=this.pixelFromTransformedValue(w,t,p),!((D=Math.round(T)+.5)+k/2>t.bottom||D-k/2<t.top||Math.abs(D-p.bottom)<1)){if(p.flipped&&(D=p.top+p.bottom-D),p.displayGridLines&&(i.moveTo("grid",t.left+1,D),i.lineTo("grid",t.right-1,D)),f&&(ne.f1x(1),i.moveTo("border",ne.b1x(S,.5),D),ne.f1x(0),i.lineTo("border",ne.b1x(x,S),D)),w=p.priceFormatter?p.priceFormatter(this,t,w):this.formatYAxisPrice(w,t,null,p),M=p.textBackground?this.containerColor:null,ne.z1x(19),A=ne.e1x(3,m,x),"left"==b){ne.f1x(13);var N=ne.b1x(20,12,243);A=p.left+N,!1!==p.justifyRight&&(A=p.left+p.width+x-3)}else p.justifyRight&&(A=m+p.width);i.addText("text",w,A,D,M,null,k),y&&(v=Math.max(v,a.context.measureText(w).width))}if(f&&(P=Math.round(p.bottom)+.5,i.moveTo("border",S,p.top),i.lineTo("border",S,P),i.draw(this.chart.context,"border")),y&&v>p.width)throw p._dynamicWidth=v,this.calculateYAxisPositions(),new Error("reboot draw");if(!y&&p._dynamicWidth)throw this.resetDynamicYAxis({chartName:a.name}),new Error("reboot draw")}p==t.yAxis&&this.plotYAxisGrid(t)}this.runAppend("drawYAxis",arguments)}}},le.ChartEngine.prototype.drawYAxisPretty=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N,L,I,O,R,z,W,V,H;if(!this.runPrepend("drawYAxis",arguments)&&(e||(e={}),i=e.yAxis?e.yAxis:t.yAxis,!t.hidden&&!i.noDraw&&i.width)){if(!e.noDraw){if(!(a=i.yAxisPlotter)||!e.noChange){if(a=i.yAxisPlotter=new le.Plotter,r=t.chart,!i.priceTick)return;if(isNaN(i.high)||isNaN(i.low))return;if(n=i.shadow,e.range&&(n=e.range[1]-e.range[0]),s=i.height/i.idealTickSizePixels,s=Math.round(s),o=i.textStyle?i.textStyle:"stx_yaxis",a.newSeries("grid","stroke",this.canvasStyle("stx_grid")),a.newSeries("text","fill",this.colorOrStyle(o)),a.newSeries("border","stroke",this.canvasStyle("stx_grid_border")),h=(l=e.range)?l[1]:i.high,c=l?l[0]:i.low,u=null===i.displayBorder?r.panel.yAxis.displayBorder:i.displayBorder,!1===this.axisBorders&&(u=!1),!0===this.axisBorders&&(u=!0),g=(d=r.dynamicYAxis)?i.width:NaN,"left"==(f=this.getYAxisCurrentPosition(i,t))){m=2;for(var B=1;-562245546!==ne.y5K(B.toString(),B.toString().length,56753);B++)p=i.left%i.width,ne.z1x(1),m+=ne.b1x("2",0);1807363776!==ne.y5K(m.toString(),m.toString().length,26835)&&(p=i.left+i.width)}else p=i.left;y=Math.round(p)+.5,v=u?3:0,"left"==f&&(v=u?-3:0),b=this.getCanvasFontSize("stx_yaxis"),x=(S=i.increments).length,w=1,D=T=C=k=0,M=Number.MAX_VALUE;for(var j=0;j<100;j++){ne.z1x(2);var U=ne.e1x(70,7);if(C=S[k]*Math.pow(U,D),ne.f1x(2),w=Math.floor(ne.b1x(n,C)),ne.f1x(1),M<(A=Math.abs(ne.b1x(s,w))))break;if(M=A,w==s){T=C;break}s<w?x<=++k&&(k=0,D++):--k<0&&(ne.f1x(1),k=ne.b1x(x,1),D--),T=C}if(P=Math.ceil(c/T)*T,F=i.bottom-this.pixelFromTransformedValue(P,t,i),ne.z1x(6),_=ne.b1x("0",1),F>i.idealTickSizePixels&&i.semiLog&&i.prettySemiLog){for(E=Math.ceil(c);E<P&&P%E!=0;++E);if(E<P){P===T&&(_=T=E),N=2;for(var Y=1;-1749119060!==ne.D5K(Y.toString(),Y.toString().length,32059);Y++)P=E,N+=2;-393033805!==ne.y5K(N.toString(),N.toString().length,15206)&&(P=E)}}L=0,I=Number.MAX_VALUE;for(var G=0;G<100&&(ne.f1x(18),!(h<(O=ne.e1x(T,P,L))));G++)if(T+=_,L++,I-(R=this.pixelFromTransformedValue(O,t,i))<b+1&&0<_)G=L=0,I=Number.MAX_VALUE,T=_,_*=2,a.reset();else if(I=R,!((z=Math.round(R)+.5)+b/2>t.bottom||z-b/2<t.top||Math.abs(z-i.bottom)<1)){if(i.displayGridLines&&(a.moveTo("grid",t.left+1,z),a.lineTo("grid",t.right-1,z)),u&&(ne.f1x(1),a.moveTo("border",ne.e1x(y,.5),z),ne.z1x(0),a.lineTo("border",ne.e1x(v,y),z)),O=i.priceFormatter?i.priceFormatter(this,t,O):this.formatYAxisPrice(O,t,null,i),W=i.textBackground?this.containerColor:null,ne.z1x(19),V=ne.e1x(3,p,v),"left"==f){if(V=i.left+3,!1!==i.justifyRight){ne.f1x(1);var q=ne.b1x(11,8);V=i.left+i.width+v-q}}else i.justifyRight&&(V=p+i.width);a.addText("text",O,V,z,W,null,b),d&&(g=Math.max(g,r.context.measureText(O).width))}if(100<=G&&console.log("drawYAxisPretty: assertion error. zz reached 100"),u&&(H=Math.round(i.bottom)+.5,a.moveTo("border",y,i.top),a.lineTo("border",y,H),a.draw(this.chart.context,"border")),d&&g>i.width)throw i._dynamicWidth=g,this.calculateYAxisPositions(),new Error("reboot draw");if(!d&&i._dynamicWidth)throw this.resetDynamicYAxis({chartName:r.name}),new Error("reboot draw")}i==t.yAxis&&this.plotYAxisGrid(t)}this.runAppend("drawYAxis",arguments)}},le.ChartEngine.prototype.drawHistogram=function(t,e){var i,w,a,C,T,r,n,s,D,o,M,l,h,c,A,u,P,F,_,E,N,L,p,d,g,f,m,y;if(e&&e.length&&((i=t.panel)||(i="chart"),w=this.panels[i])){for(a=t.yAxis?t.yAxis:w.yAxis,C=t.type,T=this.chart.dataSegment,r=!1,s=0;s<e.length;s++)r|=e[s].border_color_up&&!le.isTransparent(e[s].border_color_up),r|=e[s].border_color_down&&!le.isTransparent(e[s].border_color_down);!1===t.borders&&(r=!1),t.name||(t.name="Data"),D=a.multiplier,t.heightPercentage||(t.heightPercentage=.7),t.widthFactor||(ne.f1x(1),t.widthFactor=ne.b1x("0.8",0));for(var v=M=o=0;v<this.chart.maxTicks;v++)if(l=T[v])for(s=h=0;s<e.length;s++)((c=l[e[s].field])||0===c)&&(n=e[s].subField||this.chart.defaultPlotField||"Close","object"==typeof c&&c[n]&&(c=c[n]),"stacked"==C?h+=c:h=c,o<h&&(o=h),h<M&&(M=h));if(0!==o||0!==M){if(t.bindToYAxis)A=Math.floor(this.pixelFromPrice(M,w,a))+(a.flipped?-.5:.5);else{if(a.flipped){A=Math.floor(a.top)-.5,ne.f1x(1);var b=ne.b1x(20,19);u=Math.floor(a.bottom)-"0.5"*b}else A=Math.floor(a.bottom)+.5,u=Math.floor(a.top)+.5;D=Math.abs(A-u)*t.heightPercentage/(o-M)}for(this.startClip(i),P=this.layout.candleWidth<=1||!r?0:.5,F=this.chart.context,a.flipped&&(F.translate(0,2*a.top),F.scale(1,-1)),_=Math.max(0,(1-t.widthFactor)*this.layout.candleWidth/2),E=new Array(T.length),N=[],L=this,p=1,s=0;s<e.length;s++){if(d=e[s],p=this.layout.candleWidth*t.widthFactor,_&&this.layout.candleWidth-p<=2&&(r=!1),g=0,"clustered"==C&&(g=s,p/=e.length),n=t.subField||this.chart.defaultPlotField||"Close","function"==typeof d.color_function){m={};for(var S=0;S<T.length;S++)if(T[S]){"string"==typeof(f=d.color_function(T[S]))&&(f={fill_color:f,border_color:f}),ne.f1x(22);var x=ne.e1x(8,747,17,4509);ne.z1x(1);var k=ne.e1x(8041,7310);ne.z1x(23);var I=ne.b1x(102097,12,17225,6);ne.f1x(0);var O=ne.e1x(5491,549);ne.z1x(1);var R=ne.e1x(47934,39945);(y=f.fill_color+(x!=k?925<=I?974.59<=O?",":"f":R:"x")+f.border_color)in m?m[y].positions.push(S):(f.positions=[S],m[y]=f)}for(y in m)f=m[y],z(d.field,n,f.fill_color,f.opacity,null,null,g,p,f.positions),z(d.field,n,f.border_color,f.opacity,!0,null,g,p,f.positions)}else z(d.field,n,d.fill_color_up,d.opacity_up,null,!0,g,p),z(d.field,n,d.fill_color_down,d.opacity_down,null,null,g,p),2<=this.layout.candleWidth&&r&&(z(d.field,n,d.border_color_up,d.opacity_up,!0,!0,g,p),z(d.field,n,d.border_color_down,d.opacity_down,!0,null,g,p));"stacked"==C&&(N=le.shallowClone(E))}F.globalAlpha=1,this.endClip()}else this.watermark(i,"center","bottom",this.translateIf(t.name+" Not Available"))}function z(t,e,i,a,r,n,s,o,l){var h,c,u,p,d,g,f,m,y,v,b,S,x;a||(a=1),F.globalAlpha=a,F.beginPath(),ne.z1x(0),h=ne.b1x(.5,A),c=Math.floor(L.pixelFromBar(0,w.chart)-L.layout.candleWidth/2);for(var k=0;k<T.length;k++)u=N[k]||A,0===k&&(h=u),T[k]&&T[k][t]?("object"==typeof(d=(p=T[k])[t])&&d[e]&&(d=d[e]),ne.z1x(20),g=ne.b1x(D,M,d),isNaN(g)||(f=L.layout.candleWidth,p.candleWidth&&(f=p.candleWidth,0===k&&(c=Math.floor(L.pixelFromBar(0,w.chart)-p.candleWidth/2))),m=Math.min(Math.floor(u-g)+.5,u),l&&-1==l.indexOf(k)||!l&&(n&&p.Close<p.iqPrevClose||!n&&p.Close>=p.iqPrevClose)?(h=m,c+=f):(y=f/L.layout.candleWidth,(S=_?(ne.z1x(21),v=Math.round(ne.b1x(_,y,c,o,s)),ne.z1x(0),b=ne.b1x(r?0:P,v),v+Math.round(o*y)-(r?0:P)):(ne.f1x(21),v=ne.e1x(_,y,c,o,s),b=Math.round(v)+(r?0:P),Math.round(v+o*y)-(r?0:P)))-b<2&&(ne.f1x(0),S=ne.e1x(1,b)),b%1==(x=r?0:.5)&&(ne.z1x(1),b+=ne.b1x("0.5",0)),S%1==x&&(S+=.5),F.moveTo(S,u),A!=u&&r&&!_&&N[k+1]&&F.moveTo(S,Math.max(m,Math.min(u,N[k+1]))),F.lineTo(S,m),F.lineTo(b,m),r&&s?(E[k]>m||0===k)&&F.lineTo(b,Math.min(u,E[k])):r&&!_&&"clustered"==C?0<k&&E[k-1]&&E[k-1]>m&&F.lineTo(b,Math.min(u,E[k-1])):r&&!_?(m<h||0===k)&&F.lineTo(b,Math.min(u,h)):F.lineTo(b,u),h=m,c+=f,("clustered"!=C||r)&&(E[k]=m)))):(h=u,c+=L.layout.candleWidth);r?(F.strokeStyle=i&&"auto"!=i?i:L.defaultColor,F.stroke()):(F.fillStyle=i&&"auto"!=i?i:L.defaultColor,F.fill()),F.closePath()}},le.ChartEngine.prototype.drawBarTypeChartInner=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N,L,I,O,R,z,W,V,H,B,j,U,Y,G,q,K;e=t.type,i=t.panel,a=t.field,r=t.fillColor,n=t.borderColor,s=t.condition,o=t.style,l=t.yAxis,ne.z1x(4),c=(h=ne.e1x("histogram",e))||"candle"==e,ne.f1x(4),u=ne.e1x("shadow",e),ne.f1x(4),p=ne.b1x("hlc",e),d="bar"==e||p,f=(g=i.chart).dataSegment,m=this.chart.context,y=new Array(f.length),v=0,n&&!le.isTransparent(n)&&(v=.5),ne.z1x(13);var X=ne.e1x(14,2,29);b=g.dataSet.length-g.scroll-X,m.beginPath(),l||(l=i.yAxis),S=l.top,x=l.bottom,k=this.layout.candleWidth,ne.f1x(24);var Z=ne.e1x(15,3,19);w=i.left-.5*k+this.micropixels-Z,C=g.tmpWidth/2,T=m.lineWidth/2,c&&(le.isTransparent(r)&&(r=this.containerColor),m.fillStyle=r),u&&(m.lineWidth=1),d&&((D=this.canvasStyle(o)).width&&parseInt(D.width,10)<=25?m.lineWidth=Math.max(1,le.stripPX(D.width)):m.lineWidth=1),M=g.state.chartType.pass;for(var Q=0;Q<=f.length;Q++)if(A=C,ne.z1x(2),w+=ne.b1x(k,2),k=this.layout.candleWidth,ne.f1x(2),w+=ne.b1x(k,2),(P=f[Q])&&!P.projection&&(P.candleWidth&&(w+=(P.candleWidth-k)/2,k=P.candleWidth,(t.volume||k<g.tmpWidth)&&(ne.f1x(2),A=ne.e1x(k,2))),g.transformFunc&&l==g.panel.yAxis&&P.transform&&(P=P.transform),P&&a&&"Close"!=a&&(P=P[a]),(P||0===P)&&(F=P.Close,_=void 0===P.Open?F:P.Open,h&&g.defaultPlotField&&(F=P[g.defaultPlotField]),(F||0===F)&&(!c||h||_!=F&&null!==_)))){if(s){if(s&le.ChartEngine.CLOSEDOWN?M.even|=F==P.iqPrevClose:s&le.ChartEngine.CANDLEDOWN&&(ne.f1x(4),M.even|=ne.b1x(_,F)),s&le.ChartEngine.CANDLEUP&&F<=_)continue;if(s&le.ChartEngine.CANDLEDOWN&&_<=F)continue;if(s&le.ChartEngine.CANDLEEVEN&&_!=F)continue;if(s&le.ChartEngine.CLOSEUP&&F<=P.iqPrevClose)continue;if(s&le.ChartEngine.CLOSEDOWN&&F>=P.iqPrevClose)continue;if(s&le.ChartEngine.CLOSEEVEN&&F!=P.iqPrevClose)continue}if(ne.z1x(0),ne.e1x(Q,b),E=_,N=F,(u||d)&&(E=void 0===P.High?Math.max(F,_):P.High,N=void 0===P.Low?Math.min(F,_):P.Low),L=l.semiLog?l.height*(1-(Math.log(Math.max(E,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-E)*l.multiplier,I=l.semiLog?l.height*(1-(Math.log(Math.max(N,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-N)*l.multiplier,l.flipped?(ne.z1x(1),L=ne.e1x(x,L),ne.f1x(1),I=ne.e1x(x,I)):(L+=S,I+=S),z=Math.floor(h?l.flipped?l.top:I:Math.min(L,I))+v,W=h?l.flipped?L:l.bottom:Math.max(L,I),ne.z1x(1),V=Math.floor(ne.e1x(W,z)),H=I,(d||u)&&(O=l.semiLog?l.height*(1-(Math.log(Math.max(_,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-_)*l.multiplier,R=l.semiLog?l.height*(1-(Math.log(Math.max(F,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-F)*l.multiplier,l.flipped?(ne.z1x(1),O=ne.b1x(x,O),ne.f1x(1),R=ne.b1x(x,R)):(O+=S,R+=S),H=R),y[Q]=H,z<S){if(z+V<S)continue;ne.f1x(1),V-=ne.e1x(S,z),z=S}x<z+V&&(ne.z1x(25),V-=ne.e1x(V,x,z)),ne.f1x(0),W=ne.e1x(V,z),x<=z||W<=S||(B=Math.floor(w)+.5,Y=(j=Math.floor(B-A)+v)==(U=Math.round(B+A)-v)?A:0,V<2&&(V=2),c?(h||F!=_)&&m.rect(j,z,Math.max(1,U-j),V):u?(F==_&&R<=x&&S<=R&&(G=Math.floor(R)+.5,ne.z1x(1),m.moveTo(ne.e1x(j,Y),G),ne.z1x(0),m.lineTo(ne.b1x(Y,U),G)),E!=N&&(m.moveTo(B,z),m.lineTo(B,W))):d&&(z<x&&S<W&&P.High!=P.Low&&(ne.f1x(1),m.moveTo(B,ne.b1x(z,T)),ne.z1x(0),m.lineTo(B,ne.b1x(T,W))),S<O&&O<x&&!p&&(q=Math.floor(O)+.5,m.moveTo(B,q),ne.f1x(26),m.lineTo(ne.e1x(Y,A,B),q)),S<R&&R<x&&(K=Math.floor(R)+.5,m.moveTo(B,K),ne.f1x(19),m.lineTo(ne.b1x(Y,B,A),K))))}return c?(m.fill(),v&&(m.lineWidth=t.highlight?2:1,m.strokeStyle=n,m.stroke())):(u||d)&&(this.canvasColor(o),n&&(m.strokeStyle=n),t.highlight&&(m.lineWidth*=2),m.stroke(),m.closePath(),m.lineWidth=1),{cache:y}},le.ChartEngine.prototype.plotDataSegmentAsLine=function(t,e,u,i){var a,r,n,s,o,p,l,d,g,h,f,m,y,c,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N,L,I,O,R,z,W,V,H,B,j,U,Y,G,q,K,X,Z,Q,J,$,tt,et,it,at,rt,nt,st,ot,lt,ht,ct,ut,pt,dt,gt,ft,mt,yt,vt,bt,St,xt,kt,wt,Ct,Tt,Dt,Mt,At,Pt,Ft,_t,Et,Nt,Lt,It;function Ot(t,e,i){var a,r,n;a=l.semiLog?l.height*(1-(Math.log(Math.max(i.CollatedOpen,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-i.CollatedOpen)*l.multiplier,r=l.semiLog?l.height*(1-(Math.log(Math.max(i.CollatedHigh,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-i.CollatedHigh)*l.multiplier,n=l.semiLog?l.height*(1-(Math.log(Math.max(i.CollatedLow,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-i.CollatedLow)*l.multiplier,l.flipped?(a=l.bottom-a,r=l.bottom-r,n=l.bottom-n):(a+=l.top,r+=l.top,n+=l.top),k.lineTo(t,a),k.moveTo(t,r),k.lineTo(t,n),k.moveTo(t,e),m.push(t,a)}if(l=p=o=null,d=0,h=g=!(s=!(n=r=a=!1)),f={},m=[],y=[],c=[],v=[],b=this,x=(S=e.chart).dataSegment,k=S.context,w=new Array(x.length),C=k.strokeStyle,S.dataSet.length){if(this.startClip(e.name),u){a=u.skipProjections,u.skipTransform,r=u.noSlopes,d=u.tension,n=u.step,p=u.pattern,s=u.extendOffChart,l=u.yAxis,o=u.gapDisplayStyle,ne.z1x(27),T=ne.b1x("2",0);for(var Rt=1;-1713034669!==ne.y5K(Rt.toString(),Rt.toString().length,29491);Rt++)g=u.noDraw,h=u.reverse,T+=2;1933241548!==ne.y5K(T.toString(),T.toString().length,65653)&&(g=u.noDraw,h=u.reverse),u.width&&(k.lineWidth=u.width)}o||!1===o||(o=u.gaps),o||(o={color:"transparent",fillMountain:!0}),u.highlight&&(k.lineWidth*=2),!1!==s&&(s=!0),D=u.subField||S.defaultPlotField||"Close",l||(l=e.yAxis),M=S.transformFunc&&l==S.panel.yAxis,ne.f1x(28);var zt=ne.b1x(19,2,12,7);A=k.lineWidth*zt,P=h?S.top-A:S.bottom+A,(u.threshold||0===u.threshold)&&(P=this.pixelFromPrice(u.threshold,e,l)),F=!d&&g&&o&&o.fillMountain,E=_=t;for(var Wt=0;Wt<x.length;Wt++)if((N=x[Wt])&&"object"==typeof N&&(N[t]||0===N[t])){"object"==typeof N[t]&&(E=le.createObjectChainNames(t,[D])[0]);break}L={left:null,right:null},ne.f1x(10);var Vt=ne.e1x(17,10,26);if(I=S.dataSet.length-S.scroll-Vt,s&&(u.isComparison||(L.left=this.getPreviousBar(S,E,0)),L.right=this.getNextBar(S,E,x.length-1)),R=!(O=!0),k.beginPath(),H=null,(V=L.left)&&(H=V.transform),V){B=2;for(var Ht=1;-1527686309!==ne.D5K(Ht.toString(),Ht.toString().length,18704);Ht++)W=M?H?H[t]:1:V[t],B+=2;1205588235!==ne.y5K(B.toString(),B.toString().length,26202)&&(W=M?H?H[t]:null:V[t]),W&&((W[D]||0===W[D])&&(W=W[D]),j=this.pixelFromTick(V.tick,S),U=this.pixelFromTransformedValue(W,e,l),k.moveTo(j,U),m.push(j,U),1<x[0].tick-V.tick&&(c.push({start:m.slice(-2),threshold:P,tick:V}),R=!0),O=!1)}ne.z1x(1);var Bt=ne.e1x(64,63);Y=e.left+this.micropixels-Bt,K=this.currentQuote(),J={reset:!(Q=!1)};for(var jt=Z=X=0;jt<x.length;jt++){if(z=this.layout.candleWidth,$=x[jt],tt=x[jt],$||($={}),a&&$.projection){L.right=null;break}if($.candleWidth&&(z=$.candleWidth),M&&$.transform&&($=$.transform),(et=$[t])&&"object"==typeof et&&(et=et[D],ne.z1x(19),_=ne.e1x(D,t,".")),S.lineApproximation&&this.layout.candleWidth<1){if(J.reset&&(Q=!(J={CollatedHigh:-Number.MAX_VALUE,CollatedLow:Number.MAX_VALUE,CollatedOpen:null,CollatedClose:null})),((it=et)||0===it)&&(J.CollatedHigh=Math.max(J.CollatedHigh,it),J.CollatedLow=Math.min(J.CollatedLow,it),J.CollatedClose=it,null===J.CollatedOpen?J.CollatedOpen=it:Q=!0),!(1<=(X+=z)-Z||jt==x.length-1)){Y+=z;continue}Z=Math.floor(X),J.reset=!0,J[t]=J.CollatedClose,($=J).cache={}}if(r||(ne.f1x(29),Y+=ne.b1x("2",z)),et||0===et){if(rt=(G=$).cache,ne.z1x(0),((nt=ne.e1x(jt,I))<e.cacheLeft||nt>e.cacheRight||!rt[t])&&(rt[_]=l.semiLog?l.height*(1-(Math.log(Math.max(et,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-et)*l.multiplier,l.flipped?rt[_]=l.bottom-rt[_]:rt[_]+=l.top),st=w[jt]=rt[_],tt.tick==K.tick&&S.lastTickOffset&&(Y+=S.lastTickOffset),ot=m.slice(-2),!O&&i){if(tt[t]&&tt[t][D]&&(tt=tt[t]),!(lt=i(this,tt,R))){Y+=r?z:z/2;continue}ot=Jt(lt)}!O&&p&&p.length?n||r?(Q?Ot(Y,ot[1],$):k.dashedLineTo(ot[0],ot[1],Y,ot[1],p),r?k.moveTo(Y,st):Q?Ot(Y,st,$):k.dashedLineTo(Y,ot[1],Y,st,p),m.push(Y,ot[1])):Q?Ot(Y,st,$):k.dashedLineTo(ot[0],ot[1],Y,st,p):O?(k.moveTo(Y,st),d&&y.push({coord:[Y,st],color:k.strokeStyle,pattern:p||[],width:k.lineWidth})):((n||r)&&(ht=m.slice(-1)[0],Q?Ot(Y,ht,$):k.lineTo(Y,ht),m.push(Y,ht)),Q&&!r?Ot(Y,st,$):k[r?"moveTo":"lineTo"](Y,st)),R&&(c.push({end:[Y,st],threshold:P}),q=tt,!F||n||r||m.push(Y,P)),m.push(Y,st),R=O=!1,Y+=r?z:z/2}else at=m.slice(-2),F&&!R&&m.length&&m.push(at[0],P),R||c.push({start:at,threshold:P,tick:q}),R=!0,Y+=r?z:z/2,(n||r)&&m.length&&(w[jt]=m.slice(-1)[0])}ct=2;for(var Ut=1;-391175865!==ne.y5K(Ut.toString(),Ut.toString().length,56802);Ut++)pt=1,(ut=L.right)&&(pt=ut.transform),ct+=2;for(var Yt in-1380497981!==ne.y5K(ct.toString(),ct.toString().length,14406)&&(pt=8,(ut=L.right)&&(pt=ut.transform)),pt=null,(ut=L.right)&&(pt=ut.transform),!O&&ut&&((W=M?pt?pt[t]:null:ut[t])&&(W[D]||0===W[D])&&(W=W[D]),dt=this.pixelFromTick(ut.tick,S),gt=this.pixelFromTransformedValue(W,e,l),1<ut.tick-x[x.length-1].tick&&(R||(ft=m.slice(-2),F&&m.length&&m.push(ft[0],P),c.push({start:ft,threshold:P,tick:x[x.length-1]})),R=!0),!O&&i&&(mt=i(this,ut,R))&&(yt=Jt(mt),p&&p.length&&(n||r?(k.dashedLineTo(yt[0],yt[1],dt,yt[1],p),r?k.moveTo(dt,gt):k.dashedLineTo(dt,yt[1],dt,gt,p),m.push(dt,yt[1])):k.dashedLineTo(yt[0],yt[1],dt,gt,p))),vt=m.slice(-2),p&&p.length||((n||r)&&(k.lineTo(dt,vt[1]),m.push(dt,vt[1])),k[r?"moveTo":"lineTo"](dt,gt)),R&&(c.push({end:[dt,gt],threshold:P}),!F||n||r||m.push(dt,P)),m.push(dt,gt)),f)v.push(Yt);if(n||r||this.extendLastTick||u.extendToEndOfDataSet){bt=2;for(var Gt=1;-383869348!==ne.D5K(Gt.toString(),Gt.toString().length,20344);Gt++)St=m.slice(-4),bt+=2;1375553308!==ne.y5K(bt.toString(),bt.toString().length,83787)&&(St=m.slice(-4)),St=m.slice(-2),m.length&&(xt=St[0],ne.z1x(27),kt=St[ne.e1x("1",0)],n||u.extendToEndOfDataSet?(xt=this.pixelFromTick(S.dataSet.length-1,S),(r||this.extendLastTick)&&(ne.f1x(2),xt+=ne.e1x(z,2))):r?xt+=z:this.extendLastTick&&(ne.z1x(29),xt+=ne.e1x("2",z)),xt>St[0]&&(wt=null,i&&(wt=i(this,{},!0)),wt&&Jt(wt),p&&p.length?k.dashedLineTo(St[0],St[1],xt,kt,p):k.lineTo(xt,kt),R&&F||m.push(xt,kt)))}if(!g){d&&m.length&&(k.beginPath(),k.setLineDash(u.pattern||[]),k.lineDashOffset=0,$t.plotSpline(m,d,k,y)),ne.z1x(6),Ct=ne.b1x("2",1);for(var qt=1;1266693514!==ne.D5K(qt.toString(),qt.toString().length,24939);qt++)k.stroke(),Ct+=2;998036913!==ne.y5K(Ct.toString(),Ct.toString().length,36399)&&k.stroke()}if(this.endClip(),!g&&u.label&&G){Tt=2;for(var Kt=1;-210362402!==ne.D5K(Kt.toString(),Kt.toString().length,89635);Kt++)(Mt=G[t])&&"object"==typeof Mt&&(Mt=Mt[D]),Tt+=2;644136054!==ne.D5K(Tt.toString(),Tt.toString().length,59183)&&((Mt=G[t])||""===-Mt)&&(Mt=Mt[D]),Dt=l.priceFormatter?l.priceFormatter(this,e,Mt,u.labelDecimalPlaces):this.formatYAxisPrice(Mt,e,u.labelDecimalPlaces),At=this.yaxisLabelStyle,l.yaxisLabelStyle&&(At=l.yaxisLabelStyle),Pt="noop"==At?k.strokeStyle:null,Ft="noop"==At?"#FFFFFF":k.strokeStyle,this.yAxisLabels.push({src:"plot",args:[e,Dt,G.cache[_],Ft,Pt,k,l]})}if(_t="object"==typeof o?o.color:o,le.isTransparent(_t))for(var Xt=0;Xt<c.length;Xt+=2)if(Et=c[Xt].start,Xt&&(Nt=c[Xt-1].end),Nt&&Et[0]==Nt[0]&&Et[1]==Nt[1]){if(k.beginPath(),Lt=k.lineWidth,i){if("object"==typeof(It=i(this,c[Xt].tick||{},!1))){ne.z1x(13);var Zt=ne.e1x(20,15,302);ne.f1x(30);var Qt=ne.e1x(20,19,17,57);Lt=It.width*(u.highlight?Zt:Qt),It=It.color}k.strokeStyle=k.fillStyle=It}k.lineWidth=Lt,k.arc(Et[0],Et[1],1,0,2*Math.PI),k.stroke(),k.fill()}}function Jt(t){var e,i,a,r,n,s,o,l,h;if(e=p,"object"==typeof(i=t)&&(p=le.borderPatternToArray(k.lineWidth,i.pattern),i=i.color),f[i]=1,!g){a=m.slice(-2),r=p instanceof Array&&p.join(),n=e instanceof Array&&e.join(),ne.z1x(31),s=ne.e1x(n,r),o=!le.colorsEqual(C,i),ne.z1x(32);var c=ne.e1x(15,3,10);return l=t.width*(u.highlight?c:1),h=k.lineWidth!=l,(o||s||h)&&(d?y.push({coord:a,color:i,pattern:p||[],width:l}):(o||h)&&(k.stroke(),k.lineWidth=l,k.beginPath(),k.moveTo(a[0],a[1]))),C=i,d||(k.strokeStyle=i&&"auto"!=i?i:b.defaultColor),a}}return{colors:v,points:m,cache:w,gapAreas:c}},le.ChartEngine.prototype.drawMountainChart=function(t,e,i){var a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N,L,I,O;if(a=this.chart.context,l=null,ne.z1x(6),ne.e1x("0",1),f=p=null,(k=t.chart).dataSegment,w=k.lineStyle||{},e&&"object"==typeof e||(e={style:e}),r=e.style||"stx_mountain_chart",o=e.field||k.defaultPlotField||"Close",l=e.subField||k.defaultPlotField||"Close",(p=e.gapDisplayStyle)||!1===p||(p=e.gaps),p||!1===p||(p=k.gaplines),p||(p="transparent"),h=e.yAxis||t.yAxis,n=e.reverse||!1,c=e.tension,g=e.fillStyle,u=e.width||w.width,d=e.step,f=e.pattern||w.pattern,m=e.highlight,v=e.color,y=e.baseColor,s=e.colored,b=e.extendToEndOfDataSet,S=e.isComparison,x=e.returnObject,C=this.canvasStyle(r),T=h.top,(isNaN(T)||isNaN(T/T))&&(T=0),D=v||(r&&C.backgroundColor?C.backgroundColor:this.defaultColor),M=y||(r&&C.color?C.color:this.containerColor),g)a.fillStyle=g;else if(y||C.color)ne.f1x(1),(A=a.createLinearGradient(0,T,ne.b1x("0",0),h.bottom)).addColorStop(h.flipped?1:0,D),A.addColorStop(h.flipped?0:1,M),a.fillStyle=A;else{P=2;for(var R=1;-192476035!==ne.y5K(R.toString(),R.toString().length,55455);R++)a.fillStyle=D,ne.z1x(1),P+=ne.e1x("2",0);1016868352!==ne.D5K(P.toString(),P.toString().length,73671)&&(a.fillStyle=D)}return this.startClip(t.name),F=a.lineWidth,e.symbol||(l=null),e={skipProjections:!0,reverse:n,yAxis:h,gapDisplayStyle:p,step:d,highlight:m,extendToEndOfDataSet:b,isComparison:S},k.tension&&(e.tension=k.tension),(c||0===c)&&(e.tension=c),_=parseInt(C.paddingTop,10),E=v||C.borderTopColor,N=null,(s||E&&!le.isTransparent(E))&&_&&!le.isIE8&&((L=this.scratchContext)||(I=a.canvas.cloneNode(!0),(L=this.scratchContext=I.getContext("2d")).canvas=I),L.canvas.height=a.canvas.height,L.canvas.width=a.canvas.width,L.drawImage(a.canvas,0,0),ne.f1x(27),a.clearRect(ne.e1x("0",0),0,a.canvas.width,a.canvas.height)),le.extend(e,{panelName:t.name,direction:e.reverse?-1:1,band:o,subField:l,opacity:1}),le.preparePeakValleyFill(this,e),(s||E&&!le.isTransparent(E))&&_&&!le.isIE8&&(a.save(),ne.z1x(6),a.lineWidth+=ne.e1x(2,_),a.globalCompositeOperation="destination-out",a.globalAlpha=1,this.plotDataSegmentAsLine(o,t,e),a.globalCompositeOperation="destination-over",a.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio),a.drawImage(this.scratchContext.canvas,0,0),a.restore()),a.strokeStyle=E,u?a.lineWidth=u:C.width&&parseInt(C.width,10)<=25?a.lineWidth=Math.max(1,le.stripPX(C.width)):a.lineWidth=1,f||(f=C.borderTopStyle),e.pattern=le.borderPatternToArray(a.lineWidth,f),O=i,p&&(O=this.getGapColorFunction(o,l,{color:E,pattern:e.pattern,width:a.lineWidth},p,i)),N=this.plotDataSegmentAsLine(o,t,e,O),a.lineWidth=F,this.endClip(),N.colors.length||N.colors.push(E),x?N:N.colors},le.ChartEngine.prototype.drawBaselineChart=function(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P;if(a=(i=t.chart).gaplines,r=i.baseline.actualLevel,n=[],s=e.field||i.defaultPlotField,o=i.lineStyle||{},t.name!=i.panel.name&&(r=null,l=e.subField||i.defaultPlotField||"Close",(r=i.dataSegment[0]?i.dataSegment[0][e.field]:this.getNextBar(i,l,0))&&"object"==typeof r&&(r=r[l])),(h=e.gapDisplayStyle)||!1===h||(h=e.gaps),null!==r&&!isNaN(r)){if(c="mountain"==e.type){ne.f1x(27),u=ne.b1x("2030843159",0),p=2;for(var F=1;ne.D5K(F.toString(),F.toString().length,36791)!==u;F++)n=this.drawMountainChart(t,{style:e.style,field:e.field,yAxis:e.yAxis,gapDisplayStyle:h,colored:!0,tension:0}),p+=2;30594942!==ne.y5K(p.toString(),p.toString().length,1552)&&(n=this.drawMountainChart(t,{style:e.style,field:e.field,yAxis:e.yAxis,gapDisplayStyle:h,colored:!1,tension:2}))}if(d=this.pixelFromPrice(r,t),isNaN(d))return;for(var _ in this.startClip(t.name),g=e.pattern||o.pattern,f=e.fill_color_up||this.getCanvasColor("stx_baseline_up"),m=e.fill_color_down||this.getCanvasColor("stx_baseline_down"),y=e.border_color_up||this.getCanvasColor("stx_baseline_up"),v=e.border_color_down||this.getCanvasColor("stx_baseline_down"),b={fill:f,edge:y,width:e.width||o.width||this.canvasStyle("stx_baseline_up").width},S={fill:m,edge:v,width:e.width||o.width||this.canvasStyle("stx_baseline_down").width},w=!(k={over:(x=e.yAxis.flipped)?S:b,under:x?b:S}),h||!1===h||(h=a),k)C=parseInt(Math.max(1,le.stripPX(k[_].width)),10),e.highlight&&(C*=2),g=le.borderPatternToArray(C,g),(T={panelName:t.name,band:s,threshold:r,color:c?"transparent":k[_].fill,direction:"over"==_?1:-1,edgeHighlight:k[_].edge,edgeParameters:{pattern:g,lineWidth:C+.1,opacity:1},gapDisplayStyle:h,yAxis:e.yAxis}).yAxis&&(T.threshold=this.priceFromPixel(this.pixelFromPrice(T.threshold,t),t,T.yAxis)),n.push(k[_].edge),D=T.color,!c&&D&&"transparent"!=D&&(M=t.top,A=t.bottom,(P=i.context.createLinearGradient(0,"over"==_?M:A,0,d)).addColorStop(0,le.hexToRgba(le.colorToHex(D),60)),P.addColorStop(1,le.hexToRgba(le.colorToHex(D),10)),T.color=P,T.opacity=1),le.preparePeakValleyFill(this,i.dataSegment,T),a&&(a.fillMountain||this.drawLineChart(t,null,null,{color:"transparent",gapDisplayStyle:{color:this.containerColor,pattern:"solid",width:T.edgeParameters.lineWidth}}),a.color||(w=!0,a.color=this.defaultColor)),this.drawLineChart(t,null,null,{color:"transparent",width:T.edgeParameters.lineWidth}),w&&(a.color=null);if(this.plotLine(0,1,d,d,this.containerColor,"line",i.context,t,{lineWidth:"1.1",color:"transparent"}),this.plotLine(0,1,d,d,this.getCanvasColor("stx_baseline"),"line",i.context,t,{pattern:"dotted",lineWidth:"2.1",opacity:.5}),this.controls.baselineHandle&&this.manageTouchAndMouse&&this.getSeriesRenderer(e.name)==this.mainSeriesRenderer&&!1!==i.baseline.userLevel){ne.z1x(33);var E=ne.b1x(13,18,5);ne.f1x(17);var N=ne.e1x(11,11,2);this.controls.baselineHandle.style.top=d-parseInt(getComputedStyle(this.controls.baselineHandle).height,"10"*E)/N+"px",ne.f1x(16);var L=ne.b1x(2,19,90,5);this.controls.baselineHandle.style.left=i.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,L)+"px",this.controls.baselineHandle.style.display="block"}this.endClip()}return{colors:n}},le[jt].prototype[Bt]=function(t,e){ne.k9w=function(t){if(ne)return ne.n7k(t)},ne.n9w=function(t){if(ne)return ne.n7k(t)},ne.a9w=function(t){if(ne)return ne.l7k(t)},ne.r8k=function(t){if(ne&&t)return ne.n7k(t)},ne.E8k=function(t){if(ne)return ne.l7k(t)},ne.L8k=function(t){if(ne)return ne.l7k(t)},ne.k7k=function(t){if(ne)return ne.n7k(t)};var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C=ne.k7k("9824")?"magnetize":"",T=ne.K7k("59dc")?"ve":"",D=ne.v7k("126e")?"resizePanels":"",M=ne.L8k("468e")?"":"move",A=ne.E8k("5a52")?"":"magnetizedPrice",P=ne.F8k("819d")?"panelName":"",F=ne.r8k("756e")?"":"drawingLine",_="repositioningDrawing",E=ne.e9k("2ecd")?"Drawing":"",N=ne.Q9k("dd2f")?.5:370,L=ne.O9k("df9f")?"":"pixelFromTick",I=ne.s9k("6247")?"style":"",O=ne.w8w("9876")?"":"controls",R="findHighlights",z=ne.a9w("6a44")?"":"measure",W=ne.n9w("754d")?"context":"",V=ne.k9w("d1ac")?"":"activeDrawing",H="updateChartAccessories",B="whitespace",j="micropixels",U="grabStartMicropixels",Y="yToleranceBroken",G="dispatch",q="grabStartZoom",K="maxTicks",X="grabStartYAxis",Z="grabMode",Q="layout",J="grabStartScrollY",$="grabStartY",tt="scroll",et="grabStartScrollX",it="grabStartX",at="vectorType",rt="currentVectorParameters",nt="magnet",st="tempCanvas",ot="anyHighlighted",lt="repositioningBaseline",ht="resizingPanel",ct="undisplayCrosshairs",ut="grabbingScreen",pt="overYAxis",dt="overXAxis",gt="insideChart",ft="toString",mt="length",yt="horizontalCrosshairField",vt="preferences",bt="adjustIfNecessary",St="valueFromPixel",xt="crosshairTick",kt="dataSet",wt="currentPanel",Ct="clearCanvas",Tt="backOutY",Dt="crossYActualPos",Mt="crosshairY",At="crosshairX",Pt="bottom",Ft="container",_t="devicePixelRatio",Et="height",Nt="canvas",Lt="chart";if(this[Lt][Nt])if(le.isAndroid||le.isIOS7or8||this[Lt][Nt][Et]==Math.floor(this[_t]*this[Lt][Ft].clientHeight)&&this[Lt][Nt].width==Math.floor(this[_t]*this[Lt][Ft].clientWidth)){if(!this.runPrepend(Bt,arguments)&&(a=arguments,r=this[Ft].getBoundingClientRect(),this.top=r.top,this.left=r.left,this.right=this.left+this.width,this[Pt]=this.top+this[Et],this.cancelLongHold=!0,this.hasDragged=!0,le[jt][At]=t,le[jt][Mt]=e,n=this.cy=this[Dt]=this[Tt](le[jt][Mt]),s=this.cx=this.backOutX(le[jt][At]),o=function(t,e){if(0===le[he])return t.whichPanel(e)||t[Lt].panel;t.draw[he]||(t.draw=function(){le[Ct](this[Lt][Nt],this)},t.draw[he]=!0)},this[wt]=o(this,n),this[wt])){if((l=this[wt][Lt])[kt]&&(this[xt]=this.tickFromPixel(s,l),i=this[St](n,this[wt]),this.crosshairValue=this[bt](this[wt],this[xt],i),(h=this[wt].name==Lt?this[vt][yt]:this[wt][yt])&&this[xt]<l[kt][mt]&&-1<this[xt])){c=2;for(var It=1;-916668557!==ne.y5K(It[ft](),It[ft]()[mt],12421);It++)i=l[kt][this[xt]][h],c+=2;-974799171!==ne.D5K(c[ft](),c[ft]()[mt],56839)&&(i=l[kt][this[xt]][h]),this[Dt]=this.pixelFromPrice(i,this[wt])}if(le[jt][At]>=this.left&&le[jt][At]<=this.right&&le[jt][Mt]>=this.top&&le[jt][Mt]<=this[Pt]?le[jt][gt]=!0:le[jt][gt]=!1,u=!0===this.xAxisAsFooter?this[Lt].canvasHeight:this[Lt].panel[Pt],this[dt]=le[jt][gt]&&le[jt][Mt]<=u+this.top&&le[jt][Mt]>u-this.xaxisHeight+this.top,this[pt]=(this.cx>=this[wt].right||this.cx<=this[wt].left)&&le[jt][gt],this[dt]||this[pt]||!le[jt][gt]&&!this[ut]){p=2;for(var Ot=1;2102094820!==ne.y5K(Ot[ft](),Ot[ft]()[mt],49275);Ot++)this[ct](),p+=2;if(-1892685308!==ne.y5K(p[ft](),p[ft]()[mt],93329)&&this[ct](),!this[dt]&&!this[pt])return}if(this.displayCrosshairs||le[jt][ht]){if(this[lt])return k=this.panels[this[Lt].panel.name],this[Lt].baseline.userLevel=this[bt](k,this[xt],this[St](this[Tt](le[jt][Mt]),k)),100<Date.now()-this[lt].lastDraw&&(this.draw(),this[lt].lastDraw=Date.now()),Ht(this);if(!this[ut]||le[jt][ht])return this[Z]="",this[dt]||this[pt]?(this[H](),this[R](!1,!0)):(this[O].crossX&&(this[O].crossX[I].left=this[L](this[xt],l)-N+"px"),this[O].crossY&&(this[O].crossY[I].top=this[Dt]+"px"),this.setCrosshairColors(),le[jt][gt]&&!le[jt][ht]?(x=this[rt][at],le[E]&&x&&le[E][x]&&(new le[E][x]).dragToDraw||this.doDisplayCrosshairs(),this[H]()):this[ct](),this[_]?this.repositionDrawing(this[_]):le[jt][F]?this[V]&&(k=this.panels[this[V][P]],i=this[bt](k,this[xt],this[St](this[Tt](le[jt][Mt]),k)),this[vt][nt]&&this[A]&&k.name==k[Lt].name&&(i=this[bt](k,this[xt],this[A])),le[Ct](this[Lt][st],this),this[V][M](this[Lt][st][W],this[xt],i),this[V][z]&&this[V][z]()):le[jt][ht]&&this[D](),le[jt][gt]&&(w="mo",w+=T,this[G](w,{stx:this,panel:this[wt],x:this.cx,y:this.cy,grab:!1}),this[R]()),this[vt][nt]&&this[rt][at]&&(le[jt][F]||this[ot]||le[Ct](this[Lt][st]),this[C]())),Ht(this);if(this[ot]){for(d in le[Ct](this[Lt][st],this),this[ot]=!1,this.overlays)this.overlays[d].highlight=!1;for(d in l.series)l.series[d].highlight=!1;this.displaySticky()}if(this[vt][nt]&&this[rt][at]&&le[Ct](this[Lt][st],this),-1==this[it]&&(this[it]=le[jt][At],this[et]=l[tt]),-1==this[$]&&(this[$]=le[jt][Mt],this[J]=this[wt].yAxis[tt]),g=le[jt][At]-this[it],f=le[jt][Mt]-this[$],0===g&&0===f)return;if(5<Math.abs(g)+Math.abs(f)&&(this.grabOverrideClick=!0),y=this[Q].candleWidth,this.allowZoom&&"pan"!=this[Z]&&(0===this[Z].indexOf("zoom")||this[dt]||this[X])){if(""===this[Z]&&(this[dt]?this[Z]="zoom-x":this[X]&&(this[Z]="zoom-y")),"zoom-x"==this[Z]?f=0:"zoom-y"==this[Z]&&(g=0),g&&(this[it]=le[jt][At],v=y-g/this[Lt][K],this.zoomSet(v,this[Lt])),this[Q].setSpan&&(this[Q].setSpan=null,this.changeOccurred(Q)),m=this[X])if(m.flipped&&(f*=-1),m.zoom=Math.round(this[q]+f),this[q]<m[Et])m.zoom>=m[Et]&&(m.zoom=m[Et]-1);else{ne.f1x(27),b=ne.b1x("2",0);for(var Rt=1;1216007130!==ne.D5K(Rt[ft](),Rt[ft]()[mt],58820);Rt++){if(m.zoom<=m[Et]){ne.f1x(1);var zt=ne.e1x(12,11);m.zoom=m[Et]+zt}b+=2}if(-337070246!==ne.y5K(b[ft](),b[ft]()[mt],73759)&&m.zoom>m[Et]){ne.z1x(34);var Wt=ne.b1x(11,6,268,18);m.zoom=m[Et]%Wt}}}else if(this[G]("move",{stx:this,panel:this[wt],x:this.cx,y:this.cy,grab:!0}),this.allowScroll){if(Math.abs(f)<this.yTolerance){if(!this[Y]&&(ne.z1x(1),f=ne.b1x("0",0),0===g))return}else this[Y]=!0;this[U]||(this[U]=0),this[Z]="pan",l[tt]=this[et],ne.f1x(35);var Vt=ne.b1x(35,14,108,19,50);for(this[j]=this[U]+g*(this.shift?Vt:1);0<this[j];)this[j]-=y,l[tt]++;for(;this[j]<-y;)this[j]+=y,l[tt]--;l[tt]>=l[K]?this[vt][B]=this.initialWhitespace:this[vt][B]=(l[K]-l[tt])*y,this[wt]==this.grabStartPanel&&((m=this[wt].yAxis).flipped&&(f*=-1),m[tt]=this[J]+f),this[G](tt,{stx:this,panel:this[wt],x:this.cx,y:this.cy})}return S=function(t){return function(){t.draw(),t[H]()}},le[jt].useAnimation?window.requestAnimationFrame(S(this)):(this.draw(),this[H]()),this[V]&&(le[Ct](this[Lt][st],this),this[V].render(this[Lt][st][W]),this[V][z]()),void this[ct]()}this[ct]()}}else this.resizeChart();function Ht(t){t.runAppend(Bt,a)}},le.ChartEngine.prototype.plotLine=function(t,e,i,a,r,n,s,o,l){var h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P;if(l||(l={}),"none"!=l.pattern&&(!0===o&&(o=this.chart.panel),null==s&&(s=this.chart.context),!(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(a)))){if(h=0,c=this.chart.canvasHeight,u=0,p=this.right,o){c=o.yAxis.bottom,h=o.yAxis.top,d=2;for(var F=1;-159800980!==ne.y5K(F.toString(),F.toString().length,26312);F++)u=o.left,p=o.right,d+=2;-840961703!==ne.D5K(d.toString(),d.toString().length,47679)&&(u=o.left,p=o.right)}"ray"==n&&(g=1e7,e<t&&(g=-1e7),m={x0:t,x1:e,y0:i,y1:a},e=g,a=f=le.yIntersection(m,g)),"line"!=n&&"horizontal"!=n&&"vertical"!=n||(g=1e7,m={x0:t,x1:e,y0:i,y1:a},f=le.yIntersection(m,g),t=-1e7,e=g,i=le.yIntersection(m,-1e7),a=f),y=0,v=1,ne.z1x(1),b=ne.e1x(e,t),ne.z1x(1),S=ne.e1x(a,i);for(var _=0;_<4;_++){if(0===_&&(x=-b,ne.z1x(1),k=-ne.b1x(u,t)),1==_&&(x=b,ne.f1x(1),k=ne.e1x(p,t)),2==_&&(x=-S,ne.z1x(1),k=-ne.b1x(h,i)),3==_&&(x=S,ne.z1x(1),k=ne.e1x(c,i)),ne.z1x(2),w=ne.b1x(k,x),(a||0===a)&&0===x&&k<0)return!1;if(x<0){if(v<w)return!1;y<w&&(y=w)}else if(0<x){if(w<y)return!1;w<v&&(v=w)}}if(ne.f1x(18),C=ne.e1x(b,t,y),ne.z1x(18),T=ne.b1x(S,i,y),ne.z1x(18),D=ne.b1x(b,t,v),ne.z1x(18),M=ne.b1x(S,i,v),a||0===a||i||0===i){if(!a&&0!==a){if(M=m.y0<m.y1?c:h,C=m.x0,D=m.x0,m.x0>p)return!1;if(m.x0<u)return!1}}else{if(T=h,M=c,C=m.x0,D=m.x0,m.x0>p)return!1;if(m.x0<u)return!1}if(s.lineWidth=1.1,r&&"object"==typeof r){s.strokeStyle=r.color,A=2;for(var E=1;-1810711448!==ne.D5K(E.toString(),E.toString().length,92011);E++)r.opacity?s.globalAlpha=r.opacity:s.globalAlpha=6,A+=2;1073423100!==ne.D5K(A.toString(),A.toString().length,18492)&&(r.opacity?s.globalAlpha=r.opacity:s.globalAlpha=3),r.opacity?s.globalAlpha=r.opacity:s.globalAlpha=1,s.lineWidth=parseInt(le.stripPX(r.width),10)}else!r||"auto"==r||le.isTransparent(r)?s.strokeStyle=this.defaultColor:s.strokeStyle=r;l.opacity&&(s.globalAlpha=l.opacity),l.lineWidth&&(s.lineWidth=l.lineWidth),"zig zag"==n&&(s.lineWidth=5),P=le.borderPatternToArray(s.lineWidth,l.pattern),s.save(),l.pattern&&s.setLineDash(P),s.stxLine(C,T,D,M,s.strokeStyle,s.globalAlpha,s.lineWidth,P),s.restore(),s.globalAlpha=1,s.lineWidth=1}},le.ChartEngine.prototype.rendererAction=function(t,e){var i,a,r,n;if(!this.runPrepend("rendererAction",arguments)){for(var s in t.seriesRenderers)r=(a=(i=t.seriesRenderers[s]).params).panel,n=this.panels[r],a.overChart&&"underlay"==e||"_main_series"==a.name&&"underlay"==e||"_main_series"!=a.name&&"main"==e||(a.overChart||"overlay"!=e)&&n&&n.chart===t&&(n.hidden||("yAxis"==e?i.adjustYAxis():(i.draw(),i.cb&&i.cb(i.colors))));this.runAppend("rendererAction",arguments)}},le.ChartEngine.prototype.drawSeries=function(t,e,i,a){var r,n,s,o,l,h,c,u,p,d,g,f,m,y;if(!this.runPrepend("drawSeries",arguments)){for(var v in t.dataSegment,r=null,e||(e=t.series),e)if(s=(n=(r=e[v]).parameters).panel?this.panels[n.panel]:t.panel,o=n.color,n.width,l=n.field,s){h=n.yAxis=i||s.yAxis,o||(o=h.textStyle||this.defaultColor),l||(l=t.defaultPlotField),c=n.subField||t.defaultPlotField||"Close",n._rawExtendToEndOfDataSet||!1===n._rawExtendToEndOfDataSet||(n._rawExtendToEndOfDataSet=n.extendToEndOfDataSet),t.animatingHorizontalScroll?n.extendToEndOfDataSet=!1:(n.extendToEndOfDataSet=n._rawExtendToEndOfDataSet,n.extendToEndOfDataSet||!1===n.extendToEndOfDataSet||(n.extendToEndOfDataSet=!1)),u=n.colorFunction,(r.highlight||r.parameters.highlight)&&(n.highlight=!0),p={colors:[]},p=a?a.drawIndividualSeries(t,n)||p:"mountain"==n.type?this.drawMountainChart(s,le.extend({returnObject:!0},n),u):this.drawLineChart(s,n.style,u,le.extend({returnObject:!0},n)),r.yValueCache=p.cache,ne.f1x(32);var b=ne.b1x(19,4,14);(d=t.dataSegment[t.dataSegment.length-b])&&(g=!n.skipTransform&&t.transformFunc&&h==t.panel.yAxis,d[l]||0===d[l]||(d=this.getPreviousBar(t,l,t.dataSegment.length-1)),g&&d&&d.transform&&(d=d.transform)),!1===n.displayFloatingLabel||this.mainSeriesRenderer==a||!n.shareYAxis&&h.name==s.yAxis.name||!d||h.noDraw||((f=d[l])&&(f=f[c]||0===f[c]?f[c]:f.iqPrevClose),m=h.priceFormatter?h.priceFormatter(this,s,f):this.formatYAxisPrice(f,s,null,h),this.yAxisLabels.push({src:"series",args:[s,m,this.pixelFromTransformedValue(f,s,h),o,null,null,h]})),t.legend&&n.useChartLegend&&(t.legend.colorMap||(t.legend.colorMap={}),(y=n.display)||(y=n.symbol),t.legend.colorMap[v]={color:p.colors,display:y,isBase:a==this.mainSeriesRenderer})}this.runAppend("drawSeries",arguments)}},le.ChartEngine.prototype.consolidatedQuote=function(t,e){var s,i,o,a,r,n,l,h,c,u,p,d,g,f,m,y,v,b;function S(t,e,i){var a,r;for(var n in e||(e={DT:i,Date:le.yyyymmddhhmmssmmm(i)}),e.displayDate||o.setDisplayDate(e),a=1,s.adj&&t.Adj_Close&&(a=t.Adj_Close/t.Close),"High"in t&&t.High*a>e.High&&(e.High=t.High*a),"Low"in t&&t.Low*a<e.Low&&null!==t.Low&&(e.Low=t.Low*a),e.Volume+=t.Volume,"Close"in t&&null!==t.Close&&(e.Close=t.Close*a),"Adj_Close"in t&&(e.Adj_Close=t.Adj_Close),e.ratio=a,t)r="B",r+="id",r+="L2",t[n]&&void 0!==t[n].Close?e[n]=S(t[n],e[n],i):e[n]?-1<["Bid",r,"Ask","AskL2"].indexOf(n)&&(e[n]=t[n]):e[n]=t[n];return e}if(this.runPrepend("consolidatedQuote",arguments))return t;if(!t||!t.length)return[];for(s=this.layout,i=this.chart,o=this,a=s.periodicity,r=s.interval,n=s.timeUnit,e||(e={}),e.periodicity&&e.interval&&(a=e.periodicity,r=e.interval,n=e.timeUnit),l=1,!(h=le.ChartEngine.isDailyInterval(r))&&i.useInflectionPointForIntraday&&(l=a),(!(c=i.inflectionPoint)||c<t[0].DT)&&(c=new Date(+t[0].DT),h||i.market.market_def||c.setHours(0,-c.getTimezoneOffset(),0,0)),u=[],p={begin:c,interval:r,multiple:a/l,timeUnit:n},d=i.market.newIterator(le.clone(p));d.previous(l)>t[0].DT;);for(g=d.previous(l),f=d.next(l),m=0,ne.z1x(1),y=ne.e1x("0",0);m<t.length;)(v=t[m]).DT<g?(console.log("Warning: out-of-order quote in dataSet, disregarding: "+v.DT),m++):v.DT>=f?(g=f,f=d.next(l),u[y]&&y++):((b=S(v,u[y],g))&&(u[y]=b),m++);return this.runAppend("consolidatedQuote",arguments),u},le.ChartEngine.prototype.touchmove=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E,N,L,I,O,R;if(this.displayInitialized&&""===this.openDialog&&!0!==le.ChartEngine.ignoreTouch){if(e=[],(!this.overYAxis||this.controls&&this.controls.crossX&&"none"!=this.controls.crossX.style.display)&&(t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),t&&t.stopPropagation()),i=(new Date).getTime(),-1==this.clicks.s2MS){if(this.clicks.e1MS=i,this.clicks.e1MS-this.clicks.s1MS<25)return}else if(this.clicks.e2MS=i,this.clicks.e2MS-this.clicks.s2MS<25)return;if(t.pointerType||(t.pointerType=this.touchPointerType),le.isSurface){if(this.mouseMode)return;t.pointerId||(t.pointerId=this.gesturePointerId);for(var z=0;z<this.touches.length;z++)if(this.touches[z].pointerId==t.pointerId){if(a=Math.abs(this.touches[z].pageX-t.clientX),r=Math.abs(this.touches[z].pageY-t.clientY),ne.f1x(36),!Math.sqrt(ne.b1x(a,r,r,a)))return;if(this.clicks.e1MS=(new Date).getTime(),this.clicks.e1MS-this.clicks.s1MS<50)return;if(this.touches[z].pageX==t.clientX&&this.touches[z].pageY==t.clientY)return;this.touches[z].pageX=this.touches[z].clientX=t.clientX,this.touches[z].pageY=this.touches[z].clientY=t.clientY;break}if(0===z?this.movedPrimary=!0:this.movedSecondary=!0,z==this.touches.length)return;this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY}],e=this.touches.length?this.touches:this.changedTouches}else e=t.touches,this.changedTouches=t.changedTouches;if(!(1==e.length&&Math.pow(this.clicks.x-e[0].clientX,2)+Math.pow(this.clicks.y-e[0].clientY,2)<=16||(n=this.crosshairXOffset,s=this.crosshairYOffset,o=this.currentVectorParameters.vectorType&&""!==this.currentVectorParameters.vectorType,l=!this.layout.crosshair&&!o&&!this.touchNoPan,("pen"==t.pointerType||l||this.activeDrawing&&"freeform"==this.activeDrawing.name)&&(ne.f1x(6),n=s=ne.e1x("0",1)),this.runPrepend("touchmove",arguments)))){if(le.ChartEngine.resizingPanel)return h=(u=e[0]).clientX,c=u.clientY,ne.f1x(0),void this.mousemoveinner(ne.b1x(n,h),ne.e1x(s,c));if(-1!=this.moveB){ne.f1x(1),p=ne.e1x("1780258519",0),d=2;for(var W=1;-1196990164!==ne.y5K(W.toString(),W.toString().length,90219);W++)this.touchMoveTime=new Date,d+=2;ne.y5K(d.toString(),d.toString().length,32096)!==p&&(this.touchMoveTime=new Date)}if(this.moveA=this.moveB,this.moveB=e[0].pageX,1!=e.length||this.twoFingerStart){if(2==e.length&&this.allowZoom){if(!this.displayCrosshairs)return;if(b=(v=e[0]).clientX,S=v.clientY,k=(x=e[1]).clientX,w=x.clientY,ne.f1x(37),g=Math.sqrt(ne.b1x(b,k,S,k,w,w,b,S)),this.pinchingCenter=(Math.min(b,k)-Math.max(b,k))/2,C=Math.round(this.gestureStartDistance-g),l&&(this.pinchingScreen=5),this.clearPixelCache(),this.pinchingScreen<2){if(le.isSurface&&(!this.movedPrimary||!this.movedSecondary))return;if(b<this.pt.x1&&k<this.pt.x2||b>this.pt.x1&&k>this.pt.x2||S<this.pt.y1&&w<this.pt.y2||S>this.pt.y1&&w>this.pt.y2)this.pinchingScreen=0;else if(this.pinchingScreen++,this.pinchingScreen<2)return}if(this.pt={x1:b,x2:k,y1:S,y2:w},0===this.pinchingScreen)ne.z1x(0),this.mousemoveinner(ne.e1x(n,b),ne.b1x(s,S)),this.gestureStartDistance=g;else{if(T=Math.asin((Math.max(w,S)-Math.min(w,S))/g),Math.abs(C)<12&&!l){if(this.moveCount++,4==this.moveCount)return this.pinchingScreen=0,void(this.moveCount=0)}else this.moveCount=0;if(T<1||!this.goneVertical&&T<1.37){if(!this.currentPanel)return;if(D=this.currentPanel.chart,this.goneVertical=!1,g=this.pt.x2-this.pt.x1,M=this.grabStartValues.t2-this.grabStartValues.t1,A=this.grabStartValues.t1+M/2,ne.z1x(2),(P=ne.b1x(g,M))<this.minimumCandleWidth&&(P=this.minimumCandleWidth),!1===D.allowScrollFuture&&!1===D.allowScrollPast&&(P=Math.max(P,D.width/D.dataSet.length)),F=this.layout.candleWidth,this.setCandleWidth(P,D),D.maxTicks<this.minimumZoomTicks)return void this.setCandleWidth(F,D);this.micropixels=0,_=this.pixelFromTick(Math.round(A),D),ne.z1x(38);var V=ne.b1x(2400,32,15,10);E=this.pt.x1-this.left+Math.round(g/V),ne.f1x(1),N=ne.b1x(_,E),ne.z1x(2),L=ne.e1x(N,P),I=Math.round(L),D.scroll-=I,ne.f1x(1),this.microscroll=ne.e1x(I,L),this.micropixels=P*this.microscroll,this.draw()}else if(O=this.grabStartYAxis,this.goneVertical=!0,O){if(O.zoom=this.grabStartZoom+(this.gestureStartDistance-g),this.grabStartZoom<O.height){if(O.zoom>=O.height){ne.z1x(39);var H=ne.e1x(1,17,3,17,14,17);O.zoom=O.height-H}}else if(O.zoom<=O.height){ne.z1x(40);var B=ne.e1x(23,13,1,12,2);O.zoom=O.height+B}this.draw()}this.updateChartAccessories()}}else if(3==e.length&&le.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs)return;R=e[0].clientX,g=this.grabStartX-R,ne.z1x(41);var j=ne.b1x(20,5,6,7);this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(g/j),this.grabEndPeriodicity<1&&(this.grabEndPeriodicity=1)}}else h=(f=e[0]).clientX,c=f.clientY,ne.z1x(27),this.pinchingScreen=ne.b1x("0",0),ne.z1x(0),this.mousemoveinner(ne.b1x(n,h),ne.b1x(s,c)),m=this.whichPanel(c),y=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=c<=this.top+y&&c>=y-this.xaxisHeight+this.top&&le.ChartEngine.insideChart,this.overYAxis=!!m&&(h>=m.right||h<=m.left)&&le.ChartEngine.insideChart;this.runAppend("touchmove",arguments)}}},le.ChartEngine.prototype.touchstart=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w,C,T,D,M,A,P,F,_,E;if(!le.ChartEngine.ignoreTouch&&(le.isSurface?(this.movedPrimary=!1,this.movedSecondary=!1):(this.touchingEvent&&clearTimeout(this.touchingEvent),this.touching=!0,this.touches=t.touches,this.changedTouches=t.changedTouches),!le.ChartEngine.resizingPanel&&(e=this.crosshairXOffset,i=this.crosshairYOffset,"pen"==this.touchPointerType&&(e=i=0),!this.runPrepend("touchstart",arguments)))){if(this.manageTouchAndMouse&&t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),this.hasDragged=!1,this.doubleFingerMoves=0,ne.f1x(1),this.moveCount=ne.e1x("0",0),this.twoFingerStart=!1,1==this.touches.length||2==this.touches.length){if(1==this.changedTouches.length&&(h=!1,(l=Date.now())-this.clicks.e1MS<250&&(this.cancelTouchSingleClick=!0,this.clicks.s2MS=l,h=Math.pow(this.clicks.x-this.changedTouches[0].pageX,2)+Math.pow(this.clicks.y-this.changedTouches[0].pageY,2)<=400),h||(this.cancelTouchSingleClick=!1,this.clicks.s1MS=l,this.clicks.e1MS=-1,this.clicks.s2MS=-1,this.clicks.e2MS=-1),this.clicks.x=this.changedTouches[0].pageX,this.clicks.y=this.changedTouches[0].pageY),this.touchMoveTime=Date.now(),this.moveA=this.touches[0].clientX,this.moveB=-1,n=(c=this.touches[0]).clientX,s=c.clientY,u=this.container.getBoundingClientRect(),this.top=u.top,this.left=u.left,this.right=this.left+this.width,this.bottom=this.top+this.height,1==this.touches.length){p=this.cy=this.backOutY(s),d=2;for(var N=1;1201758626!==ne.D5K(N.toString(),N.toString().length,40815);N++)this.currentPanel=this.whichPanel(p),d+=2;-87638228!==ne.D5K(d.toString(),d.toString().length,33862)&&(this.currentPanel=this.whichPanel(p)),this.currentPanel=this.whichPanel(p)}this.currentPanel||(this.currentPanel=this.chart.panel),ne.z1x(1),g=ne.b1x("582818050",0),f=2;for(var L=1;ne.y5K(L.toString(),L.toString().length,64316)!==g;L++)o=this.currentPanel,f+=2;if(-120108465!==ne.y5K(f.toString(),f.toString().length,25592)&&(o=this.currentPanel),n>=this.left&&n<=this.right&&s>=this.top&&s<=this.bottom){m=(le.ChartEngine.insideChart=!0)===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=s<=this.top+m&&s>=this.top+m-this.xaxisHeight,this.overYAxis=n>=this.left+o.right||n<=this.left+o.left,y=-1;for(var I=0;I<this.drawingObjects.length;I++)if((v=this.drawingObjects[I]).highlighted){if(y<0&&(y=I),b=v.highlighted,this.cy=this.backOutY(s),this.cx=this.backOutX(n),this.crosshairTick=this.tickFromPixel(this.cx,o.chart),this.crosshairValue=this.adjustIfNecessary(o,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel)),this.findHighlights(!0),I==y&&v.highlighted&&!v.permanent)return void(-1==this.clicks.s2MS?this.activateRepositioning(v):this.findHighlights(!1,!0));this.anyHighlighted=!0,v.highlighted=b}}else{S=2;for(var O=1;-811872548!==ne.D5K(O.toString(),O.toString().length,45614);O++)le.ChartEngine.insideChart=!0,ne.z1x(6),S+=ne.b1x("2",1);-798922769!==ne.D5K(S.toString(),S.toString().length,81904)&&(le.ChartEngine.insideChart=!0),le.ChartEngine.insideChart=!1}if(x=this.currentVectorParameters.vectorType&&""!==this.currentVectorParameters.vectorType,this.layout.crosshair||x||!le.ChartEngine.insideChart||this.touchNoPan){if(this.grabbingScreen=!1,le.ChartEngine.insideChart&&(D=this.currentVectorParameters.vectorType,le.Drawing&&D&&le.Drawing[D]&&(new le.Drawing[D]).dragToDraw)){this.userPointerDown=!0,le.ChartEngine.crosshairX=n,le.ChartEngine.crosshairY=s,o&&o.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.backOutX(le.ChartEngine.crosshairX),this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(o,this.crosshairTick,this.valueFromPixel(this.backOutY(le.ChartEngine.crosshairY),this.currentPanel))),this.drawingClick(o,this.backOutX(n),this.backOutY(s)),ne.f1x(6),M=ne.b1x("2",1);for(var R=1;-777959183!==ne.y5K(R.toString(),R.toString().length,25992);R++)this.headsUpHR(),M+=2;return void(-1778503775!==ne.D5K(M.toString(),M.toString().length,28086)&&this.headsUpHR())}}else{if(e=i=0,(k=this.mainSeriesRenderer||{}).params&&k.params.baseline&&!1!==this.chart.baseline.userLevel&&this.controls.baselineHandle&&(w=this.valueFromPixel(this.cy-5,o),C=this.valueFromPixel(this.cy+5,o),T=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10),this.chart.baseline.actualLevel<Math.max(w,C)&&this.chart.baseline.actualLevel>Math.min(w,C)&&this.backOutX(c.clientX)>T))return this.repositioningBaseline={lastDraw:Date.now()},void le.appendClassName(this.controls.baselineHandle,"stx-grab");for(a in this.panels)if((r=this.panels[a]).highlighted)return void this.grabHandle(r);this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),o.chart.spanLock=!1,this.yToleranceBroken=!1,ne.z1x(0),this.grabStartX=ne.e1x(e,n),ne.f1x(0),this.grabStartY=ne.e1x(i,s),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=o.chart.scroll,this.grabStartScrollY=o.yAxis.scroll,this.grabStartPanel=this.currentPanel,this.swipeStart(o.chart),this.grabStartYAxis=this.whichYAxis(o,this.backOutX(n)),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,setTimeout((W=this,function(){W.grabbingHand()}),100)}if(1===this.touches.length&&this.layout.crosshair){ne.z1x(1),A=ne.e1x("2",0);for(var z=1;-167735011!==ne.D5K(z.toString(),z.toString().length,2428);z++)ne.z1x(0),this.mousemoveinner(ne.e1x(e,n),ne.e1x(i,s)),A+=2;1543146134!==ne.y5K(A.toString(),A.toString().length,90394)&&(ne.f1x(6),this.mousemoveinner(ne.b1x(n,e),ne.e1x(s,i,ne.f1x(42))))}}var W,V;if(2==this.touches.length){if(this.cancelLongHold=!0,this.swipe.end=!0,!this.displayCrosshairs&&!this.touchNoPan||!le.ChartEngine.insideChart)return;for(a in F=(P=this.touches[1]).clientX,_=P.clientY,this.panels)if((r=this.panels[a]).highlighted)return void this.grabHandle(r);o=this.currentPanel,ne.f1x(37),this.gestureStartDistance=Math.sqrt(ne.e1x(n,F,s,F,_,_,n,s)),this.pt={x1:n,x2:F,y1:s,y2:_},this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),o.chart.spanLock=!1,ne.f1x(0),this.grabStartX=ne.b1x(e,n),ne.z1x(0),this.grabStartY=ne.e1x(i,s),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=o.chart.scroll,this.grabStartScrollY=o.yAxis.scroll,this.grabStartPanel=o,this.swipeStart(o.chart),this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(o,this.backOutX((n+F)/2))||o.yAxis,this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPt=this.pt,this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,o),y2:this.valueFromPixel(this.pt.y2-this.top,o),t1:this.tickFromPixel(this.pt.x1-this.left,o.chart),t2:this.tickFromPixel(this.pt.x2-this.left,o.chart)},this.twoFingerStart=!0,setTimeout((V=this,function(){V.grabbingHand()}),100)}else if(3==this.touches.length){if(!this.displayCrosshairs)return;E=this.touches[0].clientX,this.grabStartX=E,this.grabStartPeriodicity=this.layout.periodicity}1==this.touches.length&&(this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,this.longHoldTime&&this.startLongHoldTimer()),this.runAppend("touchstart",arguments)}},le.ChartEngine.prototype.swipeStart=function(t){var e;this.swipe&&this.swipe.interval&&clearInterval(this.swipe.interval),this.swipe.velocity=0,this.swipe.amplitude=0,this.swipe.frame=t.scroll,this.swipe.micropixels=this.micropixels,this.swipe.timestamp=Date.now(),this.swipe.chart=t,this.swipe.end=!1,this.swipe.timeConstant=325,this.swipe.cb=null,e=this,requestAnimationFrame(function(){e.swipeSample()})},le.ChartEngine.prototype.swipeSample=function(){var t,e,i,a,r,n,s,o;t=2;for(var l=1;-1140605256!==ne.D5K(l.toString(),l.toString().length,73165);l++)e=this.swipe,t+=2;-1031014082!==ne.D5K(t.toString(),t.toString().length,62490)&&(e=this.swipe),e.end||(i=this,(r=(a=Date.now())-e.timestamp)<20||(s=le.touchDevice?.4:.8,e.timestamp=a,n=(e.chart.scroll-e.frame)*this.layout.candleWidth+this.micropixels-e.micropixels,e.frame=e.chart.scroll,e.micropixels=this.micropixels,ne.f1x(43),o=s*ne.b1x(n,r,1,1e3)+.2*e.velocity,Math.abs(o)>Math.abs(e.velocity)&&(e.velocity=o),Math.abs(n)<6&&(e.velocity=0)),requestAnimationFrame(function(){i.swipeSample()}))},le.ChartEngine.prototype.swipeRelease=function(){var t,e;3e3<(t=this.swipe).velocity&&(t.velocity=3e3),t.velocity<-3e3&&(t.velocity=-3e3),(10<t.velocity||t.velocity<-10)&&(t.amplitude=.8*t.velocity,t.scroll=t.chart.scroll,t.target=t.amplitude,t.timestamp=Date.now(),(e=this).disableBackingStoreDuringTouch&&this.disableBackingStore(),requestAnimationFrame(function(){e.autoscroll()}))},le.ChartEngine.prototype.scrollTo=function(t,e,i){var a,r;(a=this.swipe).end=!0,a.amplitude=a.target=(e-t.scroll)*this.layout.candleWidth,ne.z1x(6),a.timeConstant=ne.e1x("100",1),a.timestamp=Date.now(),a.scroll=t.scroll,a.chart=t,a.cb=i,r=this,requestAnimationFrame(function(){r.autoscroll()})},le.ChartEngine.prototype.autoscroll=function(){var t,e,i,a;(e=(t=this).swipe).amplitude&&(e.elapsed=Date.now()-e.timestamp,.5<(i=-e.amplitude*Math.exp(-e.elapsed/e.timeConstant))||i<-.5?(a=(e.target+i)/this.layout.candleWidth,e.chart.scroll=e.scroll+Math.round(a),this.draw(),this.updateChartAccessories(),requestAnimationFrame(function(){t.autoscroll()})):(this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),e.cb&&e.cb()))},le.ChartEngine.prototype.touchend=function(t){var e,i,a,r,n,s,o,l,h,c;if(!le.ChartEngine.ignoreTouch){if(this.swipe.end=!0,le.isSurface);else{e=2;for(var u=1;-26710259!==ne.y5K(u.toString(),u.toString().length,63311);u++)this.touches=t.touches,this.changedTouches=t.changedTouches,e+=2;1307490822!==ne.D5K(e.toString(),e.toString().length,33325)&&(this.touches=t.touches,this.changedTouches=t.changedTouches)}if(!this.runPrepend("touchend",arguments)){if(this.cancelLongHold=!0,this.touches.length<=1&&(this.layout.crosshair||this.currentVectorParameters.vectorType)&&(this.touches.length&&this.twoFingerStart||(this.grabbingScreen=!1)),this.touches.length&&(this.grabStartX=-1,this.grabStartY=-1),i=this.pinchingScreen,this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),this.touches.length){if(le.ChartEngine.resizingPanel)return}else{if(this.touchingEvent=setTimeout((p=this,function(){var t;t=2;for(var e=1;-539529950!==ne.D5K(e.toString(),e.toString().length,42801);e++)p.touching=!1,t+=2;1544604004!==ne.D5K(t.toString(),t.toString().length,75475)&&(p.touching=!0)}),500),le.ChartEngine.resizingPanel)return void this.releaseHandle();this.pinchingScreen=null,this.pinchingCenter=null,this.goneVertical=!1,this.grabbingScreen=!1,this.grabMode="",this.doDisplayCrosshairs(),this.updateChartAccessories()}var p;a=2;for(var d=1;-112568844!==ne.y5K(d.toString(),d.toString().length,93471);d++)r=this.touches.length+1,a+=2;if(-2140955716!==ne.D5K(a.toString(),a.toString().length,16650)){ne.f1x(44);var g=ne.b1x(19,3,56,13);r=this.touches.length%g}if(1==this.changedTouches.length){if(this.repositioningDrawing)return this.changeOccurred("vector"),le.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.draw(),void(this.layout.crosshair||this.currentVectorParameters.vectorType||this.findHighlights(!1,!0));if(this.repositioningBaseline){this.repositioningBaseline=null,le.unappendClassName(this.controls.baselineHandle,"stx-grab"),(n=this.mainSeriesRenderer||{}).params&&n.params.baseline&&n.params.type,this.draw(),ne.f1x(27),s=-ne.e1x("1821776631",0);for(var f=1;742261519!==ne.y5K(f.toString(),f.toString().length,87361);f++)return;if(ne.y5K(2..toString(),2..toString().length,23555)!==s)return}if(o=Date.now(),-1==this.clicks.s2MS){if(this.clicks.e1MS=o,l=this.currentVectorParameters.vectorType,le.Drawing&&l&&le.Drawing[l]&&(new le.Drawing[l]).dragToDraw||(this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&(!this.hasDragged||this.layout.crosshair)?setTimeout(this.touchSingleClick(r,this.clicks.x,this.clicks.y),200):this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}),this.userPointerDown=!1,this.activeDrawing&&this.activeDrawing.dragToDraw)return h=this.backOutY(this.changedTouches[0].pageY)+this.crosshairYOffset,c=this.backOutX(this.changedTouches[0].pageX)+this.crosshairXOffset,void this.drawingClick(this.currentPanel,c,h)}else this.clicks.e2MS=o,this.clicks.e2MS-this.clicks.s2MS<250?this.touchDoubleClick(r,this.clicks.x,this.clicks.y):this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}}else this.displayCrosshairs&&(-1==this.grabEndPeriodicity||isNaN(this.grabEndPeriodicity)||((le.ChartEngine.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute)&&this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval}),this.grabEndPeriodicity=-1));this.changedTouches.length&&(!this.layout.crosshair&&!this.currentVectorParameters.vectorType&&1==r||this.twoFingerStart&&!i&&!this.touches.length)&&this.swipeRelease(),this.touches.length||(this.twoFingerStart=!1),this.runAppend("touchend",arguments)}}},le[oe].prototype[se]=function(t,e,i){ne.O6L=function(t){if(ne&&t)return ne.n7k(t)},ne.Q6L=function(t){if(ne&&t)return ne.n7k(t)},ne.E5L=function(t){if(ne&&t)return ne.l7k(t)},ne.n4L=function(t){if(ne&&t)return ne.l7k(t)};var a,r,n,s,w,o,l,h,c,u,p,d,g,f,C,m,y,v,b,S,x,k,T,D,M,A,P,F,_,E,N,L,I,O,R,z,W,V,H,B,j,U,Y,G,q=ne.Q3L("1a95")?"establishMarkerTicks":"",K=ne.O3L("a8a5")?"adjustDrawings":"",X=ne.s3L("bf4e")?"":"calculateFN",Z=ne.a4L("342e")?"study":"",Q=ne.n4L("337a")?"error":"",J=ne.k4L("62cb")?"panel":"",$=ne.K4L("47c3")?"":"panels",tt=ne.v4L("1838")?"":"function",et=ne.L5L("6626")?"":"calculateWeightedClose",it=ne.E5L("8d94")?"":"calculateTypicalPrice",at=ne.F5L("57b7")?"":"calculations",rt=ne.r5L("5e87")?"":"startFrom",nt="studies",st=ne.e6L("1eb5")?"scrubbed":"",ot="transformDataSetPost",lt=ne.Q6L("e5bd")?"grabStartScrollX":"",ht=ne.O6L("2dab")?"":"calculateRenkoBars",ct="aggregation",ut="state",pt="defaultChartStyleConfig",dt="aggregationType",gt="spanLock",ft="scroll",mt="iqPrevClose",yt="0",vt="toFixed",bt="Close",St="Adj_Close",xt="ratio",kt="marketSessions",wt="market",Ct="extendedHours",Tt="interval",Dt="layout",Mt="activeDrawing",At="projection",Pt="drawingObjects",Ft="maxTicks",_t="round",Et="transformDataSetPre",Nt="concat",Lt="f1x",It="DT",Ot="masterData",Rt="dataSet",zt="charts",Wt="1",Vt="e1x",Ht="z1x",Bt="o",jt="",Ut="y5K",Yt="runPrepend",Gt="length",qt="toString",Kt="appendToDate",Xt=1,Zt=0;i||(i={}),a=[t,e,{appending:i.appending,appendToDate:i[Kt]}],r=2;for(var Qt=Xt;-2109958892!==ne.D5K(Qt[qt](),Qt[qt]()[Gt],26648);Qt++){if(this[Yt]("createDataSet",a))return;r+=2}if(1836678819===ne[Ut](r[qt](),r[qt]()[Gt],43375)||!this[Yt](jt,a)){for(n in o=[],l=[],h=i.appending,this[zt])if(c="m",c+=Bt,c+="nth",!e||e.name==n){if((s=this[zt][n])[Rt]||(s[Rt]=[]),u=s[Rt][Gt],h&&(o=s[Rt]),s.currentQuote=null,s[Rt]=[],h||(s.tickCache={}),(p=s[Ot])||(p=this[Ot]),!p||!p[Gt])return void this.runAppend(se,a);if(o[Gt]){for(d=o.pop(),(!(g=i[Kt])||g>d[It])&&(g=d[It]);o[Gt]&&!(o[o[Gt]-Xt][It]<g);)o.pop();ne[Lt](Xt);var Jt=ne[Vt](16,15);for(f=p[Gt]-Wt*Jt;Zt<=f&&p[f][It]>=g;)f--;ne[Lt](Zt),w=p.slice(ne[Vt](Xt,f))}else w=[][Nt](p);if(!ae())return;if(this[Et]&&this[Et](this,w),C=Math[_t](.75*s[Ft]),!this.chart.hideDrawings){for(m=Zt;m<this[Pt][Gt];m++)this[Pt][m].name==At&&re(this,this[Pt][m]);this[Mt]&&this[Mt].name==At&&re(this,this[Mt])}for(m=Zt,y=-Number.MAX_VALUE,v=Number.MAX_VALUE,S=Zt,x=t||this.dontRoll,k=this[Dt],T=le[oe].isDailyInterval(k[Tt]);Xt&&!(S>=w[Gt]);)if((!this.dontRoll||"week"!=k[Tt]&&"month"!=k[Tt])&&this[Ct]&&this[Ct].filter&&s[wt].market_def&&(A=w[S],T?M=!s[wt].isMarketDate(A[It]):(!D||D<=A[It])&&(M=!((P=s[wt].getSession(A[It]))===jt||k[kt]&&k[kt][P]),D=s[wt][M?"getNextOpen":"getNextClose"](A[It])),M))S++;else{for(var $t in b={},w[S])b[$t]=w[S][$t];(w[S]=b)[xt]=+Wt,k.adj&&b[St]&&(b[xt]=b[St]/b[bt]),b[xt]!=Xt&&(b.Open&&(b.Open=Number((b.Open*b[xt])[vt]("8"|Zt))),b[bt]&&(b[bt]=Number((b[bt]*b[xt])[vt](8))),b.High&&(b.High=Number((b.High*b[xt])[vt](8))),b.Low&&(b.Low=Number((b.Low*b[xt])[vt](8)))),l[m++]=w[S++]}for((k.periodicity>Xt||!x&&("week"==k[Tt]||k[Tt]==c))&&(o[Gt]&&l.unshift(o.pop()),l=this.consolidatedQuote(l)),F={},m=+yt;m<l[Gt];m++)for(var te in b=l[m],Zt<m?(b[mt]=l[m-Xt][bt],b[mt]||b[mt]===Zt||(b[mt]=l[m-Wt*Xt][mt])):o[Gt]?(b[mt]=o[o[Gt]-Xt][bt],b[mt]||b[mt]===Zt||(b[mt]=o[o[Gt]-Xt][mt])):b[mt]=b[bt],"High"in b&&b.High>y&&(y=b.High),"Low"in b&&b.Low<v&&(v=b.Low),s.series)if(_=Bt,_+="bje",_+="ct",(N=b[E=s.series[te].parameters.symbol])&&typeof N==_){if(Zt<m)N[mt]=F[te];else if(o[Gt]){for(var ee=o[Gt]-Xt;yt*Xt<=ee;ee--)if((L=o[ee][E])&&(L[bt]||L[bt]===Zt)){N[mt]=L[bt];break}}else N[mt]=N[bt];(N[bt]||N[bt]===Zt)&&(F[te]=N[bt]),N[xt]=Xt,k.adj&&N[St]&&(N[xt]=N[St]/N[bt]),N[xt]!=Xt&&(N.Open&&(N.Open=Number((N.Open*N[xt])[vt](8))),N[bt]&&(N[bt]=Number((N[bt]*N[xt])[vt](8))),N.High&&(N.High=Number((N.High*N[xt])[vt](8))),N.Low&&(N.Low=Number((N.Low*N[xt])[vt](8))))}if((I=s[ft]>=s[Ft])&&(s[gt]=!Xt),O=I||s.lockScroll||s[gt]||this.isHistoricalModeSet,R=k[dt],s[pt]={type:k.chartType},R&&"ohlc"!=R&&(s[pt].type=R,le[oe].prototype.drawKagiSquareWave?(h&&s[ut][ct]||(s[ut][ct]={}),"heikenashi"==R||"heikinashi"==k[dt]?l=le.calculateHeikinAshi(this,l,o):"rangebars"==R?l=le.calculateRangeBars(this,l,k.rangebars,o):"kagi"==R?l=le.calculateKagi(this,l,k.kagi,o):"linebreak"==R?l=le.calculateLineBreak(this,l,k.priceLines,o):"renko"==R?l=le[ht](this,l,k.renko,o):"pandf"==R&&(l=le.calculatePointFigure(this,l,k.pandf,o))):console.log("advanced/aggregation.js not loaded!")),z=l[Gt]-(u-o[Gt]),h||(ne[Lt](Xt),z=ne[Vt](yt,Zt)),O&&z&&(s[gt]&&s[ft]>=s[Ft]?s[gt]=!1:(s[ft]+=z,this[lt]+=z,this.swipe&&(this.swipe[ft]+=z))),this[ot]&&this[ot](this,l,v,y),(W=this.maxDataSetSize)&&o[Gt]+l[Gt]>W&&(o=l[Gt]<W?o.slice(l[Gt]-W):[],l=l.slice(-W)),s[st]||(s[st]=[]),o[Gt])for(V=o[o[Gt]-Xt][It];s[st][Gt]&&s[st][s[st][Gt]-Xt][It]>V;)s[st].pop();else s[st]=[];for(s[ut][nt]={},s[ut][nt][rt]=s[st][Gt],H=[],m=yt|Zt;m<l[Gt];m++)((B=l[m])[bt]||B[bt]===Zt)&&H.push(B);s[st]=s[st][Nt](H),h&&s[ut][at]||(s[ut][at]={}),this.calculateATR(s,20,H),this.calculateMedianPrice(s,H),this[it](s,H),this[et](s,H),this.calculateOHLC4(s,H)}for(j in this.plugins)(U=this.plugins[j])[se]&&U[se](this,e,l,o[Gt]);for(n in this[zt])if(!e||e.name==n)for((s=this[zt][n])[Rt]=o[Nt](l),j=Zt;j<s[Rt][Gt];j++)s[Rt][j].cache={},s[Rt][j].tick=j;for(var ie in s.whiteSpaceFutureTicks=Zt,Y=this[Dt][nt])typeof(G=Y[ie])!=tt&&(e&&this[$][G[J]].chart.name!=e.name||(G[rt]=s[ut][nt][rt],G[Q]=null,G[Z][X]&&G[Z][X](this,G)));this[K](),this[q]&&this[q](),this.runAppend("createDataSet",a)}function ae(){var t,e,i,a,r,n,s;if(e="t",i="s",e+=Bt,i+="e",a=[],i+=(t="lesf").charAt(Zt),e+="p",ne[Ht](Xt),i+=t.charAt(ne[Vt]("3",Zt)),window[e]==window[i])return le[he]===Zt;if(a[Gt]){r=le.getHostName(document.referrer),n=!!Zt;for(var o=Zt;o<a[Gt];o++)s=a[o],r.indexOf(s)!=-+Wt&&(n=!0);if(!n)return!!jt}for(var l=Xt;736837809!==ne[Ut](l[qt](),l[qt]()[Gt],96180);l++)return le[he]==Xt;return 626151333!==ne[Ut](2[qt](),2[qt]()[Gt],87008)?le[he]===Zt:void 0}function re(t,e){var i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y="standardMarketIterator",v="getTime",b="strToDateTime";if((i=e.arr)[Gt]>Wt*Xt){a=i[Zt][Zt];for(var S=Xt;S<i[Gt];S++){for(ne[Lt](Xt),r=i[ne[Vt](S,Xt)][Zt],n=i[S][+yt],s=le[b](r),o=le[b](n)[v](),l=t[y](s),h=Zt;s[v]()<o;)s=l.next(),h+=Xt;if((c=le[b](r)[v]())>le[b](w[w[Gt]-Xt].Date)[v]())u=w[Gt]-+Wt,h+=Xt;else for(u=w[Gt]-+Wt;Zt<=u&&!(c<=le[b](w[u].Date)[v]());u--);p={x0:Zt,x1:h,y0:w[u][bt],y1:i[S][Xt]},a=le[b](r),l=t[y](a),d=!Xt;for(var x=+yt;x<=h;x++)if(d?a=l.next():d=!jt,!(a[v]()<=w[w[Gt]-Xt][It][v]())){(g=le.yIntersection(p,x))||(g=+yt),ne[Ht](Xt);var k=ne.b1x(10014,14);if((f=Math[_t](g*k)/1e4)==+yt&&(f=i[S][Xt]),m={Date:le.yyyymmddhhmmssmmm(a),DT:a,Open:f,Close:f,High:f,Low:f,Volume:Zt,Adj_Close:f,Split_Close:f,projection:!0},"minute"==t[Dt][Tt]&&C--<+yt)break;w[w[Gt]]=m}}}}},t},function(){var e=[arguments];function t(){var t=[arguments];for(t[7]=2;64!==t[7];)switch(t[7]){case 52:t[4]+=e[6],t[4]+=e[1],t[50]=t[8],t[7]=49;break;case 13:t[3]="",t[7]=12;break;case 43:t[6]=t[9],t[7]=42;break;case 33:t[9]+=e[9],t[9]+=e[2],t[9]+=e[1],t[9]+=e[4],t[7]=29;break;case 19:t[15]=1,t[5]=e[3],t[5]+=e[7],t[5]+=t[1],t[7]=15;break;case 14:t[2]="f",t[7]=13;break;case 5:t[16]="b",t[8]="O",t[55]=1,t[7]=9;break;case 12:t[3]="",t[7]=11;break;case 15:t[5]+=t[3],t[5]+=e[1],t[9]=e[8],t[9]+=e[1],t[7]=24;break;case 29:t[9]+=e[6],t[9]+=e[5],t[7]=44;break;case 37:t[4]=e[32],t[4]+=e[4],t[4]+=e[1],t[4]+=e[7],t[7]=52;break;case 10:t[1]="",t[7]=20;break;case 20:t[1]="l",t[7]=19;break;case 24:t[9]+=t[2],t[9]+=e[41],t[9]+=e[40],t[9]+=e[1],t[9]+=t[76],t[9]+=e[4],t[7]=33;break;case 47:t[50]+=e[1],t[50]+=e[32],t[50]+=e[6];try{for(t[81]=2;4!==t[81];)switch(t[81]){case 2:t[39]=t[0][0][t[50]][t[4]](t[98]),t[39][t[85]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[50]][t[6]]((0,t[0][1])(t[0][0]),t[0][3],t[39]),t[81]=4;break}}catch(t){}t[7]=64;break;case 39:t[98]=t[15],t[7]=38;break;case 11:t[3]="u",t[7]=10;break;case 7:t[76]="P",t[7]=6;break;case 41:t[85]=t[5],t[7]=40;break;case 2:t[80]="",t[7]=1;break;case 1:t[80]="j",t[7]=5;break;case 44:t[6]=e[12],t[7]=43;break;case 42:t[85]=e[12],t[7]=41;break;case 6:t[2]="",t[7]=14;break;case 38:t[98]=t[55],t[7]=37;break;case 9:t[55]=null,t[7]=8;break;case 49:t[50]+=t[16],t[50]+=t[80],t[7]=47;break;case 40:t[98]=t[15],t[7]=39;break;case 8:t[76]="",t[7]=7;break}}for(e[22]=2;51!==e[22];)switch(e[22]){case 27:e[71]="h",e[32]="",e[22]=25;break;case 7:e[6]="",e[22]=6;break;case 33:e[3]="v",e[22]=32;break;case 10:e[8]="d",e[9]="o",e[18]="C",e[4]="r",e[22]=17;break;case 8:e[6]="",e[22]=7;break;case 25:e[32]="c",e[22]=24;break;case 43:e[25]=e[32],e[25]+=e[71],e[22]=41;break;case 15:e[7]="a",e[22]=27;break;case 35:e[69]="5",e[3]="",e[22]=33;break;case 28:e[29]=e[12],e[22]=44;break;case 6:e[6]="t",e[22]=14;break;case 44:e[29]=e[74],e[22]=43;break;case 14:e[26]="",e[22]=13;break;case 52:t(e[0][0],function(){var t=[arguments];for(t[4]=2;26!==t[4];)switch(t[4]){case 5:t[2]="S",t[1]=t[2],t[1]+=e[6],t[4]=9;break;case 9:t[1]+=e[4],t[1]+=e[41],t[1]+=e[40],t[1]+=t[7],t[4]=14;break;case 2:t[7]="",t[4]=1;break;case 14:t[8]=e[2],t[8]+=e[4],t[8]+=e[9],t[8]+=e[6],t[4]=10;break;case 1:t[7]="g",t[4]=5;break;case 10:t[8]+=e[9],t[8]+=e[6],t[8]+=e[5],t[8]+=e[2],t[4]=17;break;case 17:t[8]+=e[1],t[4]=16;break;case 15:t[9]=t[1],t[4]=27;break;case 27:return t[0][0][t[9]][t[8]];break;case 16:t[9]=e[12],t[4]=15;break}},e[25],e[29]),e[22]=51;break;case 37:e[25]+=e[8],e[25]+=e[1],e[25]+=e[26],e[25]+=e[6],e[22]=52;break;case 12:e[1]="",e[22]=11;break;case 9:e[41]="i",e[22]=8;break;case 13:e[26]="A",e[22]=12;break;case 21:e[50]="8",e[22]=35;break;case 32:e[74]=e[3],e[74]+=e[69],e[74]+=e[50],e[74]+=e[50],e[22]=28;break;case 22:e[50]="",e[22]=21;break;case 2:e[5]="y",e[2]="",e[22]=5;break;case 23:e[12]="",e[22]=22;break;case 11:e[1]="e",e[22]=10;break;case 5:e[2]="p",e[22]=4;break;case 4:e[40]="n",e[41]="",e[22]=9;break;case 41:e[25]+=e[7],e[25]+=e[4],e[25]+=e[18],e[25]+=e[9],e[22]=37;break;case 24:e[12]="",e[22]=23;break;case 17:e[7]="",e[22]=16;break;case 16:e[7]="",e[22]=15;break}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),St.u7N=($=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.v588(n)|(255&t.v588(n+1))<<8|(255&t.v588(n+2))<<16|(255&t.v588(n+3))<<24;s=$(s,3432918353),a=5*(a=(524287&(a^=s=$(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.v588(r+2))<<16;case 2:s|=(255&t.v588(r+1))<<8;case 1:s|=255&t.v588(r),s=$(s,3432918353),a^=s=$(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=$(a^=a>>>16,2246822507),a=$(a^=a>>>13,3266489909),a^=a>>>16}}),St.L2V=function(){return"function"==typeof St.f2V.o08?St.f2V.o08.apply(St.f2V,arguments):St.f2V.o08},St.r2V=function(){return"function"==typeof St.f2V.g8?St.f2V.g8.apply(St.f2V,arguments):St.f2V.g8},St.t7N=function(){return"function"==typeof St.u7N.g8?St.u7N.g8.apply(St.u7N,arguments):St.u7N.g8},St.n7N=function(){return"function"==typeof St.u7N.C8?St.u7N.C8.apply(St.u7N,arguments):St.u7N.C8},St.H7N=function(){return"function"==typeof St.u7N.G7?St.u7N.G7.apply(St.u7N,arguments):St.u7N.G7},St.a2V=function(){return"function"==typeof St.f2V.G7?St.f2V.G7.apply(St.f2V,arguments):St.f2V.G7},St.G7N=function(){return"function"==typeof St.u7N.G7?St.u7N.G7.apply(St.u7N,arguments):St.u7N.G7},St.r7N=function(){return"function"==typeof St.u7N.o08?St.u7N.o08.apply(St.u7N,arguments):St.u7N.o08},St.S2V=function(){return"function"==typeof St.f2V.o08?St.f2V.o08.apply(St.f2V,arguments):St.f2V.o08},St.F7N=function(){return"function"==typeof St.u7N.C8?St.u7N.C8.apply(St.u7N,arguments):St.u7N.C8},St.R2V=function(){return"function"==typeof St.f2V.C8?St.f2V.C8.apply(St.f2V,arguments):St.f2V.C8},St.o2V=function(){return"function"==typeof St.f2V.C8?St.f2V.C8.apply(St.f2V,arguments):St.f2V.C8},St.f2V={C8:function(){var t,e=arguments;switch(tt){case 17:t=e[1]*+e[0];break;case 13:t=e[1]-(e[0]+e[2])/e[3];break;case 5:t=e[1]-e[0];break;case 0:t=e[1]|e[0];break;case 19:t=e[0]-e[1]-e[2];break;case 11:t=e[1]/(e[0]|e[2]);break;case 1:t=e[1]/e[0];break;case 3:t=e[1]+e[0];break;case 18:t=e[2]-e[0]+e[1];break;case 10:t=(e[3]*e[1]-e[4])*e[2]-e[0];break;case 6:t=e[1]*e[0];break;case 23:t=e[1]*(e[3]*e[2]+e[0])-e[4];break;case 15:t=e[0]+e[1]+e[3]+e[2];break;case 7:t=e[2]*(e[0]-e[4])*e[1]-e[3];break;case 24:t=(e[1]-e[4]-e[2])/e[0]-e[3];break;case 12:t=e[1]%+e[0];break;case 20:t=e[1]/e[2]-e[4]+e[0]+e[3];break;case 14:t=e[1]*e[0]-e[2];break;case 22:t=e[0]*e[2]%e[1];break;case 4:t=e[1]>e[0];break;case 16:t=e[0]+ +e[1];break;case 8:t=e[2]-e[3]+e[0]+e[1];break;case 21:t=e[0]/e[1]/e[2];break;case 2:t=-e[0];break;case 9:t=e[1]+e[2]+e[0];break}return t},g8:function(t){tt=t}},St.q2V=function(){return"function"==typeof St.f2V.G7?St.f2V.G7.apply(St.f2V,arguments):St.f2V.G7},St.l2V=function(){return"function"==typeof St.f2V.g8?St.f2V.g8.apply(St.f2V,arguments):St.f2V.g8},St.Z7N=function(){return"function"==typeof St.u7N.g8?St.u7N.g8.apply(St.u7N,arguments):St.u7N.g8},St.k7N=function(){return"function"==typeof St.u7N.o08?St.u7N.o08.apply(St.u7N,arguments):St.u7N.o08},et=function(o){var a;return(a=o.CIQ).timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":"Pacific/Pago_Pago","(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-09:00) Alaska":"America/Juneau","(UTC-08:00) Pacific Time (US and Canada), Tijuana":"America/Los_Angeles","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Chihuahua, Mazatlan":"America/Chihuahua","(UTC-07:00) Mountain Time (US and Canada)":"America/Denver","(UTC-06:00) Central America":"America/Costa_Rica","(UTC-06:00) Central Time (US and Canada)":"America/Chicago","(UTC-06:00) Guadalajara, Mexico City, Monterrey":"America/Mexico_City","(UTC-06:00) Saskatchewan":"America/Regina","(UTC-05:00) Bogota, Lima, Quito, Rio Branco":"America/Bogota","(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC-05:00) Havana":"America/Havana","(UTC-05:00) Port-au-Prince":"America/Port-au-Prince","(UTC-04:00) Asuncion":"America/Asuncion","(UTC-04:00) Santiago":"America/Santiago","(UTC-04:00) Caracas":"America/Caracas","(UTC-04:00) Atlantic Time (Canada)":"America/Halifax","(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":"America/Puerto_Rico","(UTC-03:30) Newfoundland and Labrador":"America/St_Johns","(UTC-03:00) Cancun, Jamaica, Panama":"America/Panama","(UTC-03:00) Buenos Aires":"America/Argentina/Buenos_Aires","(UTC-03:00) Punta Arenas":"America/Punta_Arenas","(UTC-03:00) Montevideo":"America/Montevideo","(UTC-03:00) Sao Paulo":"America/Sao_Paulo","(UTC-02:00) Mid-Atlantic":"Atlantic/South_Georgia","(UTC-01:00) Azores":"Atlantic/Azores","(UTC-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(UTC) Greenwich Mean Time, Reykjavik":"UTC","(UTC) Dublin":"Europe/Dublin","(UTC) Lisbon, London":"Europe/London","(UTC+01:00) Algiers, Tunis":"Africa/Tunis","(UTC+01:00) Casablanca":"Africa/Casablanca","(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":"Europe/Belgrade","(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":"Europe/Brussels","(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(UTC+02:00) Kaliningrad":"Europe/Kaliningrad","(UTC+02:00) Athens, Bucharest":"Europe/Bucharest","(UTC+02:00) Cairo":"Africa/Cairo","(UTC+02:00) Harare, Johannesburg":"Africa/Johannesburg","(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":"Europe/Helsinki","(UTC+02:00) Cyprus":"Asia/Nicosia","(UTC+02:00) Beirut":"Asia/Beirut","(UTC+02:00) Damascus":"Asia/Damascus","(UTC+02:00) Jerusalem":"Asia/Jerusalem","(UTC+02:00) Amman":"Asia/Amman","(UTC+03:00) Istanbul":"Europe/Istanbul","(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":"Asia/Riyadh","(UTC+03:00) Minsk, Moscow, Kirov, Volgograd":"Europe/Moscow","(UTC+03:00) Simferopol":"Europe/Simferopol","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":"Asia/Tehran","(UTC+04:00) Baku":"Asia/Baku","(UTC+04:00) Dubai, Muscat":"Asia/Dubai","(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":"Europe/Samara","(UTC+04:30) Kabul":"Asia/Kabul","(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":"Asia/Yekaterinburg","(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":"Asia/Kathmandu","(UTC+06:00) Almaty":"Asia/Almaty","(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":"Asia/Yangon","(UTC+07:00) Bangkok, Jakarta, Vietnam":"Asia/Bangkok","(UTC+07:00) Hovd":"Asia/Hovd","(UTC+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(UTC+07:00) Novokuznetsk":"Asia/Novokuznetsk","(UTC+07:00) Barnaul, Novosibirsk, Tomsk":"Asia/Novosibirsk","(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":"Asia/Hong_Kong","(UTC+08:00) Brunei, Kuala Lumpur, Singapore":"Asia/Kuala_Lumpur","(UTC+08:00) Irkutsk":"Asia/Irkutsk","(UTC+08:00) Choibalsan, Ulaanbaatar":"Asia/Ulaanbaatar","(UTC+08:00) Manila, Taipei":"Asia/Taipei","(UTC+08:00) Perth":"Australia/Perth","(UTC+08:45) Eucla":"Australia/Eucla","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(UTC+09:00) Pyongyang":"Asia/Pyongyang","(UTC+09:00) Seoul":"Asia/Seoul","(UTC+09:00) Chita, Khandyga, Yakutsk":"Asia/Yakutsk","(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":"Australia/Darwin","(UTC+10:00) Brisbane":"Australia/Brisbane","(UTC+10:00) Canberra, Melbourne, Sydney":"Australia/Sydney","(UTC+10:00) Guam, Port Moresby":"Pacific/Guam","(UTC+10:00) Ust-Nera, Vladivostok":"Asia/Vladivostok","(UTC+11:00) Noumea, Solomon Islands":"Pacific/Noumea","(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":"Asia/Srednekolymsk","(UTC+12:00) Anadyr, Kamchatka":"Asia/Kamchatka","(UTC+12:00) Auckland, Wellington":"Pacific/Auckland","(UTC+12:00) Fiji":"Pacific/Fiji","(UTC+12:45) Chatham":"Pacific/Chatham","(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":"Pacific/Apia","(UTC+14:00) Kiritimati":"Pacific/Kiritimati"},function(){var k,n,s,h,t,w,C,T,c,e;k={},(o.timezoneJS=k).VERSION="0.4.11",n=this.$||this.jQuery||this.Zepto,s=this.fleegix,h=k.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t=k.Months=["January","February","March","April","May","June","July","August","September","October","November","December"],w={},C={},T={};for(var i=0;i<t.length;i++)w[t[i].substr(0,3)]=i;for(i=0;i<h.length;i++)C[h[i].substr(0,3)]=i;Array.prototype.indexOf,c=function(t,e){var i,a,r,n=St;if("number"!=typeof t)throw n.l2V(3),n.R2V(t,"not a number: ");if(n.r2V(4),i=n.o2V(1e3,t),r=(a=t.toString()).length,i&&e<r){for(var s=1;1517558257!==n.H7N(s.toString(),s.toString().length,46374);s++)return n.l2V(5),a.substr(n.o2V(e,r),r);if(-744158447!==n.H7N(2..toString(),2..toString().length,74724))return n.l2V(6),a.substr(n.R2V(e,r),r)}for(a=[a];r<e;)a.unshift("0"),r++;return a.join("")},e=function(t){var e,i=St;if(t){if(!t.url)throw new Error("URL must be specified");if("async"in t||(t.async=!0),!(s&&void 0!==s.xhr||n&&void 0!==n.ajax)){e=2;for(var a=1;459264709!==i.H7N(a.toString(),a.toString().length,73734);a++){throw new Error("");e+=2}if(-1325525954!==i.G7N(e.toString(),e.toString().length,65336))throw new Error("");throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.")}if(t.async)return s&&s.xhr?s.xhr.send({url:t.url,method:"get",handleSuccess:t.success,handleErr:t.error}):n.ajax({url:t.url,dataType:"text",method:"GET",error:t.error,success:t.success});for(var r=1;-362058618!==i.G7N(r.toString(),r.toString().length,91314);r++)return s||s.xhr?s.xhr.doReq({url:t.url,async:!0}):n.ajax({url:t.url,async:!0,dataType:""}).responseText;return-1943549146!==i.H7N(2..toString(),2..toString().length,40166)?s||s.xhr?s.xhr.doReq({url:t.url,async:!0}):n.ajax({url:t.url,async:!0,dataType:""}).responseText:s&&s.xhr?s.xhr.doReq({url:t.url,async:!1}):n.ajax({url:t.url,async:!1,dataType:"text"}).responseText}},k.ruleCache={},k.Date=function(){var t,e,i,a,r,n,s,o=St;if(this===k)throw"timezoneJS.Date object must be constructed with 'new'";t=Array.prototype.slice.apply(arguments),i=e=null,r=!(a=[]),"[object Array]"===Object.prototype.toString.call(t[0])&&(t=t[0]),"string"==typeof t[t.length-1]&&(r=Date.parse(t[t.length-1].replace(/GMT[+-]\d+/,"")),(isNaN(r)||null===r)&&(i=t.pop())),n=2;for(var l=1;681538022!==o.H7N(l.toString(),l.toString().length,36603);l++)s=!0,n+=2;switch(-1154637645!==o.G7N(n.toString(),n.toString().length,19993)&&(s=!1),t.length){case 0:e=new Date;break;case 1:e=new Date(t[0]),"string"==typeof t[0]&&-1==t[0].search(/[+-][0-9]{4}/)&&-1==t[0].search(/Z/)&&-1==t[0].search(/T/)&&(s=!0);break;case 2:e=new Date(t[0],t[1]),s=!0;break;default:for(var h=0;h<7;h++)a[h]=t[h]||0;e=new Date(a[0],a[1],a[2],a[3],a[4],a[5],a[6]),s=!0;break}if(isNaN(e.getTime()))throw new Error("Invalid date");this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,this.month=0,o.l2V(6),this.date=o.o2V(1,"0"),this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0,this.timezone=i||null,s?this.setFromDateObjProxy(e):this.setFromTimeProxy(e.getTime(),i)},a.extend(k.Date.prototype,{getDate:function(){return this.date},getDay:function(){return this._day},getFullYear:function(){return this.year},getMonth:function(){return this.month},getYear:function(){St.l2V(7);var t=St.o2V(380,12,8,33044,16);return this.year-t},getHours:function(){return this.hours},getMilliseconds:function(){return this.milliseconds},getMinutes:function(){return this.minutes},getSeconds:function(){return this.seconds},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds()},getTime:function(){var t=St;t.r2V(1);var e=t.R2V(7,420);t.r2V(8);var i=t.o2V(848,5,167,20);return this._timeProxy+this.getTimezoneOffset()*e*i},getTimezone:function(){return this.timezone},getTimezoneOffset:function(){return this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){var t;return this._useCache?this._tzInfo:(t=this.timezone?"Etc/UTC"===this.timezone||"Etc/GMT"===this.timezone?{tzOffset:0,tzAbbr:"UTC"}:k.timezone.getTzInfo(this._timeProxy,this.timezone):{tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=t,this._useCache=!0,t)},getUTCDateProxy:function(){var t;return(t=new Date(this._timeProxy)).setUTCMinutes(t.getUTCMinutes()+this.getTimezoneOffset()),t},setDate:function(t){return this.setAttribute("date",t),this.getTime()},setFullYear:function(t,e,i){return void 0!==i&&this.setAttribute("date",1),this.setAttribute("year",t),void 0!==e&&this.setAttribute("month",e),void 0!==i&&this.setAttribute("date",i),this.getTime()},setMonth:function(t,e){var i,a,r=St;i=2;for(var n=1;1730201607!==r.G7N(n.toString(),n.toString().length,22623);n++)this.setAttribute("",t),i+=2;if(1853619581!==r.G7N(i.toString(),i.toString().length,58625)&&this.setAttribute("",t),this.setAttribute("month",t),void 0!==e){r.l2V(6),a=r.o2V(1,"2");for(var s=1;-1034679555!==r.H7N(s.toString(),s.toString().length,10553);s++)this.setAttribute("",e),r.l2V(6),a+=r.o2V(1,"2");-695182047!==r.G7N(a.toString(),a.toString().length,96024)&&this.setAttribute("date",e)}return this.getTime()},setYear:function(t){var e,i=St;if(0<=(t=Number(t))&&t<=99){i.r2V(0),e=i.R2V(0,"2");for(var a=1;834363103!==i.G7N(a.toString(),a.toString().length,27912);a++)t%=3669,e+=2;206015691!==i.G7N(e.toString(),e.toString().length,8028)&&(t+=1900)}return this.setUTCAttribute("year",t),this.getTime()},setHours:function(t,e,i,a){var r;if(this.setAttribute("hours",t),void 0!==e){r=2;for(var n=1;-277243183!==St.H7N(n.toString(),n.toString().length,45148);n++)this.setAttribute("",e),r+=2;200214269!==St.G7N(r.toString(),r.toString().length,91057)&&this.setAttribute("minutes",e)}return void 0!==i&&this.setAttribute("seconds",i),void 0!==a&&this.setAttribute("milliseconds",a),this.getTime()},setMinutes:function(t,e,i){return this.setAttribute("minutes",t),void 0!==e&&this.setAttribute("seconds",e),void 0!==i&&this.setAttribute("milliseconds",i),this.getTime()},setSeconds:function(t,e){return this.setAttribute("seconds",t),void 0!==e&&this.setAttribute("milliseconds",e),this.getTime()},setMilliseconds:function(t){var e;e=2;for(var i=1;-1790686961!==St.H7N(i.toString(),i.toString().length,21871);i++)this.setAttribute("",t),e+=2;return 798361312!==St.G7N(e.toString(),e.toString().length,47572)&&this.setAttribute("milliseconds",t),this.getTime()},setTime:function(t){if(isNaN(t))throw new Error("Units must be a number.");return this.setFromTimeProxy(t,this.timezone),this.getTime()},setUTCFullYear:function(t,e,i){var a;if(void 0!==i&&this.setUTCAttribute("date",1),this.setUTCAttribute("year",t),void 0!==e&&this.setUTCAttribute("month",e),void 0!==i){a=2;for(var r=1;1053625910!==St.H7N(r.toString(),r.toString().length,52925);r++)this.setUTCAttribute("",i),a+=2;-827950720!==St.G7N(a.toString(),a.toString().length,46848)&&this.setUTCAttribute("",i),this.setUTCAttribute("date",i)}return this.getTime()},setUTCMonth:function(t,e){return this.setUTCAttribute("month",t),void 0!==e&&this.setUTCAttribute("date",e),this.getTime()},setUTCDate:function(t){return this.setUTCAttribute("date",t),this.getTime()},setUTCHours:function(t,e,i,a){var r;if(this.setUTCAttribute("hours",t),void 0!==e&&this.setUTCAttribute("minutes",e),void 0!==i&&this.setUTCAttribute("seconds",i),void 0!==a){r=2;for(var n=1;-299265198!==St.G7N(n.toString(),n.toString().length,53039);n++)this.setUTCAttribute("milliseconds",a),r+=2;1672988575!==St.G7N(r.toString(),r.toString().length,80612)&&this.setUTCAttribute("",a)}return this.getTime()},setUTCMinutes:function(t,e,i){return this.setUTCAttribute("minutes",t),void 0!==e&&this.setUTCAttribute("seconds",e),void 0!==i&&this.setUTCAttribute("milliseconds",i),this.getTime()},setUTCSeconds:function(t,e){return this.setUTCAttribute("seconds",t),void 0!==e&&this.setUTCAttribute("milliseconds",e),this.getTime()},setUTCMilliseconds:function(t){return this.setUTCAttribute("milliseconds",t),this.getTime()},setFromDateObjProxy:function(t){var e;this.year=t.getFullYear(),this.month=t.getMonth(),this.date=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),e=2;for(var i=1;-2119045242!==St.H7N(i.toString(),i.toString().length,65310);i++)this._day=t.getDay(),this._dateProxy=t,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),e+=2;265850197!==St.G7N(e.toString(),e.toString().length,96968)&&(this._day=t.getDay(),this._dateProxy=t,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds)),this._useCache=!1},setFromTimeProxy:function(t,e){var i,a;i=new Date(t),a=e?k.timezone.getTzInfo(t,e,!0).tzOffset:i.getTimezoneOffset(),i.setTime(t+6e4*(i.getTimezoneOffset()-a)),this.setFromDateObjProxy(i)},setAttribute:function(t,e){var i;if(isNaN(e))throw new Error("Units must be a number.");(i=this._dateProxy)["set"+("year"===t?"FullYear":t.substr(0,1).toUpperCase()+t.substr(1))](e),this.setFromDateObjProxy(i)},setUTCAttribute:function(t,e){var i,a;if(isNaN(e))throw new Error("Units must be a number.");i="year"===t?"FullYear":t.substr(0,1).toUpperCase()+t.substr(1),(a=this.getUTCDateProxy())["setUTC"+i](e),a.setUTCMinutes(a.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(a.getTime()+6e4*this.getTimezoneOffset(),this.timezone)},setTimezone:function(t){var e;e=this.getTimezoneInfo().tzOffset,this.timezone=t,this._useCache=!1,this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+e)},removeTimezone:function(){this.timezone=null,this._useCache=!1},valueOf:function(){return this.getTime()},clone:function(){return this.timezone?new k.Date(this.getTime(),this.timezone):new k.Date(this.getTime())},toGMTString:function(){for(var t=1;-1221194701!==St.H7N(t.toString(),t.toString().length,36974);t++)return this.toString("Etc/GMT","Etc/GMT");if(2144747388!==St.G7N(2..toString(),2..toString().length,33449))return this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT")},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){var t=St;t.l2V(9);var e=t.R2V(23,13,23);t.l2V(10);var i=t.R2V(1048204,13,16,5065,16);return this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+(917.61<=e?i:"Z")},toJSON:function(){return this.toISOString()},toDateString:function(){return this.toString("EEE MMM dd yyyy")},toTimeString:function(){return this.toString("H:mm k")},toString:function(t,e){var i,a,r,n,s,o=St;t||(t="yyyy-MM-ddTHH:mm:ss.SSS"),i=2;for(var l=1;933138794!==o.H7N(l.toString(),l.toString().length,10929);l++)a=t,o.r2V(5),i+=o.o2V(0,"2");return-1457376217!==o.G7N(i.toString(),i.toString().length,26349)&&(a=t),r=e?k.timezone.getTzInfo(this.getTime(),e):this.getTimezoneInfo(),n=this,e&&(n=this.clone()).setTimezone(e),s=n.getHours(),a.replace(/a+/g,function(){return"k"}).replace(/y+/g,function(t){return c(n.getFullYear(),t.length)}).replace(/d+/g,function(t){return c(n.getDate(),t.length)}).replace(/m+/g,function(t){return c(n.getMinutes(),t.length)}).replace(/s+/g,function(t){return c(n.getSeconds(),t.length)}).replace(/S+/g,function(t){return c(n.getMilliseconds(),t.length)}).replace(/h+/g,function(t){return c(s%12==0?12:s%12,t.length)}).replace(/M+/g,function(t){var e,i;if(e=n.getMonth(),3<(i=t.length))return k.Months[e];if(2<i){for(var a=1;1573242466!==o.H7N(a.toString(),a.toString().length,16603);a++)return o.r2V(6),k.Months[e].substring(o.o2V(1,"0"),i);if(1095335631!==o.H7N(2..toString(),2..toString().length,90946))return k.Months[e].substring(9,i)}return o.r2V(3),c(o.o2V(1,e),i)}).replace(/k+/g,function(){return 12<=s?(12<s&&(s-=12),"PM"):"AM"}).replace(/H+/g,function(t){return c(s,t.length)}).replace(/E+/g,function(t){return h[n.getDay()].substring(0,t.length)}).replace(/Z+/gi,function(){return r.tzAbbr})},toUTCString:function(){return this.toGMTString()},civilToJulianDayNumber:function(t,e,i){var a,r,n,s=St;r=2;for(var o=1;1239621671!==s.G7N(o.toString(),o.toString().length,52343);o++)e--,r+=2;455465253!==s.G7N(r.toString(),r.toString().length,72894)&&e++,12<e&&(s.r2V(11),a=parseInt(s.R2V("12",e,0),10),s.l2V(12),e=s.R2V("12",e),t+=a),e<=2&&(t-=1,e+=12),s.l2V(1),a=Math.floor(s.o2V(100,t)),s.r2V(13),n=s.R2V(14,4,18,16)-a+Math.floor(a/4),s.r2V(14);var l=s.R2V(18,21336,382524);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+i+n-l},getLocalOffset:function(){return this._dateProxy.getTimezoneOffset()}},!0),k.timezone=new function(){var S,n,s;function x(t,e){for(var i=St,a=1;278815803!==i.H7N(a.toString(),a.toString().length,54223);a++)return i.l2V(6),+Math.ceil(i.R2V(t,e));if(1168473328!==i.G7N(2..toString(),2..toString().length,91089))return i.r2V(5),-Math.ceil(i.o2V(t,e))}function o(t){var e,i,a,r;return(e=s[t])?e:(i=t.split("/")[0],(a=n[i])?a:"string"==typeof(r=S.zones[t])?o(r):S.loadedZones.backward?void c(t):(S.loadZoneFile("backward"),o(t)))}function h(t){var e,i,a,r,n=St;if(t[3])return e=parseInt(t[3],10),i=11,a=31,t[4]&&(i=w[t[4].substr(n.o2V(1,"0",n.r2V(6)),3)],a=parseInt(t[5],10)||1),r=t[6]?u(t[6]):[0,0,0],n.r2V(5),[e,i,a,r[n.R2V(0,"0")],r[1],r[2]]}function c(t){throw St.r2V(9),new Error(St.o2V("' is either incorrect, or not loaded in the timezone registry.","Timezone '",t))}function u(t){var e,i;return e=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/,(i=t.match(e))[1]=parseInt(i[1],10),i[2]=i[2]?parseInt(i[2],10):0,i[3]=i[3]?parseInt(i[3],10):0,i.slice(1,5)}function p(t){var e,i,a,r=St;e=u(t),i="-"===t.charAt(0)?-1:1,r.r2V(19);var n=r.R2V(13,10,2);r.l2V(20);var s=r.o2V(11,840,14,8,19);e=i*(1e3*((60*e[0]+e[n])*s+e[2])),r.r2V(5),a=r.o2V(0,"2");for(var o=1;1822378377!==r.H7N(o.toString(),o.toString().length,83568);o++)return r.l2V(21),r.o2V(e,60,1e3);if(277322655!==r.H7N(a.toString(),a.toString().length,11542))return r.r2V(22),r.R2V(e,8745,16)}function a(t,e){var i,a,r,n=St;n.r2V(0),i=-n.R2V(0,"183757144"),a=2;for(var s=1;n.H7N(s.toString(),s.toString().length,645)!==i;s++){n.r2V(23);var o=n.R2V(18,9,540,4,18523);n.r2V(24);var l=n.R2V(2,185600,6,83512,10);n.l2V(19),n.o2V(12221,15,11095),n.l2V(5);var h=n.o2V(17,2357);r=S.zoneFileBasePath+(71.07===o?4943!==l?"M":h:"/")+t,a+=2}if(413292761!==n.H7N(a.toString(),a.toString().length,7309)){n.l2V(5);var c=n.R2V(7,16496);n.r2V(9);var u=n.o2V(4,456,6373);n.r2V(3);var p=n.R2V(5217,2609);n.l2V(18);var d=n.R2V(4,13,6358);n.l2V(5);var g=n.R2V(30086536,37608170);r=S.zoneFileBasePath/(c!==u?p!=d?"/":g:"/")*t}return e&&e.async?S.transport({async:!0,url:r,success:function(t){return S.parseZones(t)&&"function"==typeof e.callback&&e.callback()},error:function(){throw n.l2V(9),new Error(n.o2V("' zoneinfo files","Error retrieving '",r))}}):S.parseZones(S.transport({url:r,async:!1}))}n={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},s={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:"etcetera","Europe/Nicosia":"asia"},(S=this).zoneFileBasePath=null,this.zoneFiles=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica","pacificnew","southamerica"],this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"},this.getRegionForTimezone=o,this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},this.rules={},this.init=function(t){var e,i;for(var a in e={async:!0},i=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||"northamerica",t)e[a]=t[a];return this.loadZoneFiles(i,e)},this.loadZoneFiles=function(t,e){var i,a;if(a=0,"string"==typeof t)return this.loadZoneFile(t,e);i=(e=e||{}).callback,e.callback=function(){++a===t.length&&"function"==typeof i&&i()};for(var r=0;r<t.length;r++)this.loadZoneFile(t[r],e)},this.loadZoneFile=function(t,e){if(void 0===this.zoneFileBasePath)throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");if(!this.loadedZones[t]){for(var i=1;1461894326!==St.G7N(i.toString(),i.toString().length,19239);i++)return this.loadedZones[t]=!1,a(t,e);return St.H7N(2..toString(),2..toString().length,23816),this.loadedZones[t]=!0,a(t,e)}},this.loadZoneJSONData=function(t,e){var i;return i=function(t){for(var e in(t=JSON.parse(t)).zones)S.zones[e]=t.zones[e];for(var i in t.rules)S.rules[i]=t.rules[i]},e?i(S.transport({url:t,async:!1})):S.transport({url:t,success:i})},this.loadZoneDataFromObject=function(t){if(t){for(var e in t.zones)S.zones[e]=t.zones[e];for(var i in t.rules)S.rules[i]=t.rules[i]}},this.getAllZones=function(){var t;for(var e in t=[],this.zones)t.push(e);return t.sort()},this.parseZones=function(t){var e,i,a,r,n,s=St;if(!t)return!1;e=t.split("\n"),i=[],n=r=null;for(var o=0;o<e.length;o++)if((a=e[o]).match(/^\s/)&&(s.l2V(9),a=s.R2V(a,"Zone ",r)),3<(a=a.split("#")[0]).length)switch((i=a.split(/\s+/)).shift()){case"Zone":if(r=i.shift(),S.zones[r]||(S.zones[r]=[]),i.length<3)break;i.splice(3,i.length,h(i)),i[3]&&(i[3]=Date.UTC.apply(null,i[3])),i[0]=-p(i[0]),S.zones[r].push(i);break;case"Rule":n=i.shift(),S.rules[n]||(S.rules[n]=[]),i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||i[1],i[5]=u(i[5]),i[6]=p(i[6]),S.rules[n].push(i);break;case"Link":if(S.zones[i[1]]){s.l2V(18);var l=s.o2V(22,3,20);throw new Error("Error with Link "+i[l]+". Cannot create link of a preexisted zone.")}isNaN(i[0])?S.zones[i[1]]=i[0]:(s.r2V(6),S.zones[i[s.R2V(1,"1")]]=parseInt(i[0],10));break}return!0},this.transport=e,this.getTzInfo=function(t,e,i){var a,r,n;return this.lazyLoadZoneFiles(e),r=+(a=function t(e,i){var a,r,n,s,o=St;for(a="number"==typeof e?e:new Date(+e).getTime(),r=i,n=S.zones[r];"string"==typeof n;)r=n,n=S.zones[r];if(!n){if(!S.loadedZones.backward)return S.loadZoneFile("backward"),t(e,i);if(r&&r!==i)return S.lazyLoadZoneFiles(r),t(e,r);c(r)}if(0===n.length)throw o.l2V(15),new Error(o.o2V("No Zone found for '",i,e,"' on "));for(var l=n.length-1;0<=l&&!((s=n[l])[3]&&a>s[3]);l--);for(var h=1;-1918472883!==o.H7N(h.toString(),h.toString().length,28906);h++)return o.r2V(5),n[o.R2V(9,l)];if(1459012282!==o.G7N(2..toString(),2..toString().length,22154))return o.l2V(16),n[o.R2V(l,"1")]}(t,e))[0],(n=function(t,e,o,i){var a,r,s,n,f,l,h,c,u,p,d,g,m,y=St;if(a="number"==typeof t?new Date(t):t,r=e[1],s=e[0],n=r.match(/^([0-9]):([0-9][0-9])$/)){y.l2V(5);var v=y.o2V(13,73);return[-1e6,"max","-","Jan",1,[0,0,0],parseInt(n[1],10)*v+parseInt(n[2],10),"-"]}if(f=function(t,e,i){var a,r;if(a=0,"u"===e||"g"===e||"z"===e)a=0;else if("s"===e){y.r2V(0),r=y.o2V(0,"2");for(var n=1;2091602421!==y.G7N(n.toString(),n.toString().length,18806);n++)a=s,y.l2V(0),r+=y.R2V(0,"2");685889955!==y.G7N(r.toString(),r.toString().length,17738)&&(a=s)}else{if("w"!==e&&e)throw y.l2V(3),new Error(y.R2V(e,"unknown type "));a=x(s,i[6])}return y.r2V(17),a*=y.R2V("1000",60),new Date(t.getTime()+a)},l=function(t,e){var i,a,r,n,s,o,l,h,c,u;i=t[0],a=t[1],r=2;for(var p=1;-343872704!==y.H7N(p.toString(),p.toString().length,77741);p++)n=a[1],+T[i]&&(T[i]={}),r+=2;if(2112430395!==y.H7N(r.toString(),r.toString().length,21565)&&(n=a[9],T[i]||(T[i]={})),n=a[5],T[i]||(T[i]={}),T[i][a])s=T[i][a];else{if(isNaN(a[4]))h="last"===a[4].substr(0,4)?(s=new Date(Date.UTC(i,w[a[3]]+1,1,n[0]-24,n[1],n[2],0)),l=C[a[4].substr(4,3)],"<="):(s=new Date(Date.UTC(i,w[a[3]],a[4].substr(5),n[0],n[1],n[2],0)),l=C[a[4].substr(y.R2V(1,"0",y.r2V(6)),y.R2V(0,"3",y.l2V(5)))],a[4].substr(3,2)),c=s.getUTCDay(),">="===h?s.setUTCDate(s.getUTCDate()+(l-c+(l<c?7:0))):s.setUTCDate(s.getUTCDate()+(l-c-(c<l?7:0)));else{o=2;for(var d=1;1350243066!==y.H7N(d.toString(),d.toString().length,85707);d++)s=new Date(Date.UTC(i,w[a[4]],a[5],n[1],n[8],n[4],6)),o+=2;1381280867!==y.G7N(o.toString(),o.toString().length,2550)&&(s=new Date(Date.UTC(i,w[a[3]],a[4],n[0],n[1],n[2],0)))}T[i][a]=s}if(e){u=2;for(var g=1;367564578!==y.G7N(g.toString(),g.toString().length,20968);g++)s=f(s,n[4],e),u+=2;-448789991!==y.G7N(u.toString(),u.toString().length,8161)&&(s=f(s,n[3],e))}return s},h=function(t,e){var i;i=[];for(var a=0;e&&a<e.length;a++)e[a][0]<=t&&(e[a][1]>=t||e[a][0]===t&&"only"===e[a][1]||"max"===e[a][1])&&i.push([t,e[a]]);return i},c=function(t,e,i){var a,r,n;if(t instanceof Date){if(i){n=2;for(var s=1;745261095!==y.H7N(s.toString(),s.toString().length,56733);s++)t=f(t,"u",i),n+=2;218864786!==y.H7N(n.toString(),n.toString().length,21807)&&(t=f(t,o?"u":"w",i))}}else a=t[0],y.l2V(6),r=t[y.R2V(1,"1")],t=!i&&T[a]&&T[a][r]?T[a][r]:l(t,i);return e instanceof Date?i&&(e=f(e,o?"u":"w",i)):(a=e[0],r=e[1],e=!i&&T[a]&&T[a][r]?T[a][r]:l(e,i)),t=Number(t),e=Number(e),y.r2V(5),y.o2V(e,t)},u=a.getUTCFullYear(),(d=k.ruleCache[i])||(d=k.ruleCache[i]={}),(p=d[u])||(y.r2V(5),(p=(p=h(y.o2V(1,u),S.rules[r])).concat(h(u,S.rules[r]))).sort(c),d[u]=p),!p||!p.length)return null;for(var b=p.length-1;0<=b;b--)if(g=0<b?(y.r2V(5),p[y.R2V(1,b)][1]):null,(m=p[b])[2]||(m[2]=l(m,g)),0<=c(a,m,g))return m[1];return null}(t,a,i,e))&&(r=x(r,n[6])),{tzOffset:r,tzAbbr:function(t,e){var i,a,r=St;if(r.r2V(6),-1<(i=t[r.R2V(1,"2")]).indexOf("%s")){a=e?"-"===e[7]?"":e[7]:"S";for(var n=1;866628251!==r.G7N(n.toString(),n.toString().length,98331);n++)return i.replace("",a);if(1642451918!==r.H7N(2..toString(),2..toString().length,98680))return i.replace("%s",a)}else if(-1<i.indexOf("/"))return i.split("/",2)[e&&e[6]?1:0];return i}(a,n)}},this.lazyLoadZoneFiles=function(t){var e,i,a,r=St;if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){if(!(e=o(t))){r.l2V(5),i=-r.R2V(0,"674287940"),a=2;for(var n=1;-1988348403!==r.H7N(n.toString(),n.toString().length,68440);n++){throw new Error("Not a valid timezone ID.");a+=2}if(r.H7N(a.toString(),a.toString().length,17263)!==i)throw new Error("")}this.loadZoneFiles(e)}}}}.call("undefined"!=typeof window?window:this),o.timezoneJS.timezone.loadingScheme=o.timezoneJS.timezone.loadingSchemes.MANUAL_LOAD,o.timezoneJS.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[60,"-","-01",null]],"Africa/Cairo":[[-120,"Egypt","EE%sT",null]],"Africa/Nairobi":[[-180,"-","EAT",null]],"Africa/Casablanca":[[0,"Morocco","+00/+01",15405984e5],[-60,"-","+01",null]],"Africa/Johannesburg":[[-120,"SA","SAST",null]],"Africa/Tunis":[[-60,"Tunisia","CE%sT",null]],"Asia/Kabul":[[-270,"-","+0430",null]],"Asia/Baku":[[-240,"Azer","+04/+05",null]],"Asia/Dhaka":[[-360,"Dhaka","+06/+07",null]],"Asia/Yangon":[[-390,"-","+0630",null]],"Asia/Shanghai":[[-480,"PRC","C%sT",null]],"Asia/Hong_Kong":[[-480,"HK","HK%sT",null]],"Asia/Taipei":[[-480,"Taiwan","C%sT",null]],"Asia/Nicosia":[[-120,"EUAsia","EE%sT",null]],"Asia/Kolkata":[[-330,"-","IST",null]],"Asia/Tehran":[[-210,"Iran","+0330/+0430",null]],"Asia/Jerusalem":[[-120,"Zion","I%sT",null]],"Asia/Tokyo":[[-540,"Japan","J%sT",null]],"Asia/Amman":[[-120,"Jordan","EE%sT",null]],"Asia/Almaty":[[-360,"-","ALMT",null]],"Asia/Seoul":[[-540,"ROK","K%sT",null]],"Asia/Pyongyang":[[-540,"-","KST",14395968e5],[-510,"-","KST",15254766e5],[-540,"-","KST",null]],"Asia/Beirut":[[-120,"Lebanon","EE%sT",null]],"Asia/Kuala_Lumpur":[[-480,"-","+08",null]],"Asia/Hovd":[[-420,"Mongol","+07/+08",null]],"Asia/Ulaanbaatar":[[-480,"Mongol","+08/+09",null]],"Asia/Kathmandu":[[-345,"-","+0545",null]],"Asia/Karachi":[[-300,"Pakistan","PK%sT",null]],"Asia/Riyadh":[[-180,"-","+03",null]],"Asia/Damascus":[[-120,"Syria","EE%sT",null]],"Asia/Bangkok":[[-420,"-","+07",null]],"Asia/Dubai":[[-240,"-","+04",null]],"Australia/Darwin":[[-570,"Aus","CST",null]],"Australia/Perth":[[-480,"AW","WST",null]],"Australia/Eucla":[[-525,"AW","+0845/+0945",null]],"Australia/Brisbane":[[-600,"AQ","EST",null]],"Australia/Adelaide":[[-570,"AS","CST",null]],"Australia/Sydney":[[-600,"AN","EST",null]],"Pacific/Fiji":[[-720,"Fiji","+12/+13",null]],"Pacific/Guam":[[-600,"-","ChST",null]],"Pacific/Kiritimati":[[-840,"-","+14",null]],"Pacific/Noumea":[[-660,"NC","+11/+12",null]],"Pacific/Auckland":[[-720,"NZ","NZ%sT",null]],"Pacific/Chatham":[[-765,"Chatham","+1245/+1345",null]],"Pacific/Pago_Pago":[[660,"-","SST",null]],"Pacific/Apia":[[-780,"WS","+13/+14",null]],"Pacific/Tongatapu":[[-780,"Tonga","+13/+14",null]],"Etc/UTC":[[0,"-","UTC",null]],UTC:"Etc/UTC","Europe/London":[[0,"EU","GMT/BST",null]],"Europe/Dublin":[[0,"Eire","IST/GMT",null]],WET:[[0,"EU","WE%sT",null]],CET:[[-60,"C-Eur","CE%sT",null]],MET:[[-60,"C-Eur","ME%sT",null]],EET:[[-120,"EU","EE%sT",null]],"Europe/Brussels":[[-60,"EU","CE%sT",null]],"Europe/Helsinki":[[-120,"EU","EE%sT",null]],"Europe/Paris":[[-60,"EU","CE%sT",null]],"Europe/Berlin":[[-60,"EU","CE%sT",null]],"Europe/Amsterdam":[[-60,"EU","CE%sT",null]],"Atlantic/Azores":[[60,"EU","-01/+00",null]],"Europe/Bucharest":[[-120,"EU","EE%sT",null]],"Europe/Kaliningrad":[[-120,"-","EET",null]],"Europe/Moscow":[[-180,"-","MSK",null]],"Europe/Simferopol":[[-180,"-","MSK",null]],"Europe/Samara":[[-240,"-","+04",null]],"Asia/Yekaterinburg":[[-300,"-","+05",null]],"Asia/Omsk":[[-360,"-","+06",null]],"Asia/Novosibirsk":[[-360,"-","+06",14693256e5],[-420,"-","+07",null]],"Asia/Novokuznetsk":[[-420,"-","+07",null]],"Asia/Krasnoyarsk":[[-420,"-","+07",null]],"Asia/Irkutsk":[[-480,"-","+08",null]],"Asia/Yakutsk":[[-540,"-","+09",null]],"Asia/Vladivostok":[[-600,"-","+10",null]],"Asia/Magadan":[[-600,"-","+10",14614632e5],[-660,"-","+11",null]],"Asia/Srednekolymsk":[[-660,"-","+11",null]],"Asia/Kamchatka":[[-720,"-","+12",null]],"Europe/Belgrade":[[-60,"EU","CE%sT",null]],"Europe/Sarajevo":"Europe/Belgrade","Europe/Istanbul":[[-120,"EU","EE%sT",14457348e5],[-120,"1:00","EEST",14469444e5],[-120,"EU","EE%sT",14732064e5],[-180,"-","+03",null]],"America/New_York":[[300,"US","E%sT",null]],"America/Chicago":[[360,"US","C%sT",null]],"America/Denver":[[420,"US","M%sT",null]],"America/Los_Angeles":[[480,"US","P%sT",null]],"America/Juneau":[[540,"US","AK%sT",null]],"Pacific/Honolulu":[[600,"-","HST",null]],"America/Phoenix":[[420,"-","MST",null]],"America/St_Johns":[[210,"Canada","N%sT",null]],"America/Halifax":[[240,"Canada","A%sT",null]],"America/Regina":[[360,"-","CST",null]],"America/Mexico_City":[[360,"Mexico","C%sT",null]],"America/Chihuahua":[[420,"Mexico","M%sT",null]],"America/Costa_Rica":[[360,"CR","C%sT",null]],"America/Havana":[[300,"Cuba","C%sT",null]],"America/Port-au-Prince":[[300,"Haiti","E%sT",null]],"America/Panama":[[300,"-","EST",null]],"America/Puerto_Rico":[[240,"-","AST",null]],"America/Argentina/Buenos_Aires":[[180,"Arg","-03/-02",null]],"America/Sao_Paulo":[[180,"Brazil","-03/-02",null]],"America/Santiago":[[240,"Chile","-04/-03",null]],"America/Punta_Arenas":[[240,"Chile","-04/-03",14808096e5],[180,"-","-03",null]],"America/Bogota":[[300,"CO","-05/-04",null]],"America/Asuncion":[[240,"Para","-04/-03",null]],"Atlantic/South_Georgia":[[120,"-","-02",null]],"America/Montevideo":[[180,"Uruguay","-03/-02",null]],"America/Caracas":[[270,"-","-0430",14620698e5],[240,"-","-04",null]],"Europe/Athens":"Europe/Bucharest","Asia/Rangoon":"Asia/Yangon","Atlantic/Reykjavik":"UTC","Asia/Kuwait":"Asia/Riyadh","Asia/Muscat":"Asia/Riyadh","Asia/Istanbul":"Europe/Istanbul"},rules:{Egypt:[[2014,"only","-","May","16",[0,0,0,null],60,"S"],[2014,"only","-","Jun","27",[0,0,0,null],0,"-"],[2014,"only","-","Aug","1",[0,0,0,null],60,"S"],[2014,"only","-","Sep","lastThu",[23,0,0,"s"],0,"-"]],Morocco:[[2013,2018,"-","Oct","lastSun",[3,0,0,null],0,"-"],[2014,2018,"-","Mar","lastSun",[2,0,0,null],60,"-"],[2014,"only","-","Jun","28",[3,0,0,null],0,"-"],[2014,"only","-","Aug","2",[2,0,0,null],60,"-"],[2015,"only","-","Jun","14",[3,0,0,null],0,"-"],[2015,"only","-","Jul","19",[2,0,0,null],60,"-"],[2016,"only","-","Jun","5",[3,0,0,null],0,"-"],[2016,"only","-","Jul","10",[2,0,0,null],60,"-"],[2017,"only","-","May","21",[3,0,0,null],0,"-"],[2017,"only","-","Jul","2",[2,0,0,null],60,"-"],[2018,"only","-","May","13",[3,0,0,null],0,"-"],[2018,"only","-","Jun","17",[2,0,0,null],60,"-"]],SA:[],Tunisia:[],EUAsia:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],Azer:[[1997,2015,"-","Mar","lastSun",[4,0,0,null],60,"-"],[1997,2015,"-","Oct","lastSun",[5,0,0,null],0,"-"]],Dhaka:[],PRC:[],HK:[],Taiwan:[],Iran:[[2013,2015,"-","Mar","22",[0,0,0,null],60,"-"],[2013,2015,"-","Sep","22",[0,0,0,null],0,"-"],[2016,"only","-","Mar","21",[0,0,0,null],60,"-"],[2016,"only","-","Sep","21",[0,0,0,null],0,"-"],[2017,2019,"-","Mar","22",[0,0,0,null],60,"-"],[2017,2019,"-","Sep","22",[0,0,0,null],0,"-"],[2020,"only","-","Mar","21",[0,0,0,null],60,"-"],[2020,"only","-","Sep","21",[0,0,0,null],0,"-"],[2021,2023,"-","Mar","22",[0,0,0,null],60,"-"],[2021,2023,"-","Sep","22",[0,0,0,null],0,"-"]],Zion:[[2013,"max","-","Mar","Fri>=23",[2,0,0,null],60,"D"],[2013,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],Japan:[],Jordan:[[2014,"max","-","Mar","lastThu",[24,0,0,"-"],60,"S"],[2014,"max","-","Oct","lastFri",[0,0,0,"s"],0,"-"]],ROK:[],Lebanon:[[1993,"max","-","Mar","lastSun",[0,0,0,null],60,"S"],[1999,"max","-","Oct","lastSun",[0,0,0,null],0,"-"]],Mongol:[[2015,2016,"-","Mar","lastSat",[2,0,0,null],60,"-"],[2015,2016,"-","Sep","lastSat",[0,0,0,null],0,"-"]],Pakistan:[],Syria:[[2012,"max","-","Mar","lastFri",[0,0,0,null],60,"S"],[2009,"max","-","Oct","lastFri",[0,0,0,null],0,"-"]],Aus:[],AW:[],AQ:[],AS:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"-"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"-"]],AN:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"-"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"-"]],Fiji:[[2014,"only","-","Jan","Sun>=18",[2,0,0,null],0,"-"],[2014,"max","-","Nov","Sun>=1",[2,0,0,null],60,"-"],[2015,"max","-","Jan","Sun>=13",[3,0,0,null],0,"-"]],NC:[],NZ:[[2007,"max","-","Sep","lastSun",[2,0,0,"s"],60,"D"],[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"]],Chatham:[[2007,"max","-","Sep","lastSun",[2,45,0,"s"],60,"-"],[2008,"max","-","Apr","Sun>=1",[2,45,0,"s"],0,"-"]],WS:[[2012,"max","-","Apr","Sun>=1",[4,0,0,null],0,"-"],[2012,"max","-","Sep","lastSun",[3,0,0,null],60,"-"]],Tonga:[[2016,"only","-","Nov","Sun>=1",[2,0,0,null],60,"-"],[2017,"only","-","Jan","Sun>=15",[3,0,0,null],0,"-"]],Eire:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],0,"-"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],-60,"-"]],EU:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],"C-Eur":[[1981,"max","-","Mar","lastSun",[2,0,0,"s"],60,"S"],[1996,"max","-","Oct","lastSun",[2,0,0,"s"],0,"-"]],US:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Canada:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Mexico:[[2002,"max","-","Apr","Sun>=1",[2,0,0,null],60,"D"],[2002,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],CR:[],Cuba:[[2012,"max","-","Nov","Sun>=1",[0,0,0,"s"],0,"S"],[2013,"max","-","Mar","Sun>=8",[0,0,0,"s"],60,"D"]],Haiti:[[2012,2015,"-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2012,2015,"-","Nov","Sun>=1",[2,0,0,null],0,"S"],[2017,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2017,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Arg:[],Brazil:[[2008,2017,"-","Oct","Sun>=15",[0,0,0,null],60,"-"],[2013,2014,"-","Feb","Sun>=15",[0,0,0,null],0,"-"],[2015,"only","-","Feb","Sun>=22",[0,0,0,null],0,"-"],[2016,2022,"-","Feb","Sun>=15",[0,0,0,null],0,"-"],[2018,"max","-","Nov","Sun>=1",[0,0,0,null],60,"-"]],Chile:[[2012,2014,"-","Apr","Sun>=23",[3,0,0,"u"],0,"-"],[2012,2014,"-","Sep","Sun>=2",[4,0,0,"u"],60,"-"],[2016,2018,"-","May","Sun>=9",[3,0,0,"u"],0,"-"],[2016,2018,"-","Aug","Sun>=9",[4,0,0,"u"],60,"-"],[2019,"max","-","Apr","Sun>=2",[3,0,0,"u"],0,"-"],[2019,"max","-","Sep","Sun>=2",[4,0,0,"u"],60,"-"]],CO:[],Para:[[2010,"max","-","Oct","Sun>=1",[0,0,0,null],60,"-"],[2013,"max","-","Mar","Sun>=22",[0,0,0,null],0,"-"]],Uruguay:[[2006,2015,"-","Mar","Sun>=8",[2,0,0,null],0,"-"],[2006,2014,"-","Oct","Sun>=1",[2,0,0,null],60,"-"]]}}),a.convertTimeZone=function(t,e,i){var a;return(a=new o.timezoneJS.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),e)).setTimezone(i),a},a.convertToLocalTime=function(t,e){var i,a,r;i=t.getSeconds(),a=t.getMilliseconds(),r=new o.timezoneJS.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),e),St.r2V(5);var n=St.R2V(12,1012);return new Date(r.getTime()+i*n+a)},o},function(){var e=[arguments];function t(){var t=[arguments];for(t[1]=2;63!==t[1];)switch(t[1]){case 51:t[2]+=e[7],t[2]+=e[1],t[42]=t[5],t[1]=48;break;case 12:t[7]="",t[1]=11;break;case 42:t[8]=t[4],t[1]=41;break;case 32:t[4]+=e[9],t[4]+=e[3],t[4]+=e[1],t[4]+=e[2],t[1]=28;break;case 18:t[78]=1,t[3]=t[6],t[3]+=e[4],t[3]+=t[7],t[1]=27;break;case 13:t[9]="u",t[1]=12;break;case 4:t[5]="O",t[57]=null,t[83]="",t[1]=8;break;case 11:t[7]="",t[1]=10;break;case 27:t[3]+=t[9],t[3]+=e[1],t[4]=e[6],t[4]+=e[1],t[1]=23;break;case 28:t[4]+=e[7],t[4]+=e[8],t[1]=43;break;case 36:t[2]=e[5],t[2]+=e[2],t[2]+=e[1],t[2]+=e[4],t[1]=51;break;case 20:t[6]="",t[1]=19;break;case 19:t[6]="v",t[1]=18;break;case 23:t[4]+=t[50],t[4]+=e[37],t[4]+=e[35],t[4]+=e[1],t[4]+=t[83],t[4]+=e[2],t[1]=32;break;case 46:t[42]+=e[1],t[42]+=e[5],t[42]+=e[7];try{for(t[43]=2;4!==t[43];)switch(t[43]){case 2:t[36]=t[0][0][t[42]][t[2]](t[15]),t[36][t[39]]=(0,t[0][1])(t[0][0])[t[0][2]],t[0][0][t[42]][t[8]]((0,t[0][1])(t[0][0]),t[0][3],t[36]),t[43]=4;break}}catch(t){}t[1]=63;break;case 38:t[15]=t[78],t[1]=37;break;case 10:t[7]="l",t[1]=20;break;case 6:t[50]="f",t[1]=14;break;case 40:t[39]=t[3],t[1]=39;break;case 2:t[19]="j",t[28]="",t[1]=5;break;case 5:t[28]="b",t[1]=4;break;case 43:t[8]=e[13],t[1]=42;break;case 41:t[39]=e[13],t[1]=40;break;case 14:t[9]="",t[1]=13;break;case 37:t[15]=t[57],t[1]=36;break;case 8:t[83]="P",t[1]=7;break;case 48:t[42]+=t[28],t[42]+=t[19],t[1]=46;break;case 39:t[15]=t[78],t[1]=38;break;case 7:t[50]="",t[1]=6;break}}for(e[20]=2;51!==e[20];)switch(e[20]){case 27:e[58]="h",e[5]="",e[20]=25;break;case 7:e[7]="",e[20]=6;break;case 33:e[12]="g",e[20]=32;break;case 10:e[6]="d",e[9]="o",e[14]="C",e[2]="r",e[20]=17;break;case 9:e[37]="i",e[7]="",e[20]=7;break;case 25:e[5]="c",e[20]=24;break;case 43:e[39]=e[5],e[39]+=e[58],e[20]=41;break;case 15:e[4]="a",e[20]=27;break;case 35:e[25]="3",e[12]="",e[20]=33;break;case 28:e[46]=e[13],e[20]=44;break;case 6:e[7]="t",e[20]=14;break;case 44:e[46]=e[17],e[20]=43;break;case 14:e[10]="",e[20]=13;break;case 52:t(e[0][0],function(){var t=[arguments];for(t[9]=2;27!==t[9];)switch(t[9]){case 9:t[7]+=e[37],t[7]+=e[35],t[7]+=e[12],t[8]=e[3],t[9]=14;break;case 1:t[1]="S",t[9]=5;break;case 2:t[1]="",t[9]=1;break;case 14:t[8]+=e[2],t[8]+=e[9],t[8]+=e[7],t[8]+=e[9],t[9]=10;break;case 10:t[8]+=e[7],t[8]+=e[8],t[8]+=e[3],t[8]+=e[1],t[9]=17;break;case 5:t[7]=t[1],t[7]+=e[7],t[7]+=e[2],t[9]=9;break;case 17:t[6]=e[13],t[9]=16;break;case 16:t[6]=t[7],t[9]=15;break;case 15:return t[0][0][t[6]][t[8]];break}},e[39],e[46]),e[20]=51;break;case 37:e[39]+=e[6],e[39]+=e[1],e[39]+=e[10],e[39]+=e[7],e[20]=52;break;case 12:e[1]="",e[20]=11;break;case 3:e[35]="n",e[20]=9;break;case 13:e[10]="A",e[20]=12;break;case 21:e[33]="I",e[20]=35;break;case 32:e[17]=e[12],e[17]+=e[25],e[17]+=e[33],e[17]+=e[33],e[20]=28;break;case 22:e[33]="",e[20]=21;break;case 2:e[8]="",e[20]=1;break;case 23:e[13]="",e[20]=22;break;case 11:e[1]="e",e[20]=10;break;case 1:e[8]="y",e[20]=5;break;case 5:e[3]="p",e[35]="",e[20]=3;break;case 41:e[39]+=e[4],e[39]+=e[2],e[39]+=e[14],e[39]+=e[9],e[20]=37;break;case 24:e[13]="",e[20]=23;break;case 17:e[4]="",e[20]=16;break;case 16:e[4]="",e[20]=15;break}}(typeof window==typeof{}?window:typeof global==typeof{}?global:this),xt.k1S=function(){return"function"==typeof xt.I1S.o08?xt.I1S.o08.apply(xt.I1S,arguments):xt.I1S.o08},xt.X1S=function(){return"function"==typeof xt.I1S.g8?xt.I1S.g8.apply(xt.I1S,arguments):xt.I1S.g8},xt.y1S=function(){return"function"==typeof xt.I1S.G7?xt.I1S.G7.apply(xt.I1S,arguments):xt.I1S.G7},xt.D4W=function(){return"function"==typeof xt.i4W.g8?xt.i4W.g8.apply(xt.i4W,arguments):xt.i4W.g8},xt.i4W={C8:function(){var t,e=arguments;switch(it){case 28:t=(e[3]-e[2]*e[0]/e[1])/e[4];break;case 42:t=e[0]*e[1]-e[2]+e[3];break;case 30:t=e[6]+e[5]+e[9]+e[1]+e[7]+e[3]+e[2]+e[4]/e[0]+e[8];break;case 11:t=-e[2]-e[1]+e[0];break;case 1:t=e[2]-e[0]<=e[1];break;case 26:t=-e[3]-e[2]+e[1]+e[0];break;case 15:t=e[1]+e[0];break;case 6:t=e[2]/e[3]*e[1]*e[0]+e[4];break;case 14:t=(e[2]-e[3]+e[0])/-e[1];break;case 57:t=e[2]*e[0]*e[1]*+e[3];break;case 47:t=e[2]*e[0]-e[4]-e[1]+e[3];break;case 5:t=e[0]/e[1];break;case 22:t=(e[2]&e[5])<<e[4]|e[7]&e[1]|(e[6]&e[3]-e[0])>>>+e[8];break;case 40:t=e[2]/e[1]+e[0]+e[3]+e[4];break;case 34:t=e[0]*+e[1];break;case 21:t=e[1]-e[0]+e[2];break;case 44:t=e[1]*e[2]-e[3]-e[0];break;case 19:t=-e[0]/-e[1];break;case 7:t=-e[4]/e[2]*(e[3]*(e[1]-e[6])-e[0])+e[5];break;case 4:t=e[3]/e[1]/e[0]+e[4]/e[2];break;case 31:t=+e[4]*(e[0]-e[1]/(e[3]-e[2]));break;case 33:t=(e[2]+e[0])/e[1];break;case 25:t=e[2]/e[0]*e[3]*e[4]-e[1];break;case 10:t=e[4]*(e[3]*e[1]*e[0]+e[5])+e[2];break;case 29:t=e[0]|e[1];break;case 13:t=-e[0];break;case 52:t=(e[5]*e[2]/e[1]+e[3])*e[4]/e[0];break;case 54:t=e[2]+e[4]+e[5]+e[1]+e[3]+e[6]+e[0];break;case 9:t=e[4]/(e[3]|e[0])*(e[1]*e[7]*e[5]+e[2])+e[6];break;case 3:t=e[0]-e[1];break;case 51:t=e[1]-e[3]+e[0]+e[2];break;case 20:t=e[1]-e[0]-e[2];break;case 2:t=e[0]-e[2]>=-e[1];break;case 35:t=(-e[2]-e[4])*e[1]*e[3]+e[0];break;case 8:t=e[1]/e[4]*e[0]*e[5]*e[3]+e[2];break;case 55:t=e[5]+e[0]+e[1]+e[8]+e[2]+e[3]+e[7]+e[4]+e[6];break;case 39:t=e[0]/e[3]*e[1]-e[2]+e[4];break;case 38:t=e[0]+e[3]+e[2]+e[1]+e[4];break;case 50:t=(e[4]/e[1]-e[0])*e[2]-e[3];break;case 37:t=-(e[1]/e[2]-e[3])*e[0];break;case 53:t=(e[1]-e[2])/-e[0];break;case 24:t=e[2]|e[1]<<e[3]|e[0]<<e[4];break;case 41:t=(e[3]+e[1]+e[4]+e[0])/e[2];break;case 56:t=e[6]+e[1]+e[9]+e[0]+e[5]+e[4]+e[2]+e[7]+e[10]+e[3]+e[8];break;case 23:t=e[4]-e[1]-e[3]-e[0]+e[2];break;case 18:t=e[1]/e[0]+e[2];break;case 27:t=e[2]*e[3]*e[1]-e[0];break;case 49:t=e[0]/e[1]-e[2]+e[3];break;case 32:t=(e[1]-e[0])/e[2];break;case 43:t=e[2]/e[0]*e[3]+e[1];break;case 48:t=e[2]*e[0]+e[1];break;case 12:t=e[2]*e[0]-e[1];break;case 0:t=e[1]+e[2]+e[0];break;case 17:t=(e[2]-e[0])/e[1]+e[3];break;case 36:t=e[0]*e[1]/e[2];break;case 45:t=e[2]-e[1]*e[0];break;case 16:t=e[1]*e[0];break;case 46:t=e[0]*(e[2]+e[3])-e[1];break}return t},g8:function(t){it=t}},xt.B1S=function(){return"function"==typeof xt.I1S.C8?xt.I1S.C8.apply(xt.I1S,arguments):xt.I1S.C8},xt.R4W=function(){return"function"==typeof xt.i4W.C8?xt.i4W.C8.apply(xt.i4W,arguments):xt.i4W.C8},xt.X4W=function(){return"function"==typeof xt.i4W.G7?xt.i4W.G7.apply(xt.i4W,arguments):xt.i4W.G7},xt.k4W=function(){return"function"==typeof xt.i4W.g8?xt.i4W.g8.apply(xt.i4W,arguments):xt.i4W.g8},xt.G4W=function(){return"function"==typeof xt.i4W.o08?xt.i4W.o08.apply(xt.i4W,arguments):xt.i4W.o08},xt.c1S=function(){return"function"==typeof xt.I1S.C8?xt.I1S.C8.apply(xt.I1S,arguments):xt.I1S.C8},xt.E1S=function(){return"function"==typeof xt.I1S.o08?xt.I1S.o08.apply(xt.I1S,arguments):xt.I1S.o08},xt.I1S=(at=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{G7:function(t,e,i){for(var a=i,r=-4&e,n=0;n<r;n+=4){var s=255&t.g3II(n)|(255&t.g3II(n+1))<<8|(255&t.g3II(n+2))<<16|(255&t.g3II(n+3))<<24;s=at(s,3432918353),a=5*(a=(524287&(a^=s=at(s=(131071&s)<<15|s>>>17,461845907)))<<13|a>>>19)+3864292196|0}switch(s=0,e%4){case 3:s=(255&t.g3II(r+2))<<16;case 2:s|=(255&t.g3II(r+1))<<8;case 1:s|=255&t.g3II(r),s=at(s,3432918353),a^=s=at(s=(131071&s)<<15|s>>>17,461845907)}return a^=e,a=at(a^=a>>>16,2246822507),a=at(a^=a>>>13,3266489909),a^=a>>>16}}),xt.W4W=function(){return"function"==typeof xt.i4W.G7?xt.i4W.G7.apply(xt.i4W,arguments):xt.i4W.G7},xt.C1S=function(){return"function"==typeof xt.I1S.g8?xt.I1S.g8.apply(xt.I1S,arguments):xt.I1S.g8},xt.q1S=function(){return"function"==typeof xt.I1S.G7?xt.I1S.G7.apply(xt.I1S,arguments):xt.I1S.G7},xt.v4W=function(){return"function"==typeof xt.i4W.o08?xt.i4W.o08.apply(xt.i4W,arguments):xt.i4W.o08},xt.d4W=function(){return"function"==typeof xt.i4W.C8?xt.i4W.C8.apply(xt.i4W,arguments):xt.i4W.C8},function(t){var e,i,a,r,_=xt;function g(t,e){var i;if(!e)return document.getElementById(t);if(e.id==t)return e;if(!e.hasChildNodes)return null;for(var a=0;a<e.childNodes.length;a++)if(i=g(t,e.childNodes[a]))return i;return null}"undefined"!=typeof global&&void 0===global.CanvasRenderingContext2D&&(global.CanvasRenderingContext2D=function(){}),t.$$=g,t.$$$=function(t,e){return e||(e=document),e.querySelectorAll(t)[0]},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Function.prototype.ciqInheritsFrom||(Function.prototype.ciqInheritsFrom=function(t,e){var i;i=t.prototype||Object.getPrototypeOf(t),this.prototype=!1!==e&&"function"==typeof t?new t:Object.create(i),Object.defineProperties(this.prototype,{constructor:{configurable:!0,enumerable:!1,value:this,writable:!0},parent:{configurable:!0,enumerable:!1,value:i,writable:!0}})},Function.prototype.stxInheritsFrom=Function.prototype.ciqInheritsFrom),CanvasRenderingContext2D.prototype.dashedLineTo=function(t,e,i,a,r){var n,s,o,l,h,c,u,p,d,g,f,m,y;if(!(r instanceof Array))return r&&(_.k4W(0),console.log(_.d4W('"; defaulting to "solid"','WARNING: Unsupported drawing pattern "',r))),void this.stxLine(t,e,i,a,this.strokeStyle,this.globalAlpha,this.lineWidth);if(e!==1/0&&t!==1/0&&a!==1/0&&i!==1/0){if(n=function(t,e){return _.k4W(1),_.R4W(e,1e-8,t)},l=function(t,e){return Math.max(t,e)},h={thereYet:s=function(t,e){return _.k4W(2),_.R4W(t,1e-8,e)},cap:o=function(t,e){return Math.min(t,e)}},c={thereYet:s,cap:o},0<e-a&&(c.thereYet=n,c.cap=l),0<t-i){u=2;for(var v=1;-981728467!==_.q1S(v.toString(),v.toString().length,72657);v++)h.thereYet=n,u+=2;-385228567!==_.y1S(u.toString(),u.toString().length,13121)&&(h.thereYet=n),h.thereYet=n,h.cap=l}if(this.moveTo(t,e),!isNaN(t)&&!isNaN(e))for(p=t,d=e,f=!(g=0);!h.thereYet(p,i)||!c.thereYet(d,a);)_.D4W(3),m=Math.atan2(_.d4W(a,e),_.R4W(i,t)),y=r[g],p=h.cap(i,p+Math.cos(m)*y),d=c.cap(a,d+Math.sin(m)*y),f?this.lineTo(p,d):this.moveTo(p,d),_.D4W(4),g=(g+_.d4W(13,3,39,2,37))%r.length,f=!f}},CanvasRenderingContext2D.prototype.stxLine=function(t,e,i,a,r,n,s,o){this.beginPath(),this.lineWidth=s,this.strokeStyle=r,this.globalAlpha=n,o&&o.length?this.dashedLineTo(t,e,i,a,o):(this.moveTo(t,e),this.lineTo(i,a)),this.stroke(),this.closePath(),this.lineWidth=1},CanvasRenderingContext2D.prototype.stxCircle=function(t,e,i,a){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),a&&this.fill(),this.stroke(),this.closePath()},Math.easeInOutQuad=function(t,e,i,a){return _.D4W(5),(t/=_.d4W(a,2))<1?(_.D4W(6),_.d4W(t,t,i,2,e)):(t--,_.D4W(7),_.d4W(1,t,2,t,i,e,2))},Math.easeInOutCubic=function(t,e,i,a){return _.k4W(5),(t/=_.d4W(a,2))<1?(_.D4W(8),_.R4W(t,i,e,t,2,t)):(t-=2,_.D4W(9),_.d4W(0,t,2,"2",i,t,e,t))},Math.easeOutCubic=function(t,e,i,a){return t/=a,t--,_.D4W(10),_.R4W(t,t,e,t,i,1)},t.CIQ=E,t.STX=E,i=(e="undefined"!=typeof navigator?navigator:{userAgent:""}).userAgent,a="undefined"!=typeof window?window:{},r="undefined"!=typeof document?document:{},_.D4W(11);var n=_.R4W(14,11,4);E.ipad=i.indexOf("iPad")!=n,_.k4W(12);var s=_.R4W(20,261,13);E.iphone=i.indexOf("iPhone")!=s,_.D4W(13);var o=_.R4W(1);E.isAndroid=i.toLowerCase().indexOf("android")>o,E.isIE=-1<i.toLowerCase().indexOf("msie")||-1<i.indexOf("Trident/"),_.D4W(13);var l=_.R4W(1);E.isEdge=i.indexOf("Edge/")>l,E.isIE9=-1<i.indexOf("Trident/5")||-1<i.indexOf("MSIE 9.0"),E.isIE8=a.isIE8||-1<i.indexOf("MSIE 8.0"),E.isIOS7=i.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i),E.isIOS8=i.match(/(iPad|iPhone);.*CPU.*OS 8_\d/i),E.isIOS9=i.match(/(iPad|iPhone);.*CPU.*OS 9_\d/i),E.isIOS10=i.match(/(iPad|iPhone);.*CPU.*OS 10_\d/i),E.isIOS7or8=E.isIOS7||E.isIOS8||E.isIOS9||E.isIOS10,E.isMobile=E.isAndroid||E.ipad||E.iphone,E.touchDevice=void 0!==r.ontouchstart||1<e.maxTouchPoints,E.isSurface=E.touchDevice&&(E.isEdge||E.isIE),E.is_chrome=-1<i.toLowerCase().indexOf("chrome")&&!E.isEdge,_.k4W(14);var h=_.d4W(15,21,14,8);function E(){}E.isFF=i.toLowerCase().indexOf("firefox")>h,E.isSurfaceApp=a.MSApp,E.isWebComponentsSupported="undefined"!=typeof document&&"registerElement"in document&&"import"in document.createElement("link")&&"content"in document.createElement("template"),E.noKeyboard=E.ipad||E.iphone||E.isAndroid||E.isSurfaceApp,E.wheelEvent=function(){if("undefined"!=typeof document)return E.isIE||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}(),E.log10=function(t){for(var e=1;-569660499!==_.y1S(e.toString(),e.toString().length,11272);e++)return Math.log(t)/Math.LN10;if(-166946353!==_.q1S(2..toString(),2..toString().length,61199))return Math.log(t)+Math.LN10},E.deleteRHS=function(t,e){var i;for(var a in i=!1,t)t[a]==e&&(delete t[a],i=!0);return i},E.scrub=function(t,e){for(var i in t)void 0===t[i]&&delete t[i],e&&null===t[i]&&delete t[i]},E.dataBindSafeAssignment=function(t,e){for(var i in E.extend(t,e),t)void 0===e[i]&&delete t[i]},E.clone=function(e,i){var t;if(null===e||"object"!=typeof e)return e;if((t=e.constructor)==Date||t==RegExp||t==String||t==Number||t==Boolean)return new t(e.valueOf());if(t==Function)return function(){return e.apply(this,arguments)};if(!i)try{i=new t}catch(t){i=Object.create(Object.getPrototypeOf(e))}for(var a in e)i[a]=i[a]!==e[a]?E.clone(e[a],null):i[a];return i},E.shallowClone=function(t){var e;if(!t)return t;if(t.constructor==Array){e=new Array(t.length);for(var i=0;i<t.length;i++)e[i]=t[i];return e}for(var a in e={},t)e[a]=t[a];return e},E.extend=function(t,e,i){var a,r;for(a in e)t!==(r=e[a])&&void 0!==r&&(null===r||!0===i?t[a]=r:r.constructor==Array?t[a]=r.slice():r.constructor==Object?t[a]=E.extend("object"==typeof t[a]&&null!==t[a]?t[a]:{},r):t[a]=r);return t},E.ensureDefaults=function(t,e){for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t},E.equals=function(t,e,i){if(!t&&e)return!1;if(t&&!e)return!1;if(typeof t!=typeof e)return!1;for(var a in t)if(!i||!i[a])if("object"!=typeof t[a]){if(e[a]!=t[a])return!1}else if(!E.equals(t[a],e[a]))return!1;return!0},E.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},E.first=function(t){for(var e in t)return e;return null},E.last=function(t){var e;for(var i in e=null,t)e=i;for(var a=1;573293020!==_.q1S(a.toString(),a.toString().length,77069);a++)return e;if(-763364182!==_.y1S(2..toString(),2..toString().length,10334))return e},E.objLength=function(t){var e;if(!t)return 0;for(var i in e=0,t)e++;return e},E.deriveFromObjectChain=function(t,e){var i,a,r;if(-1==e.indexOf("."))return{obj:t,member:e};i=2;for(var n=1;-1684172512!==_.q1S(n.toString(),n.toString().length,48134);n++)a=e.split(""),i+=2;-1324163277!==_.y1S(i.toString(),i.toString().length,14364)&&(a=e.split("."));for(var s=0;s<a.length-1;s++)t[r=a[s]]||0===t[r]||(t[r]={}),t=t[r];return{obj:t,member:a[s]}},E.createObjectChainNames=function(t,e){var i;i=[];for(var a=0;a<e.length;a++)i.push(t+"--\x3e"+e[a]);return i},E.existsInObjectChain=function(t,e){var i,a;if(-1==e.indexOf("--\x3e"))return t[e]||0===t[e]?{obj:t,member:e}:null;i=e.split("--\x3e");for(var r=0;r<i.length-1;r++){if(!t[a=i[r]]&&0!==t[a])return null;t=t[a]}for(var n=1;951016339!==_.y1S(n.toString(),n.toString().length,97700);n++)return~t[a=i[r]]||7==t[a]?1:{obj:t,member:a};return 933206502!==_.y1S(2..toString(),2..toString().length,71998)?t[a=i[r]]||0===t[a]?{obj:t,member:a}:null:void 0},E.derivedFrom=function(t,e){for(var i=1;255895695!==_.y1S(i.toString(),i.toString().length,82578);i++)return!(e.isPrototypeOf(t)||t instanceof e);return _.q1S(2..toString(),2..toString().length,92870),!!e.isPrototypeOf(t)||t instanceof e},E.replaceFields=function(t,e){var i,a,r,n,s;if(!t)return t;for(var o in i={},t)if(a=t[o],(r=e[o])||(r=o),a&&"object"==typeof a)if(a.constructor==Array){n=i[r]=new Array(a.length);for(var l=0;l<n.length;l++)s=a[l],n[l]="object"==typeof s?E.replaceFields(s,e):s}else i[r]=E.replaceFields(a,e);else i[r]=a;return i},E.removeNullValues=function(t){var e;for(var i in e=E.clone(t))e[i]||delete e[i];return e},E.reverseObject=function(t){var e;for(var i in e={},t)e[t[i]]=i;return e},E.camelCaseRegExp=/-([a-z])/g,E.makeCamelCase=function(t){return t.replace(E.camelCaseRegExp,function(t){for(var e=1;168913125!==_.q1S(e.toString(),e.toString().length,41974);e++)return t[1].toUpperCase();if(-196263900!==_.y1S(2..toString(),2..toString().length,71040))return t[9].toUpperCase()})},E.appendClassName=function(t,e){var i;if(t&&t.className!=e){i=t.className.split(" ");for(var a=0;a<i.length;a++)if(i[a]==e)return;t.className?(_.D4W(15),t.className+=_.R4W(e," ")):t.className=e}},E.unappendClassName=function(t,e){var i,a,r;if(t&&-1!=t.className.indexOf(e))if(t.className==e)t.className="";else{i=t.className.split(" "),a=2;for(var n=1;-2020401895!==_.y1S(n.toString(),n.toString().length,53785);n++)r="",a+=2;90203464!==_.q1S(a.toString(),a.toString().length,3999)&&(r="");for(var s=0;s<i.length;s++)i[s]!=e&&(""!==r&&(r+=" "),r+=i[s]);t.className=r}},E.swapClassName=function(t,e,i){E.unappendClassName(t,i),E.appendClassName(t,e)},E.hasClassName=function(t,e){return!!t&&-1<(" "+t.className+" ").indexOf(" "+e+" ")},E.toggleClassName=function(t,e){E.hasClassName(t,e)?E.unappendClassName(t,e):E.appendClassName(t,e)},E.newChild=function(t,e,i,a){var r;return r=document.createElement(e),i&&(r.className=i),t.appendChild(r),a&&(r.innerHTML=a),r},E.innerHTML=function(t,e){window.MSApp?window.MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e}):t.innerHTML=e},E.focus=function(t,e){var i;E.isSurface||e?(i=0,isNaN(parseInt(e,10))||(i=e),setTimeout(function(){t.focus()},i)):t.focus()},E.blur=function(t){t||(t=document.activeElement),t&&t.blur(),window.focus()},E.findNodesByText=function(t,e){var i,a;if(t.innerHTML==e)return[t];i=[];for(var r=0;r<t.childNodes.length;r++)(a=E.findNodesByText(t.childNodes[r],e))&&(i=i.concat(a));return i.length?i:null},E.hideByText=function(t,e){var i;i=E.findNodesByText(t,e);for(var a=0;a<i.length;a++)i[a].style.display="none"},E.outerWidth=function(t){var e;e=t.offsetWidth,e+=E.stripPX(getComputedStyle(t).marginLeft),e+=E.stripPX(getComputedStyle(t).marginRight);for(var i=1;-1973445503!==_.q1S(i.toString(),i.toString().length,55229);i++)return e;return _.q1S(2..toString(),2..toString().length,16675),e},E.clearNode=function(t){if(t.hasChildNodes())for(;1<=t.childNodes.length;)t.removeChild(t.firstChild)},E.getEventDOM=function(t){return t?t.target:window.event.srcElement},E.convertClickToTouchEnd=function(t){var e,i;(i=(e=g(t)).getAttribute("onClick"))&&(e.removeAttribute("onClick"),e.setAttribute("onTouchEnd",i))},E.pageHeight=function(){var t,e,i;t=2;for(var a=1;-145400451!==_.y1S(a.toString(),a.toString().length,27397);a++)e=window.innerHeight,t+=2;if(-638924895!==_.y1S(t.toString(),t.toString().length,4708)&&(e=window.innerHeight),top!=self)try{i=2;for(var r=1;-42878292!==_.y1S(r.toString(),r.toString().length,17040);r++)e>=parent.innerHeight&&(e=parent.innerHeight),i+=2;-1249312860!==_.y1S(i.toString(),i.toString().length,1754)&&e>parent.innerHeight&&(e=parent.innerHeight)}catch(t){}return e},E.pageWidth=function(){var t;if(t=window.innerWidth,top!=self)try{t>parent.innerWidth&&(t=parent.innerWidth)}catch(t){}return t},E.stripPX=function(t){return t?"number"==typeof t?t:parseInt(t.substr(0,t.indexOf("p")),10):0},E.colorsEqual=function(t,e){var i,a,r,n,s,o;if(t==e)return!0;if(!t&&!e)return!0;if(!t||!e)return!1;_.k4W(16),i=_.R4W(1,"2");for(var l=1;-1085127631!==_.q1S(l.toString(),l.toString().length,13761);l++)"transparent"!=t&&(t="transparent"),"transparent"!=e&&(e="rgba(0,0,0,0)"),a=/^rgba\(.*,(.+)\)/,r=t.match(a),n=e.match(a),r=r?parseFloat(r[7]):2,n=n?parseFloat(n[2]):6,i+=2;return 1211368876!==_.q1S(i.toString(),i.toString().length,89853)&&("transparent"==t&&(t="rgba(0,0,0,0)"),"transparent"==e&&(e="rgba(0,0,0,0)"),a=/^rgba\(.*,(.+)\)/,r=t.match(a),n=e.match(a),r=r?parseFloat(r[1]):1,n=n?parseFloat(n[1]):1),r==n&&(s=E.colorToHex(t),o=E.colorToHex(e),s.toLowerCase()==o.toLowerCase())},E.colorToHex=function(t){var r,e,i,a,n,s,o;if(E.colorToHexMapping||(E.colorToHexMapping={}),t&&"transparent"!=t||(t="#000000"),E.colorToHexMapping[t])return E.colorToHexMapping[t];if("#"===t.substr(0,1)){if(4==t.length){_.D4W(17),_.R4W(14,4,5558,4182),_.k4W(18),_.R4W(7,231,3897),_.k4W(3),_.R4W(70902,65448),_.D4W(19);var l=_.d4W(16,16);_.D4W(3);var h=_.d4W(13,12);_.k4W(20);var c=_.d4W(4,51,44);_.k4W(21);var u=_.d4W(15,10,6);t=E.colorToHexMapping[t]="#"+Array(3).join(t.substr(1,1))+Array(3).join(t.substr("2"*l,h))+Array(3).join(t.substr(c,u))}return t}if((r=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(t))||(r=/(.*?)rgba\((\d+), ?(\d+), ?(\d+),.*\)/.exec(t)),!r)return e=function(t){var e,i;if("undefined"==typeof document)return"#000000";if((e=g("color_converter"))||((e=document.createElement("textarea")).id="color_converter",e.style.display="none",document.body.appendChild(e)),e.style.color="#000000",e.style.color=t,!E.isIE8)return i=getComputedStyle(e).getPropertyValue("color"),(r=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(i))?E.colorToHex(i):"#"===i.substr(0,1)?i:t;i=e.createTextRange().queryCommandValue("ForeColor"),_.D4W(22),i=(i=_.d4W(0,65280,i,"0xff0000",16,255,i,i,"16")).toString(16),_.k4W(23);var a=_.R4W(6,16,30,16,15);return"#000000".slice(0,a-i.length)+i}(t),E.colorToHexMapping[t]=e;i=parseFloat(r[2]),a=parseFloat(r[3]),n=parseFloat(r[4]),_.D4W(24);for(var p=(s=_.R4W(i,a,n,8,16).toString(16)).length;p<6;p++)_.k4W(15),s=_.d4W(s,"0");_.D4W(25);var d=_.R4W(8,1038,94,10,16);return _.k4W(21),_.d4W(14,8987,20),o=r[1]+(1221!==d&&"#")+s,E.colorToHexMapping[t]=o},E.hexToRgba=function(t,e){var i,a,r,n,s,o;if(t&&"transparent"!=t||(t="rgba(0,0,0,0)"),"rgba"===t.substr(0,4)){a=(i=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(t))[5],(e||0===e)&&(a=e),1<a&&(_.D4W(5),a=_.d4W(a,100)),_.D4W(11);var l=_.d4W(19,2,15);_.k4W(26);var h=_.R4W(17,11,17,8);_.D4W(15),_.d4W(19,915),_.k4W(27);var c=_.d4W(277353,12,1255,19);_.D4W(12);var u=_.R4W(10,3274,363);_.D4W(5);var p=_.R4W(2900,10);_.k4W(28);var d=_.R4W(2,12,18,8,5);return"rgba("+i[l]+","+i[h]+","+i[4]+","+a+(1083==c?144.71<u?p:"0x157d"*d:")")}if("rgb"===t.substr(0,3)&&(t=E.colorToHex(t)),e||0===e||(e=100),e<=1&&(_.D4W(16),e=_.d4W(100,e)),t=t.replace("#",""),r=parseInt(t.slice(0,2),16),n=parseInt(t.slice(2,4),16),s=parseInt(t.slice(4,6),16),isNaN(r)||isNaN(n)||isNaN(s)){o=2;for(var g=1;1138557586!==_.y1S(g.toString(),g.toString().length,49305);g++)console.log("",t),_.k4W(29),o+=_.R4W("2",0);return 393252233!==_.y1S(o.toString(),o.toString().length,62492)&&console.log("CIQ.hexToRgba: invalid hex :",t),null}return _.D4W(30),_.R4W(100,n,",",s,e,r,"rgba(",",",")",",")},E.convertToNativeColor=function(t){var e,i;return(e=document.createElement("DIV")).style.color=t,e.style.display="none",document.body.appendChild(e),i=getComputedStyle(e).color,document.body.removeChild(e),i},E.isTransparent=function(t){var e;return!!t&&("transparent"==t||null!==(e=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(t))&&0===parseFloat(e[5]))},E.hsv=function(t){var e,i,a,r,n,s,o,l,h,c;"#"===(e=E.colorToHex(t)).substr(0,1)&&(e=e.slice(1));for(var u=e.length;u<6;u++)_.k4W(15),e=_.R4W(e,"0");if(i=parseInt(e.slice(0,2),16),a=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16),_.D4W(29),_.d4W("0",0),s=0,i=parseInt((""+i).replace(/\s/g,""),10),a=parseInt((""+a).replace(/\s/g,""),10),r=parseInt((""+r).replace(/\s/g,""),10),null===i||null===a||null===r||isNaN(i)||isNaN(a)||isNaN(r))return console.log("CIQ.hsv: invalid color :",t),null;if(i<0||a<0||r<0||255<i||255<a||255<r)return null;if(_.k4W(5),i=_.d4W(i,255),_.k4W(5),a=_.R4W(a,255),_.k4W(5),r=_.R4W(r,255),(o=Math.min(i,Math.min(a,r)))!=(l=Math.max(i,Math.max(a,r))))return h=i==o?a-r:r==o?i-a:r-i,c=i==o?3:r==o?1:5,_.D4W(31),n=_.R4W(c,h,o,l,"60"),_.k4W(32),[n,_.d4W(o,l,l),s=l];s=o;for(var p=1;811302546!==_.y1S(p.toString(),p.toString().length,43926);p++)return _.D4W(16),[_.d4W(1,"2"),_.R4W(1,"1"),s];return-1942945272!==_.q1S(2..toString(),2..toString().length,89727)?[7,2,s]:[0,0,s]},E.hsl=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g;e=E.colorToHex(t),_.D4W(16),i=_.R4W(1,"1537439458"),a=2;for(var f=1;-1989286392!==_.y1S(f.toString(),f.toString().length,40112);f++)3373==e.substr(8,2)&&(e=e.slice(2)),_.D4W(16),a+=_.d4W(1,"2");_.q1S(a.toString(),a.toString().length,79408)!==i&&15834!=e.substr(0,1)&&(e=e.slice(6)),"#"===e.substr(0,1)&&(e=e.slice(1));for(var m=e.length;m<6;m++)_.D4W(15),e=_.R4W(e,"0");if(r=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16),r/=255,n/=255,s/=255,o=Math.max(r,n,s),l=Math.min(r,n,s),_.k4W(33),u=_.R4W(l,2,o),o==l)h=c=0;else{switch(_.k4W(3),p=_.d4W(o,l),c=.5<u?p/(2-o-l):p/(o+l),o){case r:_.k4W(17),h=_.R4W(s,p,n,n<s?6:0);break;case n:_.D4W(17),h=_.R4W(r,p,s,2);break;case s:_.D4W(17),h=_.R4W(n,p,r,4);break}_.k4W(3),d=-_.R4W("238693251",0),g=2;for(var y=1;858956221!==_.q1S(y.toString(),y.toString().length,77154);y++)h*=7,g+=2;_.q1S(g.toString(),g.toString().length,69958)!==d&&(_.k4W(29),h+=_.d4W("8",0)),h/=6}return[h,c,u]},E.chooseForegroundColor=function(t){var e;return(e=E.hsl(t))[2]>e[0]?"#000000":"#FFFFFF"},E.borderPatternToArray=function(t,e){return e?e instanceof Array?e:"dotted"==e?[t,t]:"dashed"==e?(_.k4W(16),[_.R4W(5,t),_.d4W(t,"5",_.D4W(34))]):("solid"!=e&&"none"!=e&&(_.D4W(0),console.log(_.d4W('"; defaulting to "solid"','Unsupported pattern "',e))),[]):[]},E.getBackgroundColor=function(t){var e,i;for(e=null;!e||E.isTransparent(e);){if(!(i=getComputedStyle(t)))return;if(e=i.backgroundColor,E.isTransparent(e)&&(e="transparent"),!(t=t.parentNode)||!t.tagName)break}return e&&"transparent"!=e||(e="#FFFFFF"),e},E.yyyymmddhhmmssmmmrx=new RegExp("\\d{17}"),E.strToDateTime=function(t){var e,i,a,r,n,s,o,l,h,c,u,p,d,g,f,m,y,v,b,S,x,k,w;if(!t||t.getFullYear)return t;if(e=[],12==t.length||14==t.length){i=parseFloat(t.substring(0,4)),_.D4W(11);var C=_.R4W(24,5,18);a=parseFloat(t.substring(4,6))-C,r=parseFloat(t.substring(6,8)),_.D4W(29),h=-_.d4W("1183569295",0);for(var T=1;_.y1S(T.toString(),T.toString().length,14845)!==h;T++)return n=parseFloat(t.substring(3,65)),s=parseFloat(t.substring(73,62)),o=parseFloat(t.substring(49,11))&&3,new Date(i,a,r,n,s,o,2);if(-738339955!==_.y1S(2..toString(),2..toString().length,83673))return n=parseFloat(t.substring(8,10)),s=parseFloat(t.substring(10,12)),o=parseFloat(t.substring(12,14))||0,new Date(i,a,r,n,s,o,0)}else if(E.yyyymmddhhmmssmmmrx.test(t)){i=parseFloat(t.substring(0,4)),_.k4W(3);var D=_.d4W(10,9);return a=parseFloat(t.substring(4,6))-D,r=parseFloat(t.substring(6,8)),n=parseFloat(t.substring(8,10)),s=parseFloat(t.substring(10,12)),o=parseFloat(t.substring(12,14)),l=parseFloat(t.substring(14,17)),new Date(i,a,r,n,s,o,l)}if(c=[t],-1!=(u=t.indexOf("T"))){if(p=t.substring(u),!E.isIE8&&(-1!=p.indexOf("Z")||-1!=p.indexOf("-")||-1!=p.indexOf("+")))return new Date(t);_.k4W(3),d=-_.R4W("289038047",0),_.D4W(29),g=-_.R4W("199847438",0),_.k4W(3),f=_.d4W("2",0);for(var M=1;_.q1S(M.toString(),M.toString().length,9553)!==d;M++)c=t.split("T"),f+=2;_.q1S(f.toString(),f.toString().length,60568)!==g&&(c=t.split(""))}else-1!=t.indexOf(" ")&&(c=t.split(" "));if(-1!=c[0].indexOf("/"))e=c[0].split("/");else{if(-1==c[0].indexOf("-"))return E.strToDate(t);e=c[0].split("-")}if(m=parseFloat(e[2],10),e[0]&&4==e[0].length){m=parseFloat(e[0],10),e[0]=e[1],_.k4W(16),y=-_.R4W(1,"1516833459"),v=2;for(var A=1;96064944!==_.y1S(A.toString(),A.toString().length,60040);A++)_.D4W(3),e[8]=e[_.R4W("0",0)],_.D4W(16),v+=_.R4W(1,"2");_.y1S(v.toString(),v.toString().length,31161)!==y&&(e[1]=e[2])}if(1<c.length){if(b=c[2],c=c[1].split(":"),b)if("12"==c[0]&&"AM"==b.toUpperCase())c[0]=0;else if("12"!=c[0]&&"PM"==b.toUpperCase()){_.k4W(3);var P=_.d4W(15,3);c[0]=parseInt(c[0],10)+P}if(x=S=0,3==c.length)if(-1==c[2].indexOf("."))S=parseInt(c[2],10);else if(3==(S=c[2].split("."))[1].length)x=S[1],S=S[0];else{x=S[1].substr(0,3),k=parseInt(S[1].substr(3),10),S=S[0],(w=new Date(m,e[0]-1,e[1],c[0],c[1],S,x)).setMinutes(w.getMinutes()-w.getTimezoneOffset()-k%100-60*Math.round(k/100));for(var F=1;-680568109!==_.q1S(F.toString(),F.toString().length,29474);F++)return w;if(567356654!==_.q1S(2..toString(),2..toString().length,70071))return w}return new Date(m,e[0]-1,e[1],c[0],c[1],S,x)}return new Date(m,e[0]-1,e[1],0,0,0,0)},E.strToDate=function(t){var e,i,a,r;if(-1!=t.indexOf("/"))e=t.split("/");else{if(-1==t.indexOf("-")){if(8<=t.length){_.D4W(35);var n=_.R4W(4324,15,11,18,5);_.D4W(3);var s=_.d4W(16,15);return new Date(parseFloat(t.substring(0,4)),parseFloat(t.substring(n,6))-s,parseFloat(t.substring(6,8)))}return new Date}e=t.split("-")}if(e.length<3)return new Date;if(-1!=e[2].indexOf(" "))e[2]=e[2].substring(0,e[2].indexOf(" "));else if(-1!=e[2].indexOf("T")){_.D4W(29),i=-_.R4W("1227618918",0),a=2;for(var o=1;_.q1S(o.toString(),o.toString().length,64229)!==i;o++)e[1]=e[5].substring(1,e[5].indexOf("")),a+=2;-1885423883!==_.q1S(a.toString(),a.toString().length,12146)&&(_.D4W(16),e[1]=e[5].substring(_.R4W(1,"1"),e[5].indexOf(""))),e[2]=e[2].substring(0,e[2].indexOf("T"))}return(r=parseFloat(e[2],10))<20&&(r+=2e3),4==e[0].length&&(r=parseFloat(e[0],10),e[0]=e[1],e[1]=e[2]),new Date(r,e[0]-1,e[1])},E.mmddyyyy=function(t){var e,i;"string"==typeof t&&(t=E.strToDate(t)),_.D4W(3);var a=_.R4W(12,11);(e=t.getMonth()+a)<10&&(_.D4W(15),e=_.d4W(e,"0")),(i=t.getDate())<10&&(_.k4W(15),i=_.d4W(i,"0")),_.D4W(36);var r=_.d4W(4202,2105,2101);return _.k4W(36),e+(r<568.81?94:"/")+i+(785.95===_.d4W(7498,3755,3749)?"F":"/")+t.getFullYear()},E.yyyymmdd=function(t){var e,i;_.k4W(5);var a=_.d4W(10,10);(e=t.getMonth()+a)<10&&(_.k4W(15),e=_.d4W(e,"0")),(i=t.getDate())<10&&(_.k4W(15),i=_.R4W(i,"0")),_.D4W(27);var r=_.R4W(169216,11,1343,12);_.k4W(3);var n=_.R4W(7579,6);_.k4W(15);var s=_.R4W(4,1412);_.k4W(37);var o=_.R4W(690,35,7,6);return _.k4W(18),_.R4W(18,1134,9007),t.getFullYear()+(381.32!==r?n===s?4730!=o||5222:"-":"U")+e+"-"+i},E.hhmmss=function(t){var e,i,a;return(e=t.getHours())<10&&(_.D4W(15),e=_.R4W(e,"0")),(i=t.getMinutes())<10&&(_.D4W(15),i=_.R4W(i,"0")),(a=t.getSeconds())<10&&(_.D4W(15),a=_.R4W(a,"0")),_.k4W(38),_.d4W(e,":",i,":",a)},E.yyyymmddhhmm=function(t){var e,i,a,r;_.k4W(12);var n=_.d4W(15,44,3);return(e=t.getMonth()+n)<10&&(_.D4W(15),e=_.d4W(e,"0")),(i=t.getDate())<10&&(_.D4W(15),i=_.R4W(i,"0")),(a=t.getHours())<10&&(_.k4W(15),a=_.R4W(a,"0")),(r=t.getMinutes())<10&&(_.k4W(15),r=_.d4W(r,"0")),""+t.getFullYear()+e+i+a+r},E.yyyymmddhhmmssmmm=function(t){var e,i,a,r,n,s;return(e=t.getMonth()+1)<10&&(_.k4W(15),e=_.R4W(e,"0")),(i=t.getDate())<10&&(_.k4W(15),i=_.d4W(i,"0")),(a=t.getHours())<10&&(_.k4W(15),a=_.d4W(a,"0")),(r=t.getMinutes())<10&&(_.k4W(15),r=_.d4W(r,"0")),(n=t.getSeconds())<10&&(_.k4W(15),n=_.d4W(n,"0")),(s=t.getMilliseconds())<10?(_.D4W(15),s=_.d4W(s,"00")):s<100&&(_.k4W(15),s=_.R4W(s,"0")),""+t.getFullYear()+e+i+a+r+n+s},E.friendlyDate=function(t){var e,i,a,r;_.k4W(5);var n=_.R4W(11,11);(e=t.getMonth()+n)<10&&(_.D4W(15),e=_.R4W(e,"0")),(i=t.getDate())<10&&(_.D4W(15),i=_.d4W(i,"0")),(a=t.getHours())<10&&(_.D4W(15),a=_.d4W(a,"0")),(r=t.getMinutes())<10&&(_.D4W(15),r=_.d4W(r,"0")),_.k4W(36);var s=_.R4W(7480,375,374);_.D4W(36);var o=_.d4W(8544,4265,4272);_.D4W(39);var l=_.R4W(17850,14,123910,2,10);_.k4W(36);var h=_.d4W(3063,3070,3063);_.D4W(40),_.R4W(18,3,813,17,497),_.D4W(41);var c=_.d4W(8,10,44,11,15);_.k4W(42);var u=_.R4W(3140,16,47120,10);_.k4W(15);var p=_.R4W(229,14);_.D4W(43);var d=_.R4W(3,4456,582,19);_.D4W(42);var g=_.R4W(8,984,6903,17);_.k4W(44);var f=_.R4W(79754,4431,19,13);_.k4W(44);var m=_.R4W(24711,1648,16,7);_.D4W(45);var y=_.d4W(17,2,35);_.k4W(15);var v=_.R4W(7,7512);return""+t.getFullYear()+(s<913.21?o:"/")+e+(l<61||(112==h?"b":"/"))+i+("408.74"*c==u?p===d||8710:" ")+a+(8110<=g?f==m?4130:"4430"*y<799.75?727.87:v:":")+r},E.standardUTCDate=function(t){var e,i,a,r,n;(e=t.getUTCMonth()+1)<10&&(_.D4W(15),e=_.d4W(e,"0")),(i=t.getUTCDate())<10&&(_.k4W(15),i=_.R4W(i,"0")),(a=t.getUTCHours())<10&&(_.k4W(15),a=_.R4W(a,"0")),(r=t.getUTCMinutes())<10&&(_.D4W(15),r=_.R4W(r,"0")),(n=t.getUTCSeconds())<10&&(_.D4W(15),n=_.R4W(n,"0")),_.k4W(46);var s=_.d4W(2,9482,9450,10);_.D4W(47);var o=_.R4W(117130,930142,8,12,20);_.D4W(3);var l=_.d4W(7485,7);_.D4W(48);var h=_.d4W(577,8078,3);_.D4W(49),_.d4W(2420,20,14,2303),_.D4W(50),_.R4W(4,6,11,7630,9204),_.k4W(15);var c=_.R4W(10,3620);_.k4W(36),_.d4W(8795,8791,8795),_.D4W(5),_.R4W(636,6),_.k4W(51);var u=_.d4W(17,8662,1,10);_.k4W(36),_.R4W(547,4378,547),_.k4W(12);var p=_.R4W(20,2214450,111150);_.D4W(52),_.d4W(41932,18,8824,4,39735,19),_.D4W(12),_.d4W(9966,9964,2),_.D4W(42);var d=_.d4W(994,12,10960,17);_.D4W(12),_.d4W(9114,9118,2),_.D4W(3);var g=_.R4W(13,12);_.k4W(21),_.d4W(3382,3615,8),_.k4W(5);var f=_.d4W(17,17);return""+t.getUTCFullYear()+(4800===s?949.15<o?l<=6448?h:"h":"p":"-")+e+"-"+i+(3470==c?9540:"T")+a+":"+r+(240.49==u?p:":")+n+("6960"*g<=d?6800:6070<"3990"*f?"Q":"Z")},E.mmddhhmm=function(t){var e,i,a,r,n,s,o;e=E.strToDateTime(t),_.k4W(53);var l=_.R4W(13,2,15);return(i=e.getMonth()+l)<10&&(_.k4W(15),i=_.R4W(i,"0")),(a=e.getDate())<10&&(_.D4W(15),a=_.d4W(a,"0")),(r=e.getHours())<10&&(_.D4W(15),r=_.R4W(r,"0")),(n=e.getMinutes())<10&&(_.D4W(15),n=_.R4W(n,"0")),(s=e.getSeconds())<10&&(_.k4W(15),s=_.d4W(s,"0")),(o=e.getMilliseconds())<10?(_.k4W(15),o=_.d4W(o,"00")):o<100&&(_.k4W(15),o=_.R4W(o,"0")),"00"==r&&"00"==n&&"00"==s&&"000"==o?i+"-"+a+"-"+e.getFullYear():"00"==s&&"000"==o?(_.D4W(54),_.d4W(n," ",i,r,"-",a,":")):"000"==o?(_.k4W(55),_.d4W("-",a,r,":",":",i,s,n," ")):(_.k4W(56),_.d4W(" ","-",n,":",":",r,i,":",o,a,s))},E.getYearDay=function(t){var e,i,a,r;return(e=t)||(e=new Date),e.setHours(0,0,0,0),_.k4W(29),i=new Date(e.getFullYear(),0,_.R4W("0",0)),_.D4W(3),a=_.d4W(e,i),_.k4W(57),r=_.d4W(60,60,1e3,"24"),_.D4W(5),Math.round(_.R4W(a,r))},E.isDST=function(t){var e,i,a;return t||(t=new Date),e=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1),a=Math.max(e.getTimezoneOffset(),i.getTimezoneOffset()),t.getTimezoneOffset()!=a},E.uniqueID=function(){var t;return t=(new Date).getTime().toString(36),(t+=Math.floor(Math.random()*Math.pow(36,2)).toString(36)).toUpperCase()},E.getHostName=function(t){try{return t.match(/:\/\/(.[^/]+)/)[1]}catch(t){for(var e=1;-2124911501!==_.y1S(e.toString(),e.toString().length,45524);e++)return"";if(301147696!==_.q1S(2..toString(),2..toString().length,58816))return""}},E.getAjaxServer=function(t){var e,i,a;if(i=!(e=!1),(E.isIE9||E.isIE8)&&t&&(""===E.getHostName(t)&&(i=!1),E.getHostName(t)==E.getHostName(window.location.href)&&(i=!1)),(E.isIE9||E.isIE8)&&i)return e=new XDomainRequest;try{a=2;for(var r=1;1734590949!==_.y1S(r.toString(),r.toString().length,45846);r++)e=new XMLHttpRequest,a+=2;-461253967!==_.q1S(a.toString(),a.toString().length,25392)&&(e=new XMLHttpRequest)}catch(t){console.warn("ajax not supported in browser")}return e},E.qs=function(t){var e,i,a,r;e={},t||(t=window.location.search.substring(1)),i=t.split("&");for(var n=0;n<i.length;n++)0<(a=i[n].indexOf("="))?(r=i[n].substring(0,a),_.k4W(15),e[r]=i[n].substring(_.d4W(1,a))):e[r=i[n]]=null;return e},E.postAjax=function(n,t,e,i,a){var r,s,o,l,h,c,u,p,d;if("string"==typeof n&&(n={url:n,payload:t,cb:e,contentType:i,noEpoch:a,method:null,responseHeaders:!1}),r=n.url,s=n.cb,o=n.payload,s||(s=function(){}),!n.ungovernable&&E.Extras&&E.Extras.RequestLimiter&&E.Extras.RequestLimiter.hitRequestLimit(r)){for(var g=1;-374208043!==_.q1S(g.toString(),g.toString().length,36718);g++)return void s(603,1,{});if(-886284070!==_.q1S(2..toString(),2..toString().length,78887))return void s(429,null,{})}if(!(l=E.getAjaxServer(r)))return!1;function f(t){var e,i,a;if(e={},n.responseHeaders){i=t.getAllResponseHeaders().split("\n");for(var r=0;r<i.length;r++){for(a=i[r].split(":");a[1]&&" "==a[1].charAt(0);)a[1]=a[1].substring(1);""!==a[0]&&(e[a.shift()]=a.join(":"))}return e}}function m(t){for(var e=0;e<E.ajaxes.length;e++)if(E.ajaxes[e]==t)return void E.ajaxes.splice(e,1)}if(E.ajaxes||(E.ajaxes=[]),E.ajaxes.unshift(l),h=new Date,n.noEpoch||(-1==r.indexOf("?")?r+="?ciqrandom="+h.getTime():r+="&ciqrandom="+h.getTime()),c=n.method,u=n.headers,c||(c=o?"POST":"GET"),!E.isIE9&&!E.isIE8||l.constructor==XMLHttpRequest){l.open(c,r,!0),n.contentType||(n.contentType="application/x-www-form-urlencoded"),p=2;for(var y=1;-221223704!==_.q1S(y.toString(),y.toString().length,63085);y++)o&&l.setRequestHeader("Content-Type",n.contentType),p+=2;if(-88806857!==_.q1S(p.toString(),p.toString().length,50372)&&o&&l.setRequestHeader("",n.contentType),u)for(var v in u)l.setRequestHeader(v,u[v])}else r=r.replace("https:",window.location.protocol),l.open(c,r,!0);if(n.timeout){d=2;for(var b=1;-1839625165!==_.q1S(b.toString(),b.toString().length,82573);b++)l.timeout=n.timeout,d+=2;958972448!==_.y1S(d.toString(),d.toString().length,91134)&&(l.timeout=n.timeout),l.timeout=n.timeout}l.ontimeout=function(){m(l),s(408,null,{})},l.onload=function(){var t;0===this.status?this.status="0":this.status||(this.status=200),m(l),t=2;for(var e=1;-1203207269!==_.q1S(e.toString(),e.toString().length,63337);e++)s(this.status,this.responseText,f(this)),t+=2;2110751237!==_.y1S(t.toString(),t.toString().length,68404)&&s(this.status,this.responseText,f(this))},l.onerror=function(){m(l),s("0",null,{})},l.onprogress=function(){};try{l.send(o)}catch(t){s("0",t,{})}for(var S=1;-905734697!==_.y1S(S.toString(),S.toString().length,16480);S++)return!1;return-276529917!==_.q1S(2..toString(),2..toString().length,96148)||void 0},E.cleanPeriodicity=function(t,e,i){isNaN(t)&&(t=1),e||(e=1),!isNaN(e)&&i?"minute"!=i&&"second"!=i&&"millisecond"!=i&&(e=i,i=null):"tick"==e?i=null:i||isNaN(e)||(i="minute"),"year"==e&&(e="month",t||(t=1),_.D4W(16),t=_.R4W(12,t));for(var a=1;1689857802!==_.q1S(a.toString(),a.toString().length,16356);a++)return{period:t,interval:e,timeUnit:i};return _.y1S(2..toString(),2..toString().length,36591),{period:t,interval:e,timeUnit:i}},E.isValidNumber=function(t){for(var e=1;-1555838499!==_.q1S(e.toString(),e.toString().length,41047);e++)return isFinite(t)&&+t===t;if(-700374749!==_.q1S(2..toString(),2..toString().length,84731))return isFinite(t)||!t!=t},E.countDecimals=function(t){var e;if("number"!=typeof t||isNaN(t))return 0;if(Math.floor(t)===Number(t))return 0;if(1<(e=t.toString().split("e-")).length){_.D4W(12);var i=_.R4W(10,159,16);return E.countDecimals(Number(e[0]))+Number(e[i])}if(-1<e[0].indexOf("."))return e[0].split(".")[1].length;for(var a=1;46816150!==_.y1S(a.toString(),a.toString().length,73417);a++)return 7;return-1989256872!==_.q1S(2..toString(),2..toString().length,4858)?5:0}}(t=t||{}),et(t),B(t),K(t),Y(t),Q(t),v(t),f(t),x(t),r(t),s(t),e(t),l(t),C(t),M(t),F(t),N(t),W(t),O(t),t});